var T2=Object.defineProperty;var M2=(t,e,n)=>e in t?T2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var K=(t,e,n)=>M2(t,typeof e!="symbol"?e+"":e,n);function I2(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function P2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v_={exports:{}},Fu={},b_={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),A2=Symbol.for("react.portal"),L2=Symbol.for("react.fragment"),D2=Symbol.for("react.strict_mode"),O2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),z2=Symbol.for("react.context"),W2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),$2=Symbol.for("react.memo"),V2=Symbol.for("react.lazy"),Mp=Symbol.iterator;function U2(t){return t===null||typeof t!="object"?null:(t=Mp&&t[Mp]||t["@@iterator"],typeof t=="function"?t:null)}var w_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,E_={};function ya(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||w_}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j_(){}j_.prototype=ya.prototype;function vg(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||w_}var bg=vg.prototype=new j_;bg.constructor=vg;S_(bg,ya.prototype);bg.isPureReactComponent=!0;var Ip=Array.isArray,N_=Object.prototype.hasOwnProperty,wg={current:null},C_={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,n){var s,i={},r=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)N_.call(e,s)&&!C_.hasOwnProperty(s)&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:hl,type:t,key:r,ref:a,props:i,_owner:wg.current}}function G2(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function H2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pp=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H2(""+t.key):e.toString(36)}function Sc(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hl:case A2:a=!0}}if(a)return a=t,i=i(a),t=s===""?"."+Ah(a,0):s,Ip(i)?(n="",t!=null&&(n=t.replace(Pp,"$&/")+"/"),Sc(i,e,n,"",function(u){return u})):i!=null&&(Sg(i)&&(i=G2(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Pp,"$&/")+"/")+t)),e.push(i)),1;if(a=0,s=s===""?".":s+":",Ip(t))for(var o=0;o<t.length;o++){r=t[o];var l=s+Ah(r,o);a+=Sc(r,e,n,l,i)}else if(l=U2(t),typeof l=="function")for(t=l.call(t),o=0;!(r=t.next()).done;)r=r.value,l=s+Ah(r,o++),a+=Sc(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Al(t,e,n){if(t==null)return t;var s=[],i=0;return Sc(t,s,"","",function(r){return e.call(n,r,i++)}),s}function X2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Ec={transition:null},Y2={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:wg};function R_(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=ya;ee.Fragment=L2;ee.Profiler=O2;ee.PureComponent=vg;ee.StrictMode=D2;ee.Suspense=B2;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;ee.act=R_;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=S_({},t.props),i=t.key,r=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)N_.call(e,l)&&!C_.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:hl,type:t.type,key:i,ref:r,props:s,_owner:a}};ee.createContext=function(t){return t={$$typeof:z2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F2,_context:t},t.Consumer=t};ee.createElement=k_;ee.createFactory=function(t){var e=k_.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:W2,render:t}};ee.isValidElement=Sg;ee.lazy=function(t){return{$$typeof:V2,_payload:{_status:-1,_result:t},_init:X2}};ee.memo=function(t,e){return{$$typeof:$2,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Ec.transition;Ec.transition={};try{t()}finally{Ec.transition=e}};ee.unstable_act=R_;ee.useCallback=function(t,e){return bt.current.useCallback(t,e)};ee.useContext=function(t){return bt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return bt.current.useEffect(t,e)};ee.useId=function(){return bt.current.useId()};ee.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return bt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};ee.useRef=function(t){return bt.current.useRef(t)};ee.useState=function(t){return bt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return bt.current.useTransition()};ee.version="18.3.1";b_.exports=ee;var j=b_.exports;const _e=P2(j),K2=I2({__proto__:null,default:_e},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2=j,q2=Symbol.for("react.element"),J2=Symbol.for("react.fragment"),Q2=Object.prototype.hasOwnProperty,eS=Z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tS={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var s,i={},r=null,a=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)Q2.call(e,s)&&!tS.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:q2,type:t,key:r,ref:a,props:i,_owner:eS.current}}Fu.Fragment=J2;Fu.jsx=T_;Fu.jsxs=T_;v_.exports=Fu;var c=v_.exports,M_={exports:{}},Ut={},I_={exports:{}},P_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,P){var F=R.length;R.push(P);e:for(;0<F;){var H=F-1>>>1,M=R[H];if(0<i(M,P))R[H]=P,R[F]=M,F=H;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var P=R[0],F=R.pop();if(F!==P){R[0]=F;e:for(var H=0,M=R.length,xe=M>>>1;H<xe;){var ae=2*(H+1)-1,oe=R[ae],fe=ae+1,Pe=R[fe];if(0>i(oe,F))fe<M&&0>i(Pe,oe)?(R[H]=Pe,R[fe]=F,H=fe):(R[H]=oe,R[ae]=F,H=ae);else if(fe<M&&0>i(Pe,F))R[H]=Pe,R[fe]=F,H=fe;else break e}}return P}function i(R,P){var F=R.sortIndex-P.sortIndex;return F!==0?F:R.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,g=!1,m=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var P=n(u);P!==null;){if(P.callback===null)s(u);else if(P.startTime<=R)s(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function b(R){if(p=!1,v(R),!m)if(n(l)!==null)m=!0,z(w);else{var P=n(u);P!==null&&B(b,P.startTime-R)}}function w(R,P){m=!1,p&&(p=!1,x(E),E=-1),g=!0;var F=f;try{for(v(P),d=n(l);d!==null&&(!(d.expirationTime>P)||R&&!I());){var H=d.callback;if(typeof H=="function"){d.callback=null,f=d.priorityLevel;var M=H(d.expirationTime<=P);P=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&s(l),v(P)}else s(l);d=n(l)}if(d!==null)var xe=!0;else{var ae=n(u);ae!==null&&B(b,ae.startTime-P),xe=!1}return xe}finally{d=null,f=F,g=!1}}var N=!1,S=null,E=-1,C=5,k=-1;function I(){return!(t.unstable_now()-k<C)}function A(){if(S!==null){var R=t.unstable_now();k=R;var P=!0;try{P=S(!0,R)}finally{P?D():(N=!1,S=null)}}else N=!1}var D;if(typeof y=="function")D=function(){y(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,W=O.port2;O.port1.onmessage=A,D=function(){W.postMessage(null)}}else D=function(){_(A,0)};function z(R){S=R,N||(N=!0,D())}function B(R,P){E=_(function(){R(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,z(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var F=f;f=P;try{return R()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return P()}finally{f=F}},t.unstable_scheduleCallback=function(R,P,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,R={id:h++,callback:P,priorityLevel:R,startTime:F,expirationTime:M,sortIndex:-1},F>H?(R.sortIndex=F,e(u,R),n(l)===null&&R===n(u)&&(p?(x(E),E=-1):p=!0,B(b,F-H))):(R.sortIndex=M,e(l,R),m||g||(m=!0,z(w))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var P=f;return function(){var F=f;f=P;try{return R.apply(this,arguments)}finally{f=F}}}})(P_);I_.exports=P_;var nS=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=j,Vt=nS;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A_=new Set,Ro={};function sr(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(Ro[t]=e,t=0;t<e.length;t++)A_.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,iS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ap={},Lp={};function rS(t){return Yd.call(Lp,t)?!0:Yd.call(Ap,t)?!1:iS.test(t)?Lp[t]=!0:(Ap[t]=!0,!1)}function aS(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oS(t,e,n,s){if(e===null||typeof e>"u"||aS(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,s,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eg,jg);st[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eg,jg);st[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eg,jg);st[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ng(t,e,n,s){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oS(e,n,i,s)&&(n=null),s||i===null?rS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var ws=sS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),qd=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),Dp=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=Dp&&t[Dp]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Lh;function qa(t){if(Lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lh=e&&e[1]||""}return`
`+Lh+t}var Dh=!1;function Oh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==r[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function lS(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Jd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case Cr:return"Portal";case Kd:return"Profiler";case Cg:return"StrictMode";case Zd:return"Suspense";case qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D_:return(t.displayName||"Context")+".Consumer";case L_:return(t._context.displayName||"Context")+".Provider";case kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rg:return e=t.displayName||null,e!==null?e:Jd(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return Jd(t(e))}catch{}}return null}function cS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jd(e);case 8:return e===Cg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function F_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uS(t){var e=F_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=uS(t))}function z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=F_(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qd(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Op(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W_(t,e){e=e.checked,e!=null&&Ng(t,"checked",e,!1)}function ef(t,e){W_(t,e);var n=oi(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function $r(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Ja(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function B_(t,e){var n=oi(e.value),s=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ol,V_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ol=Ol||document.createElement("div"),Ol.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hS=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(t){hS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),go[e]=go[t]})});function U_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||go.hasOwnProperty(t)&&go[t]?(""+e).trim():e+"px"}function G_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=U_(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var dS=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if(dS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,Vr=null,Ur=null;function Bp(t){if(t=gl(t)){if(typeof lf!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Vu(e),lf(t.stateNode,t.type,e))}}function H_(t){Vr?Ur?Ur.push(t):Ur=[t]:Vr=t}function X_(){if(Vr){var t=Vr,e=Ur;if(Ur=Vr=null,Bp(t),e)for(t=0;t<e.length;t++)Bp(e[t])}}function Y_(t,e){return t(e)}function K_(){}var Fh=!1;function Z_(t,e,n){if(Fh)return t(e,n);Fh=!0;try{return Y_(t,e,n)}finally{Fh=!1,(Vr!==null||Ur!==null)&&(K_(),X_())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var s=Vu(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var cf=!1;if(ms)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{cf=!1}function fS(t,e,n,s,i,r,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var mo=!1,$c=null,Vc=!1,uf=null,gS={onError:function(t){mo=!0,$c=t}};function mS(t,e,n,s,i,r,a,o,l){mo=!1,$c=null,fS.apply(gS,arguments)}function pS(t,e,n,s,i,r,a,o,l){if(mS.apply(this,arguments),mo){if(mo){var u=$c;mo=!1,$c=null}else throw Error(L(198));Vc||(Vc=!0,uf=u)}}function ir(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $p(t){if(ir(t)!==t)throw Error(L(188))}function xS(t){var e=t.alternate;if(!e){if(e=ir(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return $p(i),t;if(r===s)return $p(i),e;r=r.sibling}throw Error(L(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function J_(t){return t=xS(t),t!==null?Q_(t):null}function Q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q_(t);if(e!==null)return e;t=t.sibling}return null}var e1=Vt.unstable_scheduleCallback,Vp=Vt.unstable_cancelCallback,yS=Vt.unstable_shouldYield,_S=Vt.unstable_requestPaint,Ae=Vt.unstable_now,vS=Vt.unstable_getCurrentPriorityLevel,Mg=Vt.unstable_ImmediatePriority,t1=Vt.unstable_UserBlockingPriority,Uc=Vt.unstable_NormalPriority,bS=Vt.unstable_LowPriority,n1=Vt.unstable_IdlePriority,zu=null,$n=null;function wS(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:jS,SS=Math.log,ES=Math.LN2;function jS(t){return t>>>=0,t===0?32:31-(SS(t)/ES|0)|0}var Fl=64,zl=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?s=Qa(o):(r&=a,r!==0&&(s=Qa(r)))}else a=n&~i,a!==0?s=Qa(a):r!==0&&(s=Qa(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Sn(e),i=1<<n,s|=t[n],e&=~i;return s}function NS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-Sn(r),o=1<<a,l=i[a];l===-1?(!(o&n)||o&s)&&(i[a]=NS(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}function hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s1(){var t=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),t}function zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function kS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Sn(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var pe=0;function i1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r1,Pg,a1,o1,l1,df=!1,Wl=[],Ys=null,Ks=null,Zs=null,Io=new Map,Po=new Map,zs=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Up(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function La(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&Pg(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TS(t,e,n,s,i){switch(e){case"focusin":return Ys=La(Ys,t,e,n,s,i),!0;case"dragenter":return Ks=La(Ks,t,e,n,s,i),!0;case"mouseover":return Zs=La(Zs,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Io.set(r,La(Io.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Po.set(r,La(Po.get(r)||null,t,e,n,s,i)),!0}return!1}function c1(t){var e=Mi(t.target);if(e!==null){var n=ir(e);if(n!==null){if(e=n.tag,e===13){if(e=q_(n),e!==null){t.blockedOn=e,l1(t.priority,function(){a1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);of=s,n.target.dispatchEvent(s),of=null}else return e=gl(n),e!==null&&Pg(e),t.blockedOn=n,!1;e.shift()}return!0}function Gp(t,e,n){jc(t)&&n.delete(e)}function MS(){df=!1,Ys!==null&&jc(Ys)&&(Ys=null),Ks!==null&&jc(Ks)&&(Ks=null),Zs!==null&&jc(Zs)&&(Zs=null),Io.forEach(Gp),Po.forEach(Gp)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,MS)))}function Ao(t){function e(i){return Da(i,t)}if(0<Wl.length){Da(Wl[0],t);for(var n=1;n<Wl.length;n++){var s=Wl[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Ys!==null&&Da(Ys,t),Ks!==null&&Da(Ks,t),Zs!==null&&Da(Zs,t),Io.forEach(e),Po.forEach(e),n=0;n<zs.length;n++)s=zs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)c1(n),n.blockedOn===null&&zs.shift()}var Gr=ws.ReactCurrentBatchConfig,Hc=!0;function IS(t,e,n,s){var i=pe,r=Gr.transition;Gr.transition=null;try{pe=1,Ag(t,e,n,s)}finally{pe=i,Gr.transition=r}}function PS(t,e,n,s){var i=pe,r=Gr.transition;Gr.transition=null;try{pe=4,Ag(t,e,n,s)}finally{pe=i,Gr.transition=r}}function Ag(t,e,n,s){if(Hc){var i=ff(t,e,n,s);if(i===null)Kh(t,e,s,Xc,n),Up(t,s);else if(TS(i,t,e,n,s))s.stopPropagation();else if(Up(t,s),e&4&&-1<RS.indexOf(t)){for(;i!==null;){var r=gl(i);if(r!==null&&r1(r),r=ff(t,e,n,s),r===null&&Kh(t,e,s,Xc,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Kh(t,e,s,null,n)}}var Xc=null;function ff(t,e,n,s){if(Xc=null,t=Tg(s),t=Mi(t),t!==null)if(e=ir(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xc=t,null}function u1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vS()){case Mg:return 1;case t1:return 4;case Uc:case bS:return 16;case n1:return 536870912;default:return 16}default:return 16}}var $s=null,Lg=null,Nc=null;function h1(){if(Nc)return Nc;var t,e=Lg,n=e.length,s,i="value"in $s?$s.value:$s.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[r-s];s++);return Nc=i.slice(t,1<s?1-s:void 0)}function Cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function Hp(){return!1}function Gt(t){function e(n,s,i,r,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bl:Hp,this.isPropagationStopped=Hp,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=Gt(_a),fl=Re({},_a,{view:0,detail:0}),AS=Gt(fl),Wh,Bh,Oa,Wu=Re({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Wh=t.screenX-Oa.screenX,Bh=t.screenY-Oa.screenY):Bh=Wh=0,Oa=t),Wh)},movementY:function(t){return"movementY"in t?t.movementY:Bh}}),Xp=Gt(Wu),LS=Re({},Wu,{dataTransfer:0}),DS=Gt(LS),OS=Re({},fl,{relatedTarget:0}),$h=Gt(OS),FS=Re({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),zS=Gt(FS),WS=Re({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BS=Gt(WS),$S=Re({},_a,{data:0}),Yp=Gt($S),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GS[t])?!!e[t]:!1}function Og(){return HS}var XS=Re({},fl,{key:function(t){if(t.key){var e=VS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?US[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YS=Gt(XS),KS=Re({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kp=Gt(KS),ZS=Re({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),qS=Gt(ZS),JS=Re({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),QS=Gt(JS),eE=Re({},Wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=Gt(eE),nE=[9,13,27,32],Fg=ms&&"CompositionEvent"in window,po=null;ms&&"documentMode"in document&&(po=document.documentMode);var sE=ms&&"TextEvent"in window&&!po,d1=ms&&(!Fg||po&&8<po&&11>=po),Zp=" ",qp=!1;function f1(t,e){switch(t){case"keyup":return nE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rr=!1;function iE(t,e){switch(t){case"compositionend":return g1(e);case"keypress":return e.which!==32?null:(qp=!0,Zp);case"textInput":return t=e.data,t===Zp&&qp?null:t;default:return null}}function rE(t,e){if(Rr)return t==="compositionend"||!Fg&&f1(t,e)?(t=h1(),Nc=Lg=$s=null,Rr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d1&&e.locale!=="ko"?null:e.data;default:return null}}var aE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aE[t.type]:e==="textarea"}function m1(t,e,n,s){H_(s),e=Yc(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var xo=null,Lo=null;function oE(t){N1(t,0)}function Bu(t){var e=Ir(t);if(z_(e))return t}function lE(t,e){if(t==="change")return e}var p1=!1;if(ms){var Vh;if(ms){var Uh="oninput"in document;if(!Uh){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Uh=typeof Qp.oninput=="function"}Vh=Uh}else Vh=!1;p1=Vh&&(!document.documentMode||9<document.documentMode)}function ex(){xo&&(xo.detachEvent("onpropertychange",x1),Lo=xo=null)}function x1(t){if(t.propertyName==="value"&&Bu(Lo)){var e=[];m1(e,Lo,t,Tg(t)),Z_(oE,e)}}function cE(t,e,n){t==="focusin"?(ex(),xo=e,Lo=n,xo.attachEvent("onpropertychange",x1)):t==="focusout"&&ex()}function uE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Lo)}function hE(t,e){if(t==="click")return Bu(e)}function dE(t,e){if(t==="input"||t==="change")return Bu(e)}function fE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:fE;function Do(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Yd.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function tx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nx(t,e){var n=tx(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tx(n)}}function y1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _1(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gE(t){var e=_1(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y1(n.ownerDocument.documentElement,n)){if(s!==null&&zg(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=nx(n,r);var a=nx(n,s);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mE=ms&&"documentMode"in document&&11>=document.documentMode,Tr=null,gf=null,yo=null,mf=!1;function sx(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Tr==null||Tr!==Bc(s)||(s=Tr,"selectionStart"in s&&zg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yo&&Do(yo,s)||(yo=s,s=Yc(gf,"onSelect"),0<s.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Tr)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mr={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},Gh={},v1={};ms&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function $u(t){if(Gh[t])return Gh[t];if(!Mr[t])return t;var e=Mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v1)return Gh[t]=e[n];return t}var b1=$u("animationend"),w1=$u("animationiteration"),S1=$u("animationstart"),E1=$u("transitionend"),j1=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){j1.set(t,e),sr(e,[t])}for(var Hh=0;Hh<ix.length;Hh++){var Xh=ix[Hh],pE=Xh.toLowerCase(),xE=Xh[0].toUpperCase()+Xh.slice(1);fi(pE,"on"+xE)}fi(b1,"onAnimationEnd");fi(w1,"onAnimationIteration");fi(S1,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(E1,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function rx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,pS(s,e,void 0,t),t.currentTarget=null}function N1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;rx(i,o,u),r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;rx(i,o,u),r=l}}}if(Vc)throw t=uf,Vc=!1,uf=null,t}function be(t,e){var n=e[vf];n===void 0&&(n=e[vf]=new Set);var s=t+"__bubble";n.has(s)||(C1(e,t,2,!1),n.add(s))}function Yh(t,e,n){var s=0;e&&(s|=4),C1(n,t,s,e)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Vl]){t[Vl]=!0,A_.forEach(function(n){n!=="selectionchange"&&(yE.has(n)||Yh(n,!1,t),Yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vl]||(e[Vl]=!0,Yh("selectionchange",!1,e))}}function C1(t,e,n,s){switch(u1(e)){case 1:var i=IS;break;case 4:i=PS;break;default:i=Ag}n=i.bind(null,e,n,t),i=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kh(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Mi(o),a===null)return;if(l=a.tag,l===5||l===6){s=r=a;continue e}o=o.parentNode}}s=s.return}Z_(function(){var u=r,h=Tg(n),d=[];e:{var f=j1.get(t);if(f!==void 0){var g=Dg,m=t;switch(t){case"keypress":if(Cc(n)===0)break e;case"keydown":case"keyup":g=YS;break;case"focusin":m="focus",g=$h;break;case"focusout":m="blur",g=$h;break;case"beforeblur":case"afterblur":g=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qS;break;case b1:case w1:case S1:g=zS;break;case E1:g=QS;break;case"scroll":g=AS;break;case"wheel":g=tE;break;case"copy":case"cut":case"paste":g=BS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Kp}var p=(e&4)!==0,_=!p&&t==="scroll",x=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,v;y!==null;){v=y;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,x!==null&&(b=Mo(y,x),b!=null&&p.push(Fo(y,b,v)))),_)break;y=y.return}0<p.length&&(f=new g(f,m,null,n,h),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==of&&(m=n.relatedTarget||n.fromElement)&&(Mi(m)||m[ps]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=u,m=m?Mi(m):null,m!==null&&(_=ir(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(p=Xp,b="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=Kp,b="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?f:Ir(g),v=m==null?f:Ir(m),f=new p(b,y+"leave",g,n,h),f.target=_,f.relatedTarget=v,b=null,Mi(h)===u&&(p=new p(x,y+"enter",m,n,h),p.target=v,p.relatedTarget=_,b=p),_=b,g&&m)t:{for(p=g,x=m,y=0,v=p;v;v=fr(v))y++;for(v=0,b=x;b;b=fr(b))v++;for(;0<y-v;)p=fr(p),y--;for(;0<v-y;)x=fr(x),v--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=fr(p),x=fr(x)}p=null}else p=null;g!==null&&ax(d,f,g,p,!1),m!==null&&_!==null&&ax(d,_,m,p,!0)}}e:{if(f=u?Ir(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var w=lE;else if(Jp(f))if(p1)w=dE;else{w=uE;var N=cE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=hE);if(w&&(w=w(t,u))){m1(d,w,n,h);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&tf(f,"number",f.value)}switch(N=u?Ir(u):window,t){case"focusin":(Jp(N)||N.contentEditable==="true")&&(Tr=N,gf=u,yo=null);break;case"focusout":yo=gf=Tr=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,sx(d,n,h);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":sx(d,n,h)}var S;if(Fg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Rr?f1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(d1&&n.locale!=="ko"&&(Rr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Rr&&(S=h1()):($s=h,Lg="value"in $s?$s.value:$s.textContent,Rr=!0)),N=Yc(u,E),0<N.length&&(E=new Yp(E,t,null,n,h),d.push({event:E,listeners:N}),S?E.data=S:(S=g1(n),S!==null&&(E.data=S)))),(S=sE?iE(t,n):rE(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(h=new Yp("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}N1(d,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Mo(t,n),r!=null&&s.unshift(Fo(t,r,i)),r=Mo(t,e),r!=null&&s.push(Fo(t,r,i))),t=t.return}return s}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ax(t,e,n,s,i){for(var r=e._reactName,a=[];n!==null&&n!==s;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&u!==null&&(o=u,i?(l=Mo(n,r),l!=null&&a.unshift(Fo(n,l,o))):i||(l=Mo(n,r),l!=null&&a.push(Fo(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var _E=/\r\n?/g,vE=/\u0000|\uFFFD/g;function ox(t){return(typeof t=="string"?t:""+t).replace(_E,`
`).replace(vE,"")}function Ul(t,e,n){if(e=ox(e),ox(t)!==e&&n)throw Error(L(425))}function Kc(){}var pf=null,xf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,wE=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(t){return lx.resolve(null).then(t).catch(SE)}:_f;function SE(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Ao(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ao(e)}function qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),On="__reactFiber$"+va,zo="__reactProps$"+va,ps="__reactContainer$"+va,vf="__reactEvents$"+va,EE="__reactListeners$"+va,jE="__reactHandles$"+va;function Mi(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cx(t);t!==null;){if(n=t[On])return n;t=cx(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[On]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Vu(t){return t[zo]||null}var bf=[],Pr=-1;function gi(t){return{current:t}}function Se(t){0>Pr||(t.current=bf[Pr],bf[Pr]=null,Pr--)}function ve(t,e){Pr++,bf[Pr]=t.current,t.current=e}var li={},gt=gi(li),Lt=gi(!1),Ui=li;function sa(t,e){var n=t.type.contextTypes;if(!n)return li;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(t){return t=t.childContextTypes,t!=null}function Zc(){Se(Lt),Se(gt)}function ux(t,e,n){if(gt.current!==li)throw Error(L(168));ve(gt,e),ve(Lt,n)}function k1(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(L(108,cS(t)||"Unknown",i));return Re({},n,s)}function qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Ui=gt.current,ve(gt,t),ve(Lt,Lt.current),!0}function hx(t,e,n){var s=t.stateNode;if(!s)throw Error(L(169));n?(t=k1(t,e,Ui),s.__reactInternalMemoizedMergedChildContext=t,Se(Lt),Se(gt),ve(gt,t)):Se(Lt),ve(Lt,n)}var is=null,Uu=!1,qh=!1;function R1(t){is===null?is=[t]:is.push(t)}function NE(t){Uu=!0,R1(t)}function mi(){if(!qh&&is!==null){qh=!0;var t=0,e=pe;try{var n=is;for(pe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}is=null,Uu=!1}catch(i){throw is!==null&&(is=is.slice(t+1)),e1(Mg,mi),i}finally{pe=e,qh=!1}}return null}var Ar=[],Lr=0,Jc=null,Qc=0,Qt=[],en=0,Gi=null,os=1,ls="";function Ci(t,e){Ar[Lr++]=Qc,Ar[Lr++]=Jc,Jc=t,Qc=e}function T1(t,e,n){Qt[en++]=os,Qt[en++]=ls,Qt[en++]=Gi,Gi=t;var s=os;t=ls;var i=32-Sn(s)-1;s&=~(1<<i),n+=1;var r=32-Sn(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,os=1<<32-Sn(e)+i|n<<i|s,ls=r+t}else os=1<<r|n<<i|s,ls=t}function Wg(t){t.return!==null&&(Ci(t,1),T1(t,1,0))}function Bg(t){for(;t===Jc;)Jc=Ar[--Lr],Ar[Lr]=null,Qc=Ar[--Lr],Ar[Lr]=null;for(;t===Gi;)Gi=Qt[--en],Qt[en]=null,ls=Qt[--en],Qt[en]=null,os=Qt[--en],Qt[en]=null}var $t=null,Bt=null,Ee=!1,vn=null;function M1(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Bt=qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gi!==null?{id:os,overflow:ls}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Bt=null,!0):!1;default:return!1}}function wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sf(t){if(Ee){var e=Bt;if(e){var n=e;if(!dx(t,e)){if(wf(t))throw Error(L(418));e=qs(n.nextSibling);var s=$t;e&&dx(t,e)?M1(s,n):(t.flags=t.flags&-4097|2,Ee=!1,$t=t)}}else{if(wf(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ee=!1,$t=t}}}function fx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Gl(t){if(t!==$t)return!1;if(!Ee)return fx(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=Bt)){if(wf(t))throw I1(),Error(L(418));for(;e;)M1(t,e),e=qs(e.nextSibling)}if(fx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=qs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=$t?qs(t.stateNode.nextSibling):null;return!0}function I1(){for(var t=Bt;t;)t=qs(t.nextSibling)}function ia(){Bt=$t=null,Ee=!1}function $g(t){vn===null?vn=[t]:vn.push(t)}var CE=ws.ReactCurrentBatchConfig;function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=i.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Hl(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gx(t){var e=t._init;return e(t._payload)}function P1(t){function e(x,y){if(t){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function s(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ti(x,y),x.index=0,x.sibling=null,x}function r(x,y,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,v,b){return y===null||y.tag!==6?(y=id(v,x.mode,b),y.return=x,y):(y=i(y,v),y.return=x,y)}function l(x,y,v,b){var w=v.type;return w===kr?h(x,y,v.props.children,b,v.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ds&&gx(w)===y.type)?(b=i(y,v.props),b.ref=Fa(x,y,v),b.return=x,b):(b=Ac(v.type,v.key,v.props,null,x.mode,b),b.ref=Fa(x,y,v),b.return=x,b)}function u(x,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=rd(v,x.mode,b),y.return=x,y):(y=i(y,v.children||[]),y.return=x,y)}function h(x,y,v,b,w){return y===null||y.tag!==7?(y=Bi(v,x.mode,b,w),y.return=x,y):(y=i(y,v),y.return=x,y)}function d(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=id(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ll:return v=Ac(y.type,y.key,y.props,null,x.mode,v),v.ref=Fa(x,null,y),v.return=x,v;case Cr:return y=rd(y,x.mode,v),y.return=x,y;case Ds:var b=y._init;return d(x,b(y._payload),v)}if(Ja(y)||Pa(y))return y=Bi(y,x.mode,v,null),y.return=x,y;Hl(x,y)}return null}function f(x,y,v,b){var w=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:o(x,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ll:return v.key===w?l(x,y,v,b):null;case Cr:return v.key===w?u(x,y,v,b):null;case Ds:return w=v._init,f(x,y,w(v._payload),b)}if(Ja(v)||Pa(v))return w!==null?null:h(x,y,v,b,null);Hl(x,v)}return null}function g(x,y,v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(v)||null,o(y,x,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ll:return x=x.get(b.key===null?v:b.key)||null,l(y,x,b,w);case Cr:return x=x.get(b.key===null?v:b.key)||null,u(y,x,b,w);case Ds:var N=b._init;return g(x,y,v,N(b._payload),w)}if(Ja(b)||Pa(b))return x=x.get(v)||null,h(y,x,b,w,null);Hl(y,b)}return null}function m(x,y,v,b){for(var w=null,N=null,S=y,E=y=0,C=null;S!==null&&E<v.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var k=f(x,S,v[E],b);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(x,S),y=r(k,y,E),N===null?w=k:N.sibling=k,N=k,S=C}if(E===v.length)return n(x,S),Ee&&Ci(x,E),w;if(S===null){for(;E<v.length;E++)S=d(x,v[E],b),S!==null&&(y=r(S,y,E),N===null?w=S:N.sibling=S,N=S);return Ee&&Ci(x,E),w}for(S=s(x,S);E<v.length;E++)C=g(S,x,E,v[E],b),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),y=r(C,y,E),N===null?w=C:N.sibling=C,N=C);return t&&S.forEach(function(I){return e(x,I)}),Ee&&Ci(x,E),w}function p(x,y,v,b){var w=Pa(v);if(typeof w!="function")throw Error(L(150));if(v=w.call(v),v==null)throw Error(L(151));for(var N=w=null,S=y,E=y=0,C=null,k=v.next();S!==null&&!k.done;E++,k=v.next()){S.index>E?(C=S,S=null):C=S.sibling;var I=f(x,S,k.value,b);if(I===null){S===null&&(S=C);break}t&&S&&I.alternate===null&&e(x,S),y=r(I,y,E),N===null?w=I:N.sibling=I,N=I,S=C}if(k.done)return n(x,S),Ee&&Ci(x,E),w;if(S===null){for(;!k.done;E++,k=v.next())k=d(x,k.value,b),k!==null&&(y=r(k,y,E),N===null?w=k:N.sibling=k,N=k);return Ee&&Ci(x,E),w}for(S=s(x,S);!k.done;E++,k=v.next())k=g(S,x,E,k.value,b),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),y=r(k,y,E),N===null?w=k:N.sibling=k,N=k);return t&&S.forEach(function(A){return e(x,A)}),Ee&&Ci(x,E),w}function _(x,y,v,b){if(typeof v=="object"&&v!==null&&v.type===kr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ll:e:{for(var w=v.key,N=y;N!==null;){if(N.key===w){if(w=v.type,w===kr){if(N.tag===7){n(x,N.sibling),y=i(N,v.props.children),y.return=x,x=y;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ds&&gx(w)===N.type){n(x,N.sibling),y=i(N,v.props),y.ref=Fa(x,N,v),y.return=x,x=y;break e}n(x,N);break}else e(x,N);N=N.sibling}v.type===kr?(y=Bi(v.props.children,x.mode,b,v.key),y.return=x,x=y):(b=Ac(v.type,v.key,v.props,null,x.mode,b),b.ref=Fa(x,y,v),b.return=x,x=b)}return a(x);case Cr:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(x,y.sibling),y=i(y,v.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=rd(v,x.mode,b),y.return=x,x=y}return a(x);case Ds:return N=v._init,_(x,y,N(v._payload),b)}if(Ja(v))return m(x,y,v,b);if(Pa(v))return p(x,y,v,b);Hl(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,v),y.return=x,x=y):(n(x,y),y=id(v,x.mode,b),y.return=x,x=y),a(x)):n(x,y)}return _}var ra=P1(!0),A1=P1(!1),eu=gi(null),tu=null,Dr=null,Vg=null;function Ug(){Vg=Dr=tu=null}function Gg(t){var e=eu.current;Se(eu),t._currentValue=e}function Ef(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Hr(t,e){tu=t,Vg=Dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Vg!==t)if(t={context:t,memoizedValue:e,next:null},Dr===null){if(tu===null)throw Error(L(308));Dr=t,tu.dependencies={lanes:0,firstContext:t}}else Dr=Dr.next=t;return e}var Ii=null;function Hg(t){Ii===null?Ii=[t]:Ii.push(t)}function L1(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,xs(t,s)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Os=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,xs(t,n)}return i=s.interleaved,i===null?(e.next=e,Hg(s)):(e.next=i.next,i.next=e),s.interleaved=e,xs(t,n)}function kc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ig(t,n)}}function mx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nu(t,e,n,s){var i=t.updateQueue;Os=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?r=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;a=0,h=u=l=null,o=r;do{var f=o.lane,g=o.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=Re({},d,f);break e;case 2:Os=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Xi|=a,t.lanes=a,t.memoizedState=d}}function px(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(L(191,i));i.call(s)}}}var ml={},Vn=gi(ml),Wo=gi(ml),Bo=gi(ml);function Pi(t){if(t===ml)throw Error(L(174));return t}function Yg(t,e){switch(ve(Bo,e),ve(Wo,t),ve(Vn,ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sf(e,t)}Se(Vn),ve(Vn,e)}function aa(){Se(Vn),Se(Wo),Se(Bo)}function O1(t){Pi(Bo.current);var e=Pi(Vn.current),n=sf(e,t.type);e!==n&&(ve(Wo,t),ve(Vn,n))}function Kg(t){Wo.current===t&&(Se(Vn),Se(Wo))}var Ne=gi(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jh=[];function Zg(){for(var t=0;t<Jh.length;t++)Jh[t]._workInProgressVersionPrimary=null;Jh.length=0}var Rc=ws.ReactCurrentDispatcher,Qh=ws.ReactCurrentBatchConfig,Hi=0,ke=null,Ve=null,Ze=null,iu=!1,_o=!1,$o=0,kE=0;function rt(){throw Error(L(321))}function qg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Jg(t,e,n,s,i,r){if(Hi=r,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rc.current=t===null||t.memoizedState===null?IE:PE,t=n(s,i),_o){r=0;do{if(_o=!1,$o=0,25<=r)throw Error(L(301));r+=1,Ze=Ve=null,e.updateQueue=null,Rc.current=AE,t=n(s,i)}while(_o)}if(Rc.current=ru,e=Ve!==null&&Ve.next!==null,Hi=0,Ze=Ve=ke=null,iu=!1,e)throw Error(L(300));return t}function Qg(){var t=$o!==0;return $o=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function un(){if(Ve===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=Ze===null?ke.memoizedState:Ze.next;if(e!==null)Ze=e,Ve=t;else{if(t===null)throw Error(L(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Vo(t,e){return typeof e=="function"?e(t):e}function ed(t){var e=un(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var s=Ve,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var o=a=null,l=null,u=r;do{var h=u.lane;if((Hi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=s):l=l.next=d,ke.lanes|=h,Xi|=h}u=u.next}while(u!==null&&u!==r);l===null?a=s:l.next=o,Nn(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ke.lanes|=r,Xi|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function td(t){var e=un(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do r=t(r,a.action),a=a.next;while(a!==i);Nn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function F1(){}function z1(t,e){var n=ke,s=un(),i=e(),r=!Nn(s.memoizedState,i);if(r&&(s.memoizedState=i,It=!0),s=s.queue,em($1.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Uo(9,B1.bind(null,n,s,i,e),void 0,null),Qe===null)throw Error(L(349));Hi&30||W1(n,e,i)}return i}function W1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B1(t,e,n,s){e.value=n,e.getSnapshot=s,V1(e)&&U1(t)}function $1(t,e,n){return n(function(){V1(e)&&U1(t)})}function V1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function U1(t){var e=xs(t,1);e!==null&&En(e,t,1,-1)}function xx(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},e.queue=t,t=t.dispatch=ME.bind(null,ke,t),[e.memoizedState,t]}function Uo(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function G1(){return un().memoizedState}function Tc(t,e,n,s){var i=Ln();ke.flags|=t,i.memoizedState=Uo(1|e,n,void 0,s===void 0?null:s)}function Gu(t,e,n,s){var i=un();s=s===void 0?null:s;var r=void 0;if(Ve!==null){var a=Ve.memoizedState;if(r=a.destroy,s!==null&&qg(s,a.deps)){i.memoizedState=Uo(e,n,r,s);return}}ke.flags|=t,i.memoizedState=Uo(1|e,n,r,s)}function yx(t,e){return Tc(8390656,8,t,e)}function em(t,e){return Gu(2048,8,t,e)}function H1(t,e){return Gu(4,2,t,e)}function X1(t,e){return Gu(4,4,t,e)}function Y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K1(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4,4,Y1.bind(null,e,t),n)}function tm(){}function Z1(t,e){var n=un();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&qg(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function q1(t,e){var n=un();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&qg(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function J1(t,e,n){return Hi&21?(Nn(n,e)||(n=s1(),ke.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function RE(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var s=Qh.transition;Qh.transition={};try{t(!1),e()}finally{pe=n,Qh.transition=s}}function Q1(){return un().memoizedState}function TE(t,e,n){var s=ei(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},ev(t))tv(e,n);else if(n=L1(t,e,n,s),n!==null){var i=_t();En(n,t,s,i),nv(n,e,s)}}function ME(t,e,n){var s=ei(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(ev(t))tv(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,n);if(i.hasEagerState=!0,i.eagerState=o,Nn(o,a)){var l=e.interleaved;l===null?(i.next=i,Hg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=L1(t,e,i,s),n!==null&&(i=_t(),En(n,t,s,i),nv(n,e,s))}}function ev(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function tv(t,e){_o=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nv(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ig(t,n)}}var ru={readContext:cn,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},IE={readContext:cn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:yx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4194308,4,Y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ln();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=TE.bind(null,ke,t),[s.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:xx,useDebugValue:tm,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=xx(!1),e=t[0];return t=RE.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ke,i=Ln();if(Ee){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Qe===null)throw Error(L(349));Hi&30||W1(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,yx($1.bind(null,s,r,t),[t]),s.flags|=2048,Uo(9,B1.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Ln(),e=Qe.identifierPrefix;if(Ee){var n=ls,s=os;n=(s&~(1<<32-Sn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PE={readContext:cn,useCallback:Z1,useContext:cn,useEffect:em,useImperativeHandle:K1,useInsertionEffect:H1,useLayoutEffect:X1,useMemo:q1,useReducer:ed,useRef:G1,useState:function(){return ed(Vo)},useDebugValue:tm,useDeferredValue:function(t){var e=un();return J1(e,Ve.memoizedState,t)},useTransition:function(){var t=ed(Vo)[0],e=un().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:z1,useId:Q1,unstable_isNewReconciler:!1},AE={readContext:cn,useCallback:Z1,useContext:cn,useEffect:em,useImperativeHandle:K1,useInsertionEffect:H1,useLayoutEffect:X1,useMemo:q1,useReducer:td,useRef:G1,useState:function(){return td(Vo)},useDebugValue:tm,useDeferredValue:function(t){var e=un();return Ve===null?e.memoizedState=t:J1(e,Ve.memoizedState,t)},useTransition:function(){var t=td(Vo)[0],e=un().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:z1,useId:Q1,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jf(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hu={isMounted:function(t){return(t=t._reactInternals)?ir(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=_t(),i=ei(t),r=us(s,i);r.payload=e,n!=null&&(r.callback=n),e=Js(t,r,i),e!==null&&(En(e,t,i,s),kc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=_t(),i=ei(t),r=us(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Js(t,r,i),e!==null&&(En(e,t,i,s),kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),s=ei(t),i=us(n,s);i.tag=2,e!=null&&(i.callback=e),e=Js(t,i,s),e!==null&&(En(e,t,s,n),kc(e,t,s))}};function _x(t,e,n,s,i,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!Do(n,s)||!Do(i,r):!0}function sv(t,e,n){var s=!1,i=li,r=e.contextType;return typeof r=="object"&&r!==null?r=cn(r):(i=Dt(e)?Ui:gt.current,s=e.contextTypes,r=(s=s!=null)?sa(t,i):li),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function vx(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function Nf(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xg(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=cn(r):(r=Dt(e)?Ui:gt.current,i.context=sa(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(jf(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hu.enqueueReplaceState(i,i.state,null),nu(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oa(t,e){try{var n="",s=e;do n+=lS(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function nd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LE=typeof WeakMap=="function"?WeakMap:Map;function iv(t,e,n){n=us(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){ou||(ou=!0,Of=s),Cf(t,e)},n}function rv(t,e,n){n=us(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Cf(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof s!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function bx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new LE;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=KE.bind(null,t,e,n),e.then(t,t))}function wx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sx(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=us(-1,1),e.tag=2,Js(n,e,1))),n.lanes|=1),t)}var DE=ws.ReactCurrentOwner,It=!1;function pt(t,e,n,s){e.child=t===null?A1(e,null,n,s):ra(e,t.child,n,s)}function Ex(t,e,n,s,i){n=n.render;var r=e.ref;return Hr(e,i),s=Jg(t,e,n,s,r,i),n=Qg(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ys(t,e,i)):(Ee&&n&&Wg(e),e.flags|=1,pt(t,e,s,i),e.child)}function jx(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!cm(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,av(t,e,r,s,i)):(t=Ac(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(a,s)&&t.ref===e.ref)return ys(t,e,i)}return e.flags|=1,t=ti(r,s),t.ref=e.ref,t.return=e,e.child=t}function av(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Do(r,s)&&t.ref===e.ref)if(It=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,ys(t,e,i)}return kf(t,e,n,s,i)}function ov(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Fr,Wt),Wt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(Fr,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ve(Fr,Wt),Wt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ve(Fr,Wt),Wt|=s;return pt(t,e,i,n),e.child}function lv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kf(t,e,n,s,i){var r=Dt(n)?Ui:gt.current;return r=sa(e,r),Hr(e,i),n=Jg(t,e,n,s,r,i),s=Qg(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ys(t,e,i)):(Ee&&s&&Wg(e),e.flags|=1,pt(t,e,n,i),e.child)}function Nx(t,e,n,s,i){if(Dt(n)){var r=!0;qc(e)}else r=!1;if(Hr(e,i),e.stateNode===null)Mc(t,e),sv(e,n,s),Nf(e,n,s,i),s=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Dt(n)?Ui:gt.current,u=sa(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==u)&&vx(e,a,s,u),Os=!1;var f=e.memoizedState;a.state=f,nu(e,s,a,i),l=e.memoizedState,o!==s||f!==l||Lt.current||Os?(typeof h=="function"&&(jf(e,n,h,s),l=e.memoizedState),(o=Os||_x(e,n,o,s,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=u,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,D1(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:yn(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Dt(n)?Ui:gt.current,l=sa(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&vx(e,a,s,l),Os=!1,f=e.memoizedState,a.state=f,nu(e,s,a,i);var m=e.memoizedState;o!==d||f!==m||Lt.current||Os?(typeof g=="function"&&(jf(e,n,g,s),m=e.memoizedState),(u=Os||_x(e,n,u,s,f,m,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),a.props=s,a.state=m,a.context=l,s=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Rf(t,e,n,s,r,i)}function Rf(t,e,n,s,i,r){lv(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return i&&hx(e,n,!1),ys(t,e,r);s=e.stateNode,DE.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=ra(e,t.child,null,r),e.child=ra(e,null,o,r)):pt(t,e,o,r),e.memoizedState=s.state,i&&hx(e,n,!0),e.child}function cv(t){var e=t.stateNode;e.pendingContext?ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ux(t,e.context,!1),Yg(t,e.containerInfo)}function Cx(t,e,n,s,i){return ia(),$g(i),e.flags|=256,pt(t,e,n,s),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uv(t,e,n){var s=e.pendingProps,i=Ne.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Ne,i&1),t===null)return Sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,r?(s=e.mode,r=e.child,a={mode:"hidden",children:a},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Ku(a,s,0,null),t=Bi(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Mf(n),e.memoizedState=Tf,t):nm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return OE(t,e,a,s,o,i,n);if(r){r=s.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=ti(i,l),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?r=ti(o,r):(r=Bi(r,a,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,a=t.child.memoizedState,a=a===null?Mf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=t.childLanes&~n,e.memoizedState=Tf,s}return r=t.child,t=r.sibling,s=ti(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function nm(t,e){return e=Ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xl(t,e,n,s){return s!==null&&$g(s),ra(e,t.child,null,n),t=nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OE(t,e,n,s,i,r,a){if(n)return e.flags&256?(e.flags&=-257,s=nd(Error(L(422))),Xl(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Ku({mode:"visible",children:s.children},i,0,null),r=Bi(r,i,a,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&ra(e,t.child,null,a),e.child.memoizedState=Mf(a),e.memoizedState=Tf,r);if(!(e.mode&1))return Xl(t,e,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,r=Error(L(419)),s=nd(r,s,void 0),Xl(t,e,a,s)}if(o=(a&t.childLanes)!==0,It||o){if(s=Qe,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,xs(t,i),En(s,t,i,-1))}return lm(),s=nd(Error(L(421))),Xl(t,e,a,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZE.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,Bt=qs(i.nextSibling),$t=e,Ee=!0,vn=null,t!==null&&(Qt[en++]=os,Qt[en++]=ls,Qt[en++]=Gi,os=t.id,ls=t.overflow,Gi=e),e=nm(e,s.children),e.flags|=4096,e)}function kx(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Ef(t.return,e,n)}function sd(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function hv(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(pt(t,e,s.children,n),s=Ne.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,n,e);else if(t.tag===19)kx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ve(Ne,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sd(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&su(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sd(e,!0,n,null,r);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FE(t,e,n){switch(e.tag){case 3:cv(e),ia();break;case 5:O1(e);break;case 1:Dt(e.type)&&qc(e);break;case 4:Yg(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ve(eu,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ve(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?uv(t,e,n):(ve(Ne,Ne.current&1),t=ys(t,e,n),t!==null?t.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return hv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ne,Ne.current),s)break;return null;case 22:case 23:return e.lanes=0,ov(t,e,n)}return ys(t,e,n)}var dv,If,fv,gv;dv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};If=function(){};fv=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Pi(Vn.current);var r=null;switch(n){case"input":i=Qd(t,i),s=Qd(t,s),r=[];break;case"select":i=Re({},i,{value:void 0}),s=Re({},s,{value:void 0}),r=[];break;case"textarea":i=nf(t,i),s=nf(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Kc)}rf(n,s);var a;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var l=s[u];if(o=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),r||o===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};gv=function(t,e,n,s){n!==s&&(e.flags|=4)};function za(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function zE(t,e,n){var s=e.pendingProps;switch(Bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Dt(e.type)&&Zc(),at(e),null;case 3:return s=e.stateNode,aa(),Se(Lt),Se(gt),Zg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Gl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(Wf(vn),vn=null))),If(t,e),at(e),null;case 5:Kg(e);var i=Pi(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)fv(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(L(166));return at(e),null}if(t=Pi(Vn.current),Gl(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[On]=e,s[zo]=r,t=(e.mode&1)!==0,n){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(i=0;i<eo.length;i++)be(eo[i],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":Op(s,r),be("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},be("invalid",s);break;case"textarea":zp(s,r),be("invalid",s)}rf(n,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?s.textContent!==o&&(r.suppressHydrationWarning!==!0&&Ul(s.textContent,o,t),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Ul(s.textContent,o,t),i=["children",""+o]):Ro.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&be("scroll",s)}switch(n){case"input":Dl(s),Fp(s,r,!0);break;case"textarea":Dl(s),Wp(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Kc)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[On]=e,t[zo]=s,dv(t,e,!1,!1),e.stateNode=t;e:{switch(a=af(n,s),n){case"dialog":be("cancel",t),be("close",t),i=s;break;case"iframe":case"object":case"embed":be("load",t),i=s;break;case"video":case"audio":for(i=0;i<eo.length;i++)be(eo[i],t);i=s;break;case"source":be("error",t),i=s;break;case"img":case"image":case"link":be("error",t),be("load",t),i=s;break;case"details":be("toggle",t),i=s;break;case"input":Op(t,s),i=Qd(t,s),be("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=Re({},s,{value:void 0}),be("invalid",t);break;case"textarea":zp(t,s),i=nf(t,s),be("invalid",t);break;default:i=s}rf(n,i),o=i;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?G_(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V_(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&To(t,l):typeof l=="number"&&To(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ro.hasOwnProperty(r)?l!=null&&r==="onScroll"&&be("scroll",t):l!=null&&Ng(t,r,l,a))}switch(n){case"input":Dl(t),Fp(t,s,!1);break;case"textarea":Dl(t),Wp(t);break;case"option":s.value!=null&&t.setAttribute("value",""+oi(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?$r(t,!!s.multiple,r,!1):s.defaultValue!=null&&$r(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)gv(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(L(166));if(n=Pi(Bo.current),Pi(Vn.current),Gl(e)){if(s=e.stateNode,n=e.memoizedProps,s[On]=e,(r=s.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Ul(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[On]=e,e.stateNode=s}return at(e),null;case 13:if(Se(Ne),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Bt!==null&&e.mode&1&&!(e.flags&128))I1(),ia(),e.flags|=98560,r=!1;else if(r=Gl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[On]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),r=!1}else vn!==null&&(Wf(vn),vn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Ge===0&&(Ge=3):lm())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return aa(),If(t,e),t===null&&Oo(e.stateNode.containerInfo),at(e),null;case 10:return Gg(e.type._context),at(e),null;case 17:return Dt(e.type)&&Zc(),at(e),null;case 19:if(Se(Ne),r=e.memoizedState,r===null)return at(e),null;if(s=(e.flags&128)!==0,a=r.rendering,a===null)if(s)za(r,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=su(t),a!==null){for(e.flags|=128,za(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,t=a.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ae()>la&&(e.flags|=128,s=!0,za(r,!1),e.lanes=4194304)}else{if(!s)if(t=su(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),za(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ee)return at(e),null}else 2*Ae()-r.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,s=!0,za(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ae(),e.sibling=null,n=Ne.current,ve(Ne,s?n&1|2:n&1),e):(at(e),null);case 22:case 23:return om(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Wt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function WE(t,e){switch(Bg(e),e.tag){case 1:return Dt(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Se(Lt),Se(gt),Zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kg(e),null;case 13:if(Se(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(Ne),null;case 4:return aa(),null;case 10:return Gg(e.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var Yl=!1,ht=!1,BE=typeof WeakSet=="function"?WeakSet:Set,$=null;function Or(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ie(t,e,s)}else n.current=null}function Pf(t,e,n){try{n()}catch(s){Ie(t,e,s)}}var Rx=!1;function $E(t,e){if(pf=Hc,t=_1(),zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==r||s!==0&&d.nodeType!==3||(l=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===r&&++h===s&&(l=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xf={focusedElem:t,selectionRange:n},Hc=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,_=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:yn(e.type,p),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){Ie(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return m=Rx,Rx=!1,m}function vo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Pf(e,n,r)}i=i.next}while(i!==s)}}function Xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Af(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mv(t){var e=t.alternate;e!==null&&(t.alternate=null,mv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[zo],delete e[vf],delete e[EE],delete e[jE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pv(t){return t.tag===5||t.tag===3||t.tag===4}function Tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(s!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}function Df(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}var et=null,_n=!1;function Ns(t,e,n){for(n=n.child;n!==null;)xv(t,e,n),n=n.sibling}function xv(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:ht||Or(n,e);case 6:var s=et,i=_n;et=null,Ns(t,e,n),et=s,_n=i,et!==null&&(_n?(t=et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(_n?(t=et,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),Ao(t)):Zh(et,n.stateNode));break;case 4:s=et,i=_n,et=n.stateNode.containerInfo,_n=!0,Ns(t,e,n),et=s,_n=i;break;case 0:case 11:case 14:case 15:if(!ht&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Pf(n,e,a),i=i.next}while(i!==s)}Ns(t,e,n);break;case 1:if(!ht&&(Or(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Ie(n,e,o)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?(ht=(s=ht)||n.memoizedState!==null,Ns(t,e,n),ht=s):Ns(t,e,n);break;default:Ns(t,e,n)}}function Mx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BE),e.forEach(function(s){var i=qE.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:et=o.stateNode,_n=!1;break e;case 3:et=o.stateNode.containerInfo,_n=!0;break e;case 4:et=o.stateNode.containerInfo,_n=!0;break e}o=o.return}if(et===null)throw Error(L(160));xv(r,a,i),et=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yv(e,t),e=e.sibling}function yv(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),In(t),s&4){try{vo(3,t,t.return),Xu(3,t)}catch(p){Ie(t,t.return,p)}try{vo(5,t,t.return)}catch(p){Ie(t,t.return,p)}}break;case 1:pn(e,t),In(t),s&512&&n!==null&&Or(n,n.return);break;case 5:if(pn(e,t),In(t),s&512&&n!==null&&Or(n,n.return),t.flags&32){var i=t.stateNode;try{To(i,"")}catch(p){Ie(t,t.return,p)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,a=n!==null?n.memoizedProps:r,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&W_(i,r),af(o,a);var u=af(o,r);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?G_(i,d):h==="dangerouslySetInnerHTML"?V_(i,d):h==="children"?To(i,d):Ng(i,h,d,u)}switch(o){case"input":ef(i,r);break;case"textarea":B_(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?$r(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?$r(i,!!r.multiple,r.defaultValue,!0):$r(i,!!r.multiple,r.multiple?[]:"",!1))}i[zo]=r}catch(p){Ie(t,t.return,p)}}break;case 6:if(pn(e,t),In(t),s&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(p){Ie(t,t.return,p)}}break;case 3:if(pn(e,t),In(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(p){Ie(t,t.return,p)}break;case 4:pn(e,t),In(t);break;case 13:pn(e,t),In(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(rm=Ae())),s&4&&Mx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||h,pn(e,t),ht=u):pn(e,t),In(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for($=t,h=t.child;h!==null;){for(d=$=h;$!==null;){switch(f=$,g=f.child,f.tag){case 0:case 11:case 14:case 15:vo(4,f,f.return);break;case 1:Or(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Ie(s,n,p)}}break;case 5:Or(f,f.return);break;case 22:if(f.memoizedState!==null){Px(d);continue}}g!==null?(g.return=f,$=g):Px(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=U_("display",a))}catch(p){Ie(t,t.return,p)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ie(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pn(e,t),In(t),s&4&&Mx(t);break;case 21:break;default:pn(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pv(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(To(i,""),s.flags&=-33);var r=Tx(t);Df(t,r,i);break;case 3:case 4:var a=s.stateNode.containerInfo,o=Tx(t);Lf(t,o,a);break;default:throw Error(L(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VE(t,e,n){$=t,_v(t)}function _v(t,e,n){for(var s=(t.mode&1)!==0;$!==null;){var i=$,r=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||Yl;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ht;o=Yl;var u=ht;if(Yl=a,(ht=l)&&!u)for($=i;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?Ax(i):l!==null?(l.return=a,$=l):Ax(i);for(;r!==null;)$=r,_v(r),r=r.sibling;$=i,Yl=o,ht=u}Ix(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,$=r):Ix(t)}}function Ix(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||Xu(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!ht)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&px(e,r,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}px(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ao(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ht||e.flags&512&&Af(e)}catch(f){Ie(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Px(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Ax(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xu(4,e)}catch(l){Ie(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){Ie(e,i,l)}}var r=e.return;try{Af(e)}catch(l){Ie(e,r,l)}break;case 5:var a=e.return;try{Af(e)}catch(l){Ie(e,a,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){$=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$=o;break}$=e.return}}var UE=Math.ceil,au=ws.ReactCurrentDispatcher,sm=ws.ReactCurrentOwner,on=ws.ReactCurrentBatchConfig,ne=0,Qe=null,Fe=null,nt=0,Wt=0,Fr=gi(0),Ge=0,Go=null,Xi=0,Yu=0,im=0,bo=null,jt=null,rm=0,la=1/0,ss=null,ou=!1,Of=null,Qs=null,Kl=!1,Vs=null,lu=0,wo=0,Ff=null,Ic=-1,Pc=0;function _t(){return ne&6?Ae():Ic!==-1?Ic:Ic=Ae()}function ei(t){return t.mode&1?ne&2&&nt!==0?nt&-nt:CE.transition!==null?(Pc===0&&(Pc=s1()),Pc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:u1(t.type)),t):1}function En(t,e,n,s){if(50<wo)throw wo=0,Ff=null,Error(L(185));dl(t,n,s),(!(ne&2)||t!==Qe)&&(t===Qe&&(!(ne&2)&&(Yu|=n),Ge===4&&Ws(t,nt)),Ot(t,s),n===1&&ne===0&&!(e.mode&1)&&(la=Ae()+500,Uu&&mi()))}function Ot(t,e){var n=t.callbackNode;CS(t,e);var s=Gc(t,t===Qe?nt:0);if(s===0)n!==null&&Vp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Vp(n),e===1)t.tag===0?NE(Lx.bind(null,t)):R1(Lx.bind(null,t)),wE(function(){!(ne&6)&&mi()}),n=null;else{switch(i1(s)){case 1:n=Mg;break;case 4:n=t1;break;case 16:n=Uc;break;case 536870912:n=n1;break;default:n=Uc}n=Cv(n,vv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vv(t,e){if(Ic=-1,Pc=0,ne&6)throw Error(L(327));var n=t.callbackNode;if(Xr()&&t.callbackNode!==n)return null;var s=Gc(t,t===Qe?nt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=cu(t,s);else{e=s;var i=ne;ne|=2;var r=wv();(Qe!==t||nt!==e)&&(ss=null,la=Ae()+500,Wi(t,e));do try{XE();break}catch(o){bv(t,o)}while(!0);Ug(),au.current=r,ne=i,Fe!==null?e=0:(Qe=null,nt=0,e=Ge)}if(e!==0){if(e===2&&(i=hf(t),i!==0&&(s=i,e=zf(t,i))),e===1)throw n=Go,Wi(t,0),Ws(t,s),Ot(t,Ae()),n;if(e===6)Ws(t,s);else{if(i=t.current.alternate,!(s&30)&&!GE(i)&&(e=cu(t,s),e===2&&(r=hf(t),r!==0&&(s=r,e=zf(t,r))),e===1))throw n=Go,Wi(t,0),Ws(t,s),Ot(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(L(345));case 2:ki(t,jt,ss);break;case 3:if(Ws(t,s),(s&130023424)===s&&(e=rm+500-Ae(),10<e)){if(Gc(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(ki.bind(null,t,jt,ss),e);break}ki(t,jt,ss);break;case 4:if(Ws(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var a=31-Sn(s);r=1<<a,a=e[a],a>i&&(i=a),s&=~r}if(s=i,s=Ae()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*UE(s/1960))-s,10<s){t.timeoutHandle=_f(ki.bind(null,t,jt,ss),s);break}ki(t,jt,ss);break;case 5:ki(t,jt,ss);break;default:throw Error(L(329))}}}return Ot(t,Ae()),t.callbackNode===n?vv.bind(null,t):null}function zf(t,e){var n=bo;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=cu(t,e),t!==2&&(e=jt,jt=n,e!==null&&Wf(e)),t}function Wf(t){jt===null?jt=t:jt.push.apply(jt,t)}function GE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Nn(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ws(t,e){for(e&=~im,e&=~Yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),s=1<<n;t[n]=-1,e&=~s}}function Lx(t){if(ne&6)throw Error(L(327));Xr();var e=Gc(t,0);if(!(e&1))return Ot(t,Ae()),null;var n=cu(t,e);if(t.tag!==0&&n===2){var s=hf(t);s!==0&&(e=s,n=zf(t,s))}if(n===1)throw n=Go,Wi(t,0),Ws(t,e),Ot(t,Ae()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,jt,ss),Ot(t,Ae()),null}function am(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(la=Ae()+500,Uu&&mi())}}function Yi(t){Vs!==null&&Vs.tag===0&&!(ne&6)&&Xr();var e=ne;ne|=1;var n=on.transition,s=pe;try{if(on.transition=null,pe=1,t)return t()}finally{pe=s,on.transition=n,ne=e,!(ne&6)&&mi()}}function om(){Wt=Fr.current,Se(Fr)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bE(n)),Fe!==null)for(n=Fe.return;n!==null;){var s=n;switch(Bg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zc();break;case 3:aa(),Se(Lt),Se(gt),Zg();break;case 5:Kg(s);break;case 4:aa();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Gg(s.type._context);break;case 22:case 23:om()}n=n.return}if(Qe=t,Fe=t=ti(t.current,null),nt=Wt=e,Ge=0,Go=null,im=Yu=Xi=0,jt=bo=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var a=r.next;r.next=i,s.next=a}n.pending=s}Ii=null}return t}function bv(t,e){do{var n=Fe;try{if(Ug(),Rc.current=ru,iu){for(var s=ke.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}iu=!1}if(Hi=0,Ze=Ve=ke=null,_o=!1,$o=0,sm.current=null,n===null||n.return===null){Ge=1,Go=e,Fe=null;break}e:{var r=t,a=n.return,o=n,l=e;if(e=nt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=wx(a);if(g!==null){g.flags&=-257,Sx(g,a,o,r,e),g.mode&1&&bx(r,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){bx(r,u,e),lm();break e}l=Error(L(426))}}else if(Ee&&o.mode&1){var _=wx(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sx(_,a,o,r,e),$g(oa(l,o));break e}}r=l=oa(l,o),Ge!==4&&(Ge=2),bo===null?bo=[r]:bo.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var x=iv(r,l,e);mx(r,x);break e;case 1:o=l;var y=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qs===null||!Qs.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=rv(r,o,e);mx(r,b);break e}}r=r.return}while(r!==null)}Ev(n)}catch(w){e=w,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function wv(){var t=au.current;return au.current=ru,t===null?ru:t}function lm(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(Xi&268435455)&&!(Yu&268435455)||Ws(Qe,nt)}function cu(t,e){var n=ne;ne|=2;var s=wv();(Qe!==t||nt!==e)&&(ss=null,Wi(t,e));do try{HE();break}catch(i){bv(t,i)}while(!0);if(Ug(),ne=n,au.current=s,Fe!==null)throw Error(L(261));return Qe=null,nt=0,Ge}function HE(){for(;Fe!==null;)Sv(Fe)}function XE(){for(;Fe!==null&&!yS();)Sv(Fe)}function Sv(t){var e=Nv(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?Ev(t):Fe=e,sm.current=null}function Ev(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WE(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Fe=null;return}}else if(n=zE(n,e,Wt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ge===0&&(Ge=5)}function ki(t,e,n){var s=pe,i=on.transition;try{on.transition=null,pe=1,YE(t,e,n,s)}finally{on.transition=i,pe=s}return null}function YE(t,e,n,s){do Xr();while(Vs!==null);if(ne&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(kS(t,r),t===Qe&&(Fe=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kl||(Kl=!0,Cv(Uc,function(){return Xr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=on.transition,on.transition=null;var a=pe;pe=1;var o=ne;ne|=4,sm.current=null,$E(t,n),yv(n,t),gE(xf),Hc=!!pf,xf=pf=null,t.current=n,VE(n),_S(),ne=o,pe=a,on.transition=r}else t.current=n;if(Kl&&(Kl=!1,Vs=t,lu=i),r=t.pendingLanes,r===0&&(Qs=null),wS(n.stateNode),Ot(t,Ae()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(ou)throw ou=!1,t=Of,Of=null,t;return lu&1&&t.tag!==0&&Xr(),r=t.pendingLanes,r&1?t===Ff?wo++:(wo=0,Ff=t):wo=0,mi(),null}function Xr(){if(Vs!==null){var t=i1(lu),e=on.transition,n=pe;try{if(on.transition=null,pe=16>t?16:t,Vs===null)var s=!1;else{if(t=Vs,Vs=null,lu=0,ne&6)throw Error(L(331));var i=ne;for(ne|=4,$=t.current;$!==null;){var r=$,a=r.child;if($.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:vo(8,h,r)}var d=h.child;if(d!==null)d.return=h,$=d;else for(;$!==null;){h=$;var f=h.sibling,g=h.return;if(mv(h),h===u){$=null;break}if(f!==null){f.return=g,$=f;break}$=g}}}var m=r.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}$=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,$=a;else e:for(;$!==null;){if(r=$,r.flags&2048)switch(r.tag){case 0:case 11:case 15:vo(9,r,r.return)}var x=r.sibling;if(x!==null){x.return=r.return,$=x;break e}$=r.return}}var y=t.current;for($=y;$!==null;){a=$;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,$=v;else e:for(a=y;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xu(9,o)}}catch(w){Ie(o,o.return,w)}if(o===a){$=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,$=b;break e}$=o.return}}if(ne=i,mi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(zu,t)}catch{}s=!0}return s}finally{pe=n,on.transition=e}}return!1}function Dx(t,e,n){e=oa(n,e),e=iv(t,e,1),t=Js(t,e,1),e=_t(),t!==null&&(dl(t,1,e),Ot(t,e))}function Ie(t,e,n){if(t.tag===3)Dx(t,t,n);else for(;e!==null;){if(e.tag===3){Dx(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qs===null||!Qs.has(s))){t=oa(n,t),t=rv(e,t,1),e=Js(e,t,1),t=_t(),e!==null&&(dl(e,1,t),Ot(e,t));break}}e=e.return}}function KE(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(nt&n)===n&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>Ae()-rm?Wi(t,0):im|=n),Ot(t,e)}function jv(t,e){e===0&&(t.mode&1?(e=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):e=1);var n=_t();t=xs(t,e),t!==null&&(dl(t,e,n),Ot(t,n))}function ZE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jv(t,n)}function qE(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(e),jv(t,n)}var Nv;Nv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,FE(t,e,n);It=!!(t.flags&131072)}else It=!1,Ee&&e.flags&1048576&&T1(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Mc(t,e),t=e.pendingProps;var i=sa(e,gt.current);Hr(e,n),i=Jg(null,e,s,t,i,n);var r=Qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(s)?(r=!0,qc(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=Hu,e.stateNode=i,i._reactInternals=e,Nf(e,s,t,n),e=Rf(null,e,s,!0,r,n)):(e.tag=0,Ee&&r&&Wg(e),pt(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=QE(s),t=yn(s,t),i){case 0:e=kf(null,e,s,t,n);break e;case 1:e=Nx(null,e,s,t,n);break e;case 11:e=Ex(null,e,s,t,n);break e;case 14:e=jx(null,e,s,yn(s.type,t),n);break e}throw Error(L(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),kf(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),Nx(t,e,s,i,n);case 3:e:{if(cv(e),t===null)throw Error(L(387));s=e.pendingProps,r=e.memoizedState,i=r.element,D1(t,e),nu(e,s,null,n);var a=e.memoizedState;if(s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=oa(Error(L(423)),e),e=Cx(t,e,s,n,i);break e}else if(s!==i){i=oa(Error(L(424)),e),e=Cx(t,e,s,n,i);break e}else for(Bt=qs(e.stateNode.containerInfo.firstChild),$t=e,Ee=!0,vn=null,n=A1(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),s===i){e=ys(t,e,n);break e}pt(t,e,s,n)}e=e.child}return e;case 5:return O1(e),t===null&&Sf(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,a=i.children,yf(s,i)?a=null:r!==null&&yf(s,r)&&(e.flags|=32),lv(t,e),pt(t,e,a,n),e.child;case 6:return t===null&&Sf(e),null;case 13:return uv(t,e,n);case 4:return Yg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ra(e,null,s,n):pt(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),Ex(t,e,s,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,ve(eu,s._currentValue),s._currentValue=a,r!==null)if(Nn(r.value,a)){if(r.children===i.children&&!Lt.current){e=ys(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=us(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Ef(r.return,n,e),o.lanes|=n;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ef(a,n,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Hr(e,n),i=cn(i),s=s(i),e.flags|=1,pt(t,e,s,n),e.child;case 14:return s=e.type,i=yn(s,e.pendingProps),i=yn(s.type,i),jx(t,e,s,i,n);case 15:return av(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),Mc(t,e),e.tag=1,Dt(s)?(t=!0,qc(e)):t=!1,Hr(e,n),sv(e,s,i),Nf(e,s,i,n),Rf(null,e,s,!0,t,n);case 19:return hv(t,e,n);case 22:return ov(t,e,n)}throw Error(L(156,e.tag))};function Cv(t,e){return e1(t,e)}function JE(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,s){return new JE(t,e,n,s)}function cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QE(t){if(typeof t=="function")return cm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kg)return 11;if(t===Rg)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,s,i,r){var a=2;if(s=t,typeof t=="function")cm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case kr:return Bi(n.children,i,r,e);case Cg:a=8,i|=8;break;case Kd:return t=nn(12,n,e,i|2),t.elementType=Kd,t.lanes=r,t;case Zd:return t=nn(13,n,e,i),t.elementType=Zd,t.lanes=r,t;case qd:return t=nn(19,n,e,i),t.elementType=qd,t.lanes=r,t;case O_:return Ku(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L_:a=10;break e;case D_:a=9;break e;case kg:a=11;break e;case Rg:a=14;break e;case Ds:a=16,s=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=nn(a,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Bi(t,e,n,s){return t=nn(7,t,s,e),t.lanes=n,t}function Ku(t,e,n,s){return t=nn(22,t,s,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function id(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function rd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ej(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function um(t,e,n,s,i,r,a,o,l){return t=new ej(t,e,n,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=nn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(r),t}function tj(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function kv(t){if(!t)return li;t=t._reactInternals;e:{if(ir(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Dt(n))return k1(t,n,e)}return e}function Rv(t,e,n,s,i,r,a,o,l){return t=um(n,s,!0,t,i,r,a,o,l),t.context=kv(null),n=t.current,s=_t(),i=ei(n),r=us(s,i),r.callback=e??null,Js(n,r,i),t.current.lanes=i,dl(t,i,s),Ot(t,s),t}function Zu(t,e,n,s){var i=e.current,r=_t(),a=ei(i);return n=kv(n),e.context===null?e.context=n:e.pendingContext=n,e=us(r,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Js(i,e,a),t!==null&&(En(t,i,a,r),kc(t,i,a)),a}function uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ox(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hm(t,e){Ox(t,e),(t=t.alternate)&&Ox(t,e)}function nj(){return null}var Tv=typeof reportError=="function"?reportError:function(t){console.error(t)};function dm(t){this._internalRoot=t}qu.prototype.render=dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Zu(t,e,null,null)};qu.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yi(function(){Zu(null,t,null,null)}),e[ps]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=o1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zs.length&&e!==0&&e<zs[n].priority;n++);zs.splice(n,0,t),n===0&&c1(t)}};function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function sj(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=uu(a);r.call(u)}}var a=Rv(e,s,t,0,null,!1,!1,"",Fx);return t._reactRootContainer=a,t[ps]=a.current,Oo(t.nodeType===8?t.parentNode:t),Yi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var u=uu(l);o.call(u)}}var l=um(t,0,!1,null,null,!1,!1,"",Fx);return t._reactRootContainer=l,t[ps]=l.current,Oo(t.nodeType===8?t.parentNode:t),Yi(function(){Zu(e,l,n,s)}),l}function Qu(t,e,n,s,i){var r=n._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var o=i;i=function(){var l=uu(a);o.call(l)}}Zu(e,a,t,i)}else a=sj(n,e,t,i,s);return uu(a)}r1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qa(e.pendingLanes);n!==0&&(Ig(e,n|1),Ot(e,Ae()),!(ne&6)&&(la=Ae()+500,mi()))}break;case 13:Yi(function(){var s=xs(t,1);if(s!==null){var i=_t();En(s,t,1,i)}}),hm(t,1)}};Pg=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=_t();En(e,t,134217728,n)}hm(t,134217728)}};a1=function(t){if(t.tag===13){var e=ei(t),n=xs(t,e);if(n!==null){var s=_t();En(n,t,e,s)}hm(t,e)}};o1=function(){return pe};l1=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Vu(s);if(!i)throw Error(L(90));z_(s),ef(s,i)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&$r(t,!!n.multiple,e,!1)}};Y_=am;K_=Yi;var ij={usingClientEntryPoint:!1,Events:[gl,Ir,Vu,H_,X_,am]},Wa={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rj={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J_(t),t===null?null:t.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||nj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{zu=Zl.inject(rj),$n=Zl}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ij;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(e))throw Error(L(200));return tj(t,e,null,n)};Ut.createRoot=function(t,e){if(!fm(t))throw Error(L(299));var n=!1,s="",i=Tv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=um(t,1,!1,null,null,n,!1,s,i),t[ps]=e.current,Oo(t.nodeType===8?t.parentNode:t),new dm(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=J_(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Yi(t)};Ut.hydrate=function(t,e,n){if(!Ju(e))throw Error(L(200));return Qu(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!fm(t))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",a=Tv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Rv(e,null,t,1,n??null,i,!1,r,a),t[ps]=e.current,Oo(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qu(e)};Ut.render=function(t,e,n){if(!Ju(e))throw Error(L(200));return Qu(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(L(40));return t._reactRootContainer?(Yi(function(){Qu(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Ut.unstable_batchedUpdates=am;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ju(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Qu(t,e,n,!1,s)};Ut.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(t){console.error(t)}}Mv(),M_.exports=Ut;var aj=M_.exports,Iv,zx=aj;Iv=zx.createRoot,zx.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(t,e)=>{const n=j.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>j.createElement("svg",{ref:h,...oj,width:i,height:i,stroke:s,strokeWidth:a?Number(r)*24/Number(i):r,className:["lucide",`lucide-${lj(t)}`,o].join(" "),...u},[...e.map(([d,f])=>j.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=U("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=U("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=U("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=U("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=U("BoxSelect",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=U("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=U("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=U("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=U("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=U("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=U("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=U("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=U("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=U("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=U("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=U("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=U("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=U("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=U("RefreshCcwDot",[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8",key:"1pbrqz"}],["path",{d:"M21 22v-6h-6",key:"usdfbe"}],["path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7",key:"1hosoe"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=U("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=U("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=U("ShieldEllipsis",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=U("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=U("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=U("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=U("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=U("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Oj=()=>c.jsx("div",{className:"hero min-h-screen bg-gradient-to-b from-green-50 to-white",children:c.jsx("div",{className:"hero-content text-center",children:c.jsxs("div",{className:"max-w-3xl",children:[c.jsxs("h1",{className:"text-3xl font-bold text-primary mt-16",children:["Explora entre restaurantes, y menús increibles",c.jsx("br",{}),c.jsx("span",{className:"text-accent text-5xl",children:"Saludables y recomendados"})]}),c.jsxs("p",{className:"py-6 text-lg text-gray-600",children:["Hoy más que nunca comer saludable no es una opción, es un estilo de vida. ¿Qué esperas para explorar y visitar ",c.jsx("strong",{children:"Restaurantes"})," y degustar de sus deliciosos y saludables ",c.jsx("strong",{children:"Menús"}),"?"]}),c.jsxs("div",{className:"flex justify-center lg:flex-row flex-col gap-4",children:[c.jsxs("button",{className:"btn btn-primary",children:[c.jsx(ba,{className:"w-5 h-5"}),"Ver Restaurantes"]}),c.jsxs("button",{className:"btn btn-outline btn-accent",children:[c.jsx(eh,{className:"w-5 h-5"}),"Ver menús saludables"]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12",children:[c.jsxs("div",{className:"stat bg-white rounded-box shadow-lg",children:[c.jsx("div",{className:"stat-title",children:"Restaurants"}),c.jsx("div",{className:"stat-value text-primary",children:"150+"}),c.jsx("div",{className:"stat-desc",children:"Certified healthy options"})]}),c.jsxs("div",{className:"stat bg-white rounded-box shadow-lg",children:[c.jsx("div",{className:"stat-title",children:"Nutritionists"}),c.jsx("div",{className:"stat-value text-accent",children:"50+"}),c.jsx("div",{className:"stat-desc",children:"Expert recommendations"})]}),c.jsxs("div",{className:"stat bg-white rounded-box shadow-lg",children:[c.jsx("div",{className:"stat-title",children:"Happy Customers"}),c.jsx("div",{className:"stat-value text-secondary",children:"10K+"}),c.jsx("div",{className:"stat-desc",children:"Monthly diners"})]})]})]})})}),V={api:{baseUrl:"/",endpoints:{auth:{login:"/logging/singin",register:"/user/create",adminLogin:"/logging/administration",restaurantLogin:"/logging/restaurant",logout:"/logging/logout"},user:{create:"/user/create",update:t=>`/user/update/${t}`,updatePassword:t=>`/user/update/password/${t}`,find:t=>`/user/find/${t}`,paginate:"/user/paginate",delete:t=>`/user/delete/${t}`},menu:{create:"/menu/create",update:t=>`/menu/update/${t}`,updatePassword:t=>`/menu/update/password/${t}`,find:t=>`/menu/find/${t}`,paginate:"/menu/paginate",delete:t=>`/menu/delete/${t}`},restaurant:{create:"/restaurant/create",update:t=>`/restaurant/update/${t}`,updatePassword:t=>`/restaurant/update/password/${t}`,find:t=>`/restaurant/find/${t}`,paginate:"/restaurant/paginate",delete:t=>`/restaurant/delete/${t}`},core:{category:{create:"/category/create",update:t=>`/category/update/${t}`,updatePassword:t=>`/category/update/password/${t}`,find:t=>`/category/find/${t}`,paginate:"/category/paginate",delete:t=>`/category/delete/${t}`},environment:{create:"/environment/create",update:t=>`/environment/update/${t}`,updatePassword:t=>`/environment/update/password/${t}`,find:t=>`/environment/find/${t}`,paginate:"/environment/paginate",delete:t=>`/environment/delete/${t}`},type:{create:"/type/create",update:t=>`/type/update/${t}`,updatePassword:t=>`/type/update/password/${t}`,find:t=>`/type/find/${t}`,paginate:"/type/paginate",delete:t=>`/type/delete/${t}`}},search:{type:"/search/type",environment:"/search/environment",category:"/search/category"},restaurants:{featured:"/restaurants/featured",menus:"/restaurants/menus",byId:t=>`/restaurants/${t}`,menusByRestaurant:t=>`/restaurants/${t}/menus`},nutritionists:{featured:"/nutritionists/featured",byId:t=>`/nutritionists/${t}`,reviews:t=>`/nutritionists/${t}/reviews`}}},validation:{password:{minLength:8,maxLength:50},restaurantCode:{length:7}}};class qi{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.restaurant.create,{method:"POST"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al crear restaurante",error:!0}}}async delete({id:e}){try{return await(await this.fetchWith(V.api.endpoints.restaurant.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar restaurante",error:!0}}}async filter({skip:e,take:n,param:s}){try{return await(await this.fetchWith(`${V.api.endpoints.restaurant.paginate}/?skip=${e}&take=${n}&param=${s}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar restaurante",error:!0}}}async find({id:e}){try{return await(await this.fetchWith(V.api.endpoints.restaurant.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar restaurante",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.restaurant.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar restaurante",error:!1}}}}class ui{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.menu.create,{method:"POST"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al crear menú",error:!0}}}async delete({id:e}){try{return await(await this.fetchWith(V.api.endpoints.menu.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar menú",error:!0}}}async filter({skip:e,take:n,param:s,categoryId:i,typeId:r}){try{return await(await this.fetchWith(`${V.api.endpoints.menu.paginate}/?skip=${e}&take=${n}&param=${s}&typeId=${r}&categoryId=${i}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar menú",error:!0}}}async find({id:e}){try{return await(await this.fetchWith(V.api.endpoints.menu.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar menú",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.menu.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar menú",error:!1}}}}const Fj={menus:[],restaurants:[],menusFilter:{},restaurantsFilter:{},setAddFavoriteFilter:()=>{},setMenusFilter:()=>{},setRestaurantsFilter:()=>{}},Wv=j.createContext(Fj),zj=({children:t})=>{const[e,n]=j.useState([]),[s,i]=j.useState([]),[r,a]=j.useState({maxPrice:1e5,minPrice:0,param:"",restaurantListId:[]}),[o,l]=j.useState({param:""}),[u,h]=j.useState({id:""}),d=async()=>{const p=await new ui().filter({skip:0,take:3,param:r.param});return p.error||n(p.body.data),p},f=async()=>{const p=await new qi().filter({skip:0,take:3,param:o.param});return p.error||i(p.body.data),p},g=async()=>{};return j.useEffect(()=>{const m=setTimeout(d,300);return()=>clearTimeout(m)},[r]),j.useEffect(()=>{const m=setTimeout(f,300);return()=>clearTimeout(m)},[r]),j.useEffect(()=>{const m=setTimeout(g,300);return()=>clearTimeout(m)},[r]),c.jsx(Wv.Provider,{value:{menus:e,restaurants:s,menusFilter:r,restaurantsFilter:o,setAddFavoriteFilter:h,setRestaurantsFilter:l,setMenusFilter:a},children:t})},Bv=()=>j.useContext(Wv);function Wj(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,i,r,a=[],o="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=i.indexOf("?",1),r=i.indexOf(".",1),a.push(i.substring(1,~s?s:~r?r:i.length)),o+=~s&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~s?"?":"")+"\\"+i.substring(r))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var $v={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=j;function Bj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $j=typeof Object.is=="function"?Object.is:Bj,Vj=ca.useState,Uj=ca.useEffect,Gj=ca.useLayoutEffect,Hj=ca.useDebugValue;function Xj(t,e){var n=e(),s=Vj({inst:{value:n,getSnapshot:e}}),i=s[0].inst,r=s[1];return Gj(function(){i.value=n,i.getSnapshot=e,ad(i)&&r({inst:i})},[t,n,e]),Uj(function(){return ad(i)&&r({inst:i}),t(function(){ad(i)&&r({inst:i})})},[t]),Hj(n),n}function ad(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$j(t,n)}catch{return!0}}function Yj(t,e){return e()}var Kj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yj:Xj;Vv.useSyncExternalStore=ca.useSyncExternalStore!==void 0?ca.useSyncExternalStore:Kj;$v.exports=Vv;var Zj=$v.exports;const qj=K2.useInsertionEffect,Jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qj=Jj?j.useLayoutEffect:j.useEffect,eN=qj||Qj,Uv=t=>{const e=j.useRef([t,(...n)=>e[0](...n)]).current;return eN(()=>{e[0]=t}),e[1]},tN="popstate",xm="pushState",ym="replaceState",nN="hashchange",Xx=[tN,xm,ym,nN],sN=t=>{for(const e of Xx)addEventListener(e,t);return()=>{for(const e of Xx)removeEventListener(e,t)}},Gv=(t,e)=>Zj.useSyncExternalStore(sN,t,e),iN=()=>location.search,rN=({ssrSearch:t=""}={})=>Gv(iN,()=>t),Yx=()=>location.pathname,aN=({ssrPath:t}={})=>Gv(Yx,t?()=>t:Yx),oN=(t,{replace:e=!1,state:n=null}={})=>history[e?ym:xm](n,"",t),lN=(t={})=>[aN(t),oN],Kx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Kx]>"u"){for(const t of[xm,ym]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,Kx,{value:!0})}const cN=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Hv=(t="")=>t==="/"?"":t,uN=(t,e)=>t[0]==="~"?t.slice(1):Hv(e)+t,hN=(t="",e)=>cN(Zx(Hv(t)),Zx(e)),Zx=t=>{try{return decodeURI(t)}catch{return t}},Xv={hook:lN,searchHook:rN,parser:Wj,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},Yv=j.createContext(Xv),nh=()=>j.useContext(Yv),Kv={},Zv=j.createContext(Kv),xl=()=>j.useContext(Zv),_m=t=>{const[e,n]=t.hook(t);return[hN(t.base,e),Uv((s,i)=>n(uN(s,t.base),i))]},Ht=()=>_m(nh()),dN=(t,e,n,s)=>{const{pattern:i,keys:r}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),a=i.exec(n)||[],[o,...l]=a;return o!==void 0?[!0,(()=>{const u=r!==!1?Object.fromEntries(r.map((d,f)=>[d,l[f]])):a.groups;let h={...l};return u&&Object.assign(h,u),h})(),...s?[o]:[]]:[!1,null]},fN=({children:t,...e})=>{var h,d;const n=nh(),s=e.hook?Xv:n;let i=s;const[r,a]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=r),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let o=j.useRef({}),l=o.current,u=l;for(let f in s){const g=f==="base"?s[f]+(e[f]||""):e[f]||s[f];l===u&&g!==u[f]&&(o.current=u={...u}),u[f]=g,g!==s[f]&&(i=u)}return j.createElement(Yv.Provider,{value:i,children:t})},qx=({children:t,component:e},n)=>e?j.createElement(e,{params:n}):typeof t=="function"?t(n):t,gN=t=>{let e=j.useRef(Kv);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([s,i])=>i!==n[s])?t:n},De=({path:t,nest:e,match:n,...s})=>{const i=nh(),[r]=_m(i),[a,o,l]=n??dN(i.parser,t,r,e),u=gN({...xl(),...o});if(!a)return null;const h=l?j.createElement(fN,{base:l},qx(s,u)):qx(s,u);return j.createElement(Zv.Provider,{value:u,children:h})},Oe=j.forwardRef((t,e)=>{const n=nh(),[s,i]=_m(n),{to:r="",href:a=r,onClick:o,asChild:l,children:u,className:h,replace:d,state:f,...g}=t,m=Uv(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(o==null||o(_),_.defaultPrevented||(_.preventDefault(),i(a,t)))}),p=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&j.isValidElement(u)?j.cloneElement(u,{onClick:m,href:p}):j.createElement("a",{...g,onClick:m,href:p,className:h!=null&&h.call?h(s===a):h,children:u,ref:e})}),mN=()=>{const{restaurants:t}=Bv();return c.jsx("section",{className:"py-20 bg-base-100",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Restaurantes destacados"}),c.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Descubra nuestros restaurantes saludables mejor valorados, cuidadosamente seleccionados por nuestros expertos"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>c.jsxs("div",{className:"card bg-base-100 shadow-xl",children:[c.jsx("figure",{className:"px-4 pt-4"}),c.jsxs("div",{className:"card-body",children:[c.jsxs("h3",{className:"card-title",children:[e.name,c.jsx("div",{className:"badge badge-accent",children:c.jsx(Zi,{className:"w-4 h-4 mr-1"})})]}),c.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[c.jsx(Ho,{className:"w-4 h-4 mr-1"}),e.address]}),c.jsxs("p",{className:"text-gray-600",children:[e.about.substring(0,64),e.about.length>64&&"..."]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2"}),c.jsx("div",{className:"card-actions justify-end mt-4",children:c.jsx("button",{className:"btn btn-primary btn-sm",children:"Ver menús"})})]})]},e.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx(Oe,{href:"/search/restaurant",className:"btn btn-outline btn-lg",children:"Ver más"})})]})})},pN=()=>{const{menus:t}=Bv();return c.jsx("section",{className:"py-20 bg-gradient-to-b from-green-50 to-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Menús destacados"}),c.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Descubra platos deliciosos y saludables aprobados por expertos."}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>c.jsxs("div",{className:"card bg-base-100 shadow-xl",children:[c.jsx("figure",{className:"px-4 pt-4"}),c.jsxs("div",{className:"card-body flex flex-col justify-between",children:[c.jsxs("h3",{className:"card-title",children:[e.name,c.jsx(ba,{className:"w-5 h-5 text-green-500"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((n,s)=>c.jsx("span",{className:"badge badge-outline badge-sm",children:n},s))}),c.jsxs("div",{className:"grid grid-cols-3 place-content-center place-items-center mt-4",children:[c.jsxs("div",{className:"stat bg-base-200 rounded-lg p-2 flex justify-center items-center",children:[c.jsx("div",{className:"stat-title text-xs",children:"Price"}),c.jsxs("div",{className:"stat-value text-secondary text-lg",children:["$",e.price]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("button",{className:"btn btn-primary btn-sm",children:"Restaurant"}),c.jsx("button",{className:"btn btn-ghost btn-sm",children:c.jsx(eh,{className:"w-4 h-4"})})]})]})]})]},e.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("button",{className:"btn btn-outline btn-lg",children:"Ver más"})})]})})},xN=()=>{const t=[{id:1,name:"Dr. Sarah Johnson",image:"https://images.pexels.com/photos/5207017/pexels-photo-5207017.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",specialty:"Sports Nutrition",certification:"Ph.D. in Nutritional Sciences",experience:"15+ years",restaurants:12},{id:2,name:"Dr. Michael Chen",image:"https://images.pexels.com/photos/5452293/pexels-photo-5452293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",specialty:"Plant-Based Nutrition",certification:"M.S. in Clinical Nutrition",experience:"10+ years",restaurants:8},{id:3,name:"Dr. Emily Rodriguez",image:"https://images.pexels.com/photos/5407206/pexels-photo-5407206.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",specialty:"Weight Management",certification:"Ph.D. in Dietary Sciences",experience:"12+ years",restaurants:15}];return c.jsx("section",{className:"hidden py-20 bg-base-100",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Nuestros expoert"}),c.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Meet our certified nutritionists who carefully evaluate and recommend healthy restaurants"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>c.jsxs("div",{className:"card bg-base-100 shadow-xl",children:[c.jsx("figure",{className:"px-4 pt-4",children:c.jsx("img",{src:e.image,alt:e.name,className:"rounded-xl h-64 w-full object-cover"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("h3",{className:"card-title",children:[e.name,c.jsx(cj,{className:"w-5 h-5 text-primary"})]}),c.jsx("p",{className:"text-accent font-medium",children:e.specialty}),c.jsxs("div",{className:"space-y-2 mt-2",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Certification:"})," ",e.certification]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Experience:"})," ",e.experience]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Restaurants Certified:"})," ",e.restaurants]})]}),c.jsxs("div",{className:"card-actions justify-end mt-4",children:[c.jsxs("button",{className:"btn btn-primary btn-sm",children:[c.jsx(wj,{className:"w-4 h-4 mr-1"}),"Contact"]}),c.jsx("button",{className:"btn btn-outline btn-sm",children:"View Profile"})]})]})]},e.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("button",{className:"btn btn-outline btn-lg",children:"Meet All Nutritionists"})})]})})},yN=()=>{const t=[{id:1,name:"Emma Thompson",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",comment:"Finding healthy restaurants has never been easier! I love that all recommendations come from certified nutritionists.",rating:5,likes:124,replies:12,date:"2 days ago"},{id:2,name:"David Chen",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",comment:"The quality of restaurants listed here is outstanding. I've discovered so many great healthy options!",rating:5,likes:98,replies:8,date:"1 week ago"},{id:3,name:"Sofia Rodriguez",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",comment:"As someone who's health-conscious, this platform has been a game-changer for finding restaurants that align with my diet.",rating:5,likes:156,replies:15,date:"3 days ago"}];return c.jsx("section",{className:"py-20 bg-base-100",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Lo que dicen nuestros usuarios"}),c.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Experiencias reales de nuestra comunidad de comensales preocupados por su salud"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>c.jsx("div",{className:"card bg-base-100 shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"avatar",children:c.jsx("div",{className:"w-12 h-12 rounded-full",children:c.jsx("img",{src:e.avatar,alt:e.name})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:e.name}),c.jsx("div",{className:"flex items-center mt-1",children:[...Array(e.rating)].map((n,s)=>c.jsx(Zi,{className:"w-4 h-4 text-yellow-400 fill-current"},s))})]})]}),c.jsx("p",{className:"mt-4 text-gray-600",children:e.comment}),c.jsx("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-500",children:c.jsx("span",{children:e.date})})]})},e.id))})]})})},_N=()=>{const t=[{id:1,name:"Green Garden Restaurant",logo:"https://images.pexels.com/photos/3184183/pexels-photo-3184183.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",quote:"Being certified by top nutritionists has helped us reach health-conscious customers and grow our business significantly.",author:"Maria Garcia",role:"Owner",rating:5},{id:2,name:"Vital Kitchen",logo:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",quote:"The certification process helped us improve our menu and attract customers who care about their health.",author:"John Smith",role:"Executive Chef",rating:5},{id:3,name:"Pure & Fresh",logo:"https://images.pexels.com/photos/3184296/pexels-photo-3184296.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",quote:"Working with nutritionists has been invaluable in creating healthy, delicious meals our customers love.",author:"Sarah Johnson",role:"Manager",rating:5}];return c.jsx("section",{className:"py-20 bg-gradient-to-b from-base-200 to-base-100",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Historias de éxito de restaurantes"}),c.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Escuche a restaurantes que han transformado su negocio gracias a la certificación saludable"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"avatar",children:c.jsx("div",{className:"w-16 h-16 rounded-full",children:c.jsx("img",{src:e.logo,alt:e.name})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:e.name}),c.jsx("div",{className:"flex items-center mt-1",children:[...Array(e.rating)].map((n,s)=>c.jsx(Zi,{className:"w-4 h-4 text-yellow-400 fill-current"},s))})]})]}),c.jsx(Cj,{className:"w-8 h-8 text-primary opacity-20 mb-2"}),c.jsx("p",{className:"text-gray-600 italic",children:e.quote}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"font-medium",children:e.author}),c.jsx("p",{className:"text-sm text-gray-500",children:e.role})]})]})},e.id))})]})})},vN=()=>c.jsx("footer",{className:"bg-neutral text-neutral-content",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"footer p-10",children:[c.jsxs("div",{children:[c.jsx("span",{className:"footer-title",children:"About Us"}),c.jsx("p",{className:"max-w-xs mt-2",children:"Connecting health-conscious diners with nutritionist-approved restaurants for better eating choices."}),c.jsxs("div",{className:"flex gap-4 mt-4",children:[c.jsx(Oe,{href:"#",target:"_blank",className:"btn btn-circle btn-outline btn-sm",children:c.jsx(pj,{className:"w-4 h-4"})}),c.jsx(Oe,{href:"#",target:"_blank",className:"btn btn-circle btn-outline btn-sm",children:c.jsx(Pj,{className:"w-4 h-4"})}),c.jsx(Oe,{href:"#",target:"_blank",className:"btn btn-circle btn-outline btn-sm",children:c.jsx(bj,{className:"w-4 h-4"})}),c.jsx(Oe,{href:"#",target:"_blank",className:"btn btn-circle btn-outline btn-sm",children:c.jsx(Dj,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"footer-title",children:"Enlaces Rápidos"}),c.jsx(Oe,{href:"/admin/login",className:"link link-hover",children:"Administración"}),c.jsx(Oe,{href:"/search/restaurant",target:"_blank",className:"link link-hover",children:"Restaurantes"}),c.jsx(Oe,{href:"/search/menus",target:"_blank",className:"link link-hover",children:"Menus"}),c.jsx(Oe,{href:"#",target:"_blank",className:"link link-hover"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"footer-title",children:"Support"}),c.jsx(Oe,{href:"#",target:"_blank",className:"link link-hover",children:"Help Center"}),c.jsx(Oe,{href:"#",target:"_blank",className:"link link-hover",children:"Terms of Service"}),c.jsx(Oe,{href:"#",target:"_blank",className:"link link-hover",children:"Privacy Policy"}),c.jsx(Oe,{href:"#",target:"_blank",className:"link link-hover",children:"Contact Us"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"footer-title",children:"Contact"}),c.jsxs(Oe,{href:"#",target:"_blank",className:"link link-hover flex items-center gap-2",children:[c.jsx(Ov,{className:"w-4 h-4"}),"contact@healthyeats.com"]}),c.jsxs(Oe,{href:"#",target:"_blank",className:"link link-hover flex items-center gap-2",children:[c.jsx(jj,{className:"w-4 h-4"}),"+1 (555) 123-4567"]}),c.jsxs(Oe,{href:"#",target:"_blank",className:"link link-hover flex items-center gap-2",children:[c.jsx(Ho,{className:"w-4 h-4"}),"123 Health Street, Foodie City"]})]})]}),c.jsx("div",{className:"footer footer-center p-4 border-t border-base-300",children:c.jsx("p",{children:"© 2025 HealthyEats. All rights reserved."})})]})}),bN={isAuthenticated:!1,logout:()=>{},user:null},qv=j.createContext(bN),wN=({children:t})=>{const e=window.localStorage.getItem("comesaludable_data"),n=window.localStorage.getItem("comesaludable_token"),[s,i]=j.useState(!!n),[r,a]=j.useState(e?JSON.parse(e):null),o=()=>{window.localStorage.removeItem("comesaludable_data"),window.localStorage.removeItem("comesaludable_token"),window.location.reload()};return c.jsx(qv.Provider,{value:{isAuthenticated:s,user:r,logout:o},children:t})},it=()=>j.useContext(qv),SN=({onLoginClick:t,onRegisterClick:e,onRestaurantLoginClick:n})=>{const{isAuthenticated:s,user:i,logout:r}=it(),[a,o]=j.useState(!1);return c.jsx("nav",{className:"hidden md:block bg-white border-b border-neutral/10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rj,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"ml-2 text-xl font-semibold text-neutral",children:"ComeSaludable"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[!s&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>o(!a),className:"relative flex gap-2 nav-link",children:[c.jsx(Dv,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Entrar"}),a&&c.jsxs("div",{className:"duration-200 grid absolute w-[200px] z-10 translate-y-7 py-2 rounded-md shadow-md border-t bg-white",children:[c.jsx("button",{onClick:()=>{o(!1),t()},className:"py-2 hover:bg-slate-200",children:"Persona"}),c.jsx("button",{onClick:()=>{o(!1),e()},className:"py-2 hover:bg-slate-200",children:"Crear Cuenta"}),c.jsx("button",{onClick:()=>{o(!1),n()},className:"py-2 hover:bg-slate-200",children:"Restaurante"})]})]}),c.jsxs("a",{href:"/search/restaurant",className:"nav-link flex gap-2",children:[c.jsx(ci,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Restaurantes"})]})]}),s&&!i.access&&c.jsxs(c.Fragment,{children:[i.email!=="comesaludable2025"?c.jsxs("a",{href:"/profile",className:"nav-link flex gap-2",children:[c.jsx(Et,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Perfil"})]}):c.jsxs("a",{href:"/admin",className:"nav-link flex gap-2",children:[c.jsx(Et,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Administración"})]}),c.jsxs("a",{href:"/restaurants",className:"nav-link flex gap-2",children:[c.jsx(ci,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Restaurantes"})]})]}),c.jsxs("a",{href:"/search",className:"nav-link btn  btn-primary flex gap-2",children:[c.jsx(mm,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Buscar"})]}),s&&i.access&&c.jsx(c.Fragment,{children:c.jsxs("a",{href:"/restaurant/profile",className:"nav-link flex gap-2",children:[c.jsx(Et,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Perfil"})]})}),s&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:r,className:"nav-link flex gap-2",children:[c.jsx(pl,{width:16}),c.jsx("span",{className:"hidden lg:block",children:"Salir"})]})})]})]})})})},EN=({onLoginClick:t,onRegisterClick:e,onRestaurantLoginClick:n})=>{const{isAuthenticated:s,user:i,logout:r}=it(),[a,o]=j.useState(!1);return c.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-neutral/10 z-50",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsxs("a",{href:"#",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200 active",children:[c.jsx(th,{className:"h-6 w-6"}),c.jsx("span",{children:"Home"})]}),c.jsxs("a",{href:"#search",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(mm,{className:"h-6 w-6"}),c.jsx("span",{children:"Buscar"})]}),s&&i.access&&c.jsxs(c.Fragment,{children:[c.jsxs("a",{href:"/restaurant",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200 active",children:[c.jsx(uj,{className:"h-6 w-6"}),c.jsx("span",{children:"Panel"})]}),c.jsxs("a",{href:"/restaurant/profile",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(ci,{className:"h-6 w-6"}),c.jsx("span",{children:"Perfil"})]})]}),i&&!i.access&&c.jsxs("a",{href:"#search",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(ci,{className:"h-6 w-6"}),c.jsx("span",{children:"Restaurantes"})]}),s&&c.jsxs("button",{onClick:r,className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(pl,{className:"h-6 w-6"}),c.jsx("span",{children:"Salir"})]}),s&&!i.access&&c.jsxs("a",{href:"/profile",className:"flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(hu,{className:"h-6 w-6"}),c.jsx("span",{children:"Profile"})]}),!s&&c.jsxs("button",{onClick:()=>o(!a),className:"relative flex flex-col flex-1 items-center justify-center text-xs text-neutral/60 hover:text-primary transition-colors duration-200",children:[c.jsx(Dv,{className:"h-6 w-6"}),c.jsx("span",{children:"Entrar"}),a&&c.jsxs("div",{className:"duration-200 grid absolute w-full z-10 -translate-y-16 py-2 rounded-md shadow-md border-t bg-white",children:[c.jsx("button",{onClick:()=>{o(!1),t()},className:"py-2 hover:bg-slate-200",children:"Persona"}),c.jsx("button",{onClick:()=>{o(!1),e()},className:"py-2 hover:bg-slate-200",children:"Crear Cuenta"}),c.jsx("button",{onClick:()=>{o(!1),n()},className:"py-2 hover:bg-slate-200",children:"Restaurante"})]})]})]})})},Nt={ADD:"add",REMOVE:"remove"},ua={PROPERTYCHANGE:"propertychange"},q={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class sh{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function jN(t,e,n){let s,i;n=n||hs;let r=0,a=t.length,o=!1;for(;r<a;)s=r+(a-r>>1),i=+n(t[s],e),i<0?r=s+1:(a=s,o=!i);return o?r:~r}function hs(t,e){return t>e?1:t<e?-1:0}function NN(t,e){return t<e?1:t>e?-1:0}function vm(t,e,n){if(t[0]<=e)return 0;const s=t.length;if(e<=t[s-1])return s-1;if(typeof n=="function"){for(let i=1;i<s;++i){const r=t[i];if(r===e)return i;if(r<e)return n(e,t[i-1],r)>0?i-1:i}return s-1}if(n>0){for(let i=1;i<s;++i)if(t[i]<e)return i-1;return s-1}if(n<0){for(let i=1;i<s;++i)if(t[i]<=e)return i;return s-1}for(let i=1;i<s;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return s-1}function CN(t,e,n){for(;e<n;){const s=t[e];t[e]=t[n],t[n]=s,++e,--n}}function bm(t,e){const n=Array.isArray(e)?e:[e],s=n.length;for(let i=0;i<s;i++)t[t.length]=n[i]}function pi(t,e){const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function kN(t,e,n){const s=e||hs;return t.every(function(i,r){if(r===0)return!0;const a=s(t[r-1],i);return!(a>0||a===0)})}function Xo(){return!0}function ih(){return!1}function Yo(){}function Jv(t){let e,n,s;return function(){const i=Array.prototype.slice.call(arguments);return(!n||this!==s||!pi(i,n))&&(s=this,n=i,e=t.apply(this,arguments)),e}}function RN(t){function e(){let n;try{n=t()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function yl(t){for(const e in t)delete t[e]}function ha(t){let e;for(e in t)return!1;return!e}class Es{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class rh extends sh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const s=this.listeners_||(this.listeners_={}),i=s[e]||(s[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",s=n?e:e.type,i=this.listeners_&&this.listeners_[s];if(!i)return;const r=n?new Es(e):e;r.target||(r.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});s in a||(a[s]=0,o[s]=0),++a[s];let l;for(let u=0,h=i.length;u<h;++u)if("handleEvent"in i[u]?l=i[u].handleEvent(r):l=i[u].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--a[s]===0){let u=o[s];for(delete o[s];u--;)this.removeEventListener(s,Yo);delete a[s]}return l}disposeInternal(){this.listeners_&&yl(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const s=this.listeners_[e];if(!s)return;const i=s.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(s[i]=Yo,++this.pendingRemovals_[e]):(s.splice(i,1),s.length===0&&delete this.listeners_[e]))}}function re(t,e,n,s,i){if(i){const a=n;n=function(o){return t.removeEventListener(e,n),a.call(s??this,o)}}else s&&s!==t&&(n=n.bind(s));const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function du(t,e,n,s){return re(t,e,n,s,!0)}function je(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),yl(t))}class _l extends rh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(q.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const s=e.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=re(this,e[r],n);return i}return re(this,e,n)}onceInternal(e,n){let s;if(Array.isArray(e)){const i=e.length;s=new Array(i);for(let r=0;r<i;++r)s[r]=du(this,e[r],n)}else s=du(this,e,n);return n.ol_key=s,s}unInternal(e,n){const s=n.ol_key;if(s)TN(s);else if(Array.isArray(e))for(let i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}_l.prototype.on;_l.prototype.once;_l.prototype.un;function TN(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)je(t[e]);else je(t)}function ie(){throw new Error("Unimplemented abstract method.")}let MN=0;function ue(t){return t.ol_uid||(t.ol_uid=String(++MN))}class Jx extends Es{constructor(e,n,s){super(e),this.key=n,this.oldValue=s}}class Un extends _l{constructor(e){super(),this.on,this.once,this.un,ue(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let s;s=`change:${e}`,this.hasListener(s)&&this.dispatchEvent(new Jx(s,e,n)),s=ua.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new Jx(s,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,s){const i=this.values_||(this.values_={});if(s)i[e]=n;else{const r=i[e];i[e]=n,r!==n&&this.notify(e,r)}}setProperties(e,n){for(const s in e)this.set(s,e[s],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const s=this.values_[e];delete this.values_[e],ha(this.values_)&&(this.values_=null),n||this.notify(e,s)}}}const Qx={LENGTH:"length"};class ql extends Es{constructor(e,n,s){super(e),this.element=n,this.index=s}}class Wn extends Un{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let s=0,i=this.array_.length;s<i;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,s=e.length;n<s;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let s=0,i=n.length;s<i;++s)e(n[s],s,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Qx.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ql(Nt.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let s=0,i=n.length;s<i;++s)if(n[s]===e)return this.removeAt(s)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ql(Nt.REMOVE,n,e)),n}setAt(e,n){const s=this.getLength();if(e>=s){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ql(Nt.REMOVE,i,e)),this.dispatchEvent(new ql(Nt.ADD,n,e))}updateLength_(){this.set(Qx.LENGTH,this.array_.length)}assertUnique_(e,n){for(let s=0,i=this.array_.length;s<i;++s)if(this.array_[s]===e&&s!==n)throw new Error("Duplicate item added to a unique collection")}}function de(t,e){if(!t)throw new Error(e)}class wm extends Un{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new wm(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const s=this.getStyle();return s&&e.setStyle(s),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(je(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=re(e,q.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?IN(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function IN(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(de(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const Ke={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function e0(t){const e=hn();for(let n=0,s=t.length;n<s;++n)So(e,t[n]);return e}function Sm(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Qv(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function eb(t,e,n){let s,i;return e<t[0]?s=t[0]-e:t[2]<e?s=e-t[2]:s=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,s*s+i*i}function da(t,e){return tb(t,e[0],e[1])}function to(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function tb(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Bf(t,e){const n=t[0],s=t[1],i=t[2],r=t[3],a=e[0],o=e[1];let l=Ke.UNKNOWN;return a<n?l=l|Ke.LEFT:a>i&&(l=l|Ke.RIGHT),o<s?l=l|Ke.BELOW:o>r&&(l=l|Ke.ABOVE),l===Ke.UNKNOWN&&(l=Ke.INTERSECTING),l}function hn(){return[1/0,1/0,-1/0,-1/0]}function hi(t,e,n,s,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=s,i):[t,e,n,s]}function ah(t){return hi(1/0,1/0,-1/0,-1/0,t)}function nb(t,e){const n=t[0],s=t[1];return hi(n,s,n,s,e)}function Em(t,e,n,s,i){const r=ah(i);return sb(r,t,e,n,s)}function Ko(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function PN(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function So(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function sb(t,e,n,s,i){for(;n<s;n+=i)AN(t,e[n],e[n+1]);return t}function AN(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function ib(t,e){let n;return n=e(oh(t)),n||(n=e(lh(t)),n)||(n=e(ch(t)),n)||(n=e(ar(t)),n)?n:!1}function $f(t){let e=0;return uh(t)||(e=he(t)*dt(t)),e}function oh(t){return[t[0],t[1]]}function lh(t){return[t[2],t[1]]}function Ji(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function LN(t,e){let n;if(e==="bottom-left")n=oh(t);else if(e==="bottom-right")n=lh(t);else if(e==="top-left")n=ar(t);else if(e==="top-right")n=ch(t);else throw new Error("Invalid corner");return n}function Vf(t,e,n,s,i){const[r,a,o,l,u,h,d,f]=rb(t,e,n,s);return hi(Math.min(r,o,u,d),Math.min(a,l,h,f),Math.max(r,o,u,d),Math.max(a,l,h,f),i)}function rb(t,e,n,s){const i=e*s[0]/2,r=e*s[1]/2,a=Math.cos(n),o=Math.sin(n),l=i*a,u=i*o,h=r*a,d=r*o,f=t[0],g=t[1];return[f-l+d,g-u-h,f-l-d,g-u+h,f+l-d,g+u+h,f+l+d,g+u-h,f-l+d,g-u-h]}function dt(t){return t[3]-t[1]}function $i(t,e,n){const s=n||hn();return Rt(t,e)?(t[0]>e[0]?s[0]=t[0]:s[0]=e[0],t[1]>e[1]?s[1]=t[1]:s[1]=e[1],t[2]<e[2]?s[2]=t[2]:s[2]=e[2],t[3]<e[3]?s[3]=t[3]:s[3]=e[3]):ah(s),s}function ar(t){return[t[0],t[3]]}function ch(t){return[t[2],t[3]]}function he(t){return t[2]-t[0]}function Rt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function uh(t){return t[2]<t[0]||t[3]<t[1]}function DN(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function ON(t,e,n){let s=!1;const i=Bf(t,e),r=Bf(t,n);if(i===Ke.INTERSECTING||r===Ke.INTERSECTING)s=!0;else{const a=t[0],o=t[1],l=t[2],u=t[3],h=e[0],d=e[1],f=n[0],g=n[1],m=(g-d)/(f-h);let p,_;r&Ke.ABOVE&&!(i&Ke.ABOVE)&&(p=f-(g-u)/m,s=p>=a&&p<=l),!s&&r&Ke.RIGHT&&!(i&Ke.RIGHT)&&(_=g-(f-l)*m,s=_>=o&&_<=u),!s&&r&Ke.BELOW&&!(i&Ke.BELOW)&&(p=f-(g-o)/m,s=p>=a&&p<=l),!s&&r&Ke.LEFT&&!(i&Ke.LEFT)&&(_=g-(f-a)*m,s=_>=o&&_<=u)}return s}function ab(t,e){const n=e.getExtent(),s=Ji(t);if(e.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const i=he(n),a=Math.floor((s[0]-n[0])/i)*i;t[0]-=a,t[2]-=a}return t}function ob(t,e,n){if(e.canWrapX()){const s=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[s[0],t[1],s[2],t[3]]];ab(t,e);const i=he(s);if(he(t)>i&&!n)return[[s[0],t[1],s[2],t[3]]];if(t[0]<s[0])return[[t[0]+i,t[1],s[2],t[3]],[s[0],t[1],t[2],t[3]]];if(t[2]>s[2])return[[t[0],t[1],s[2],t[3]],[s[0],t[1],t[2]-i,t[3]]]}return[t]}function Ce(t,e,n){return Math.min(Math.max(t,e),n)}function FN(t,e,n,s,i,r){const a=i-n,o=r-s;if(a!==0||o!==0){const l=((t-n)*a+(e-s)*o)/(a*a+o*o);l>1?(n=i,s=r):l>0&&(n+=a*l,s+=o*l)}return Yr(t,e,n,s)}function Yr(t,e,n,s){const i=n-t,r=s-e;return i*i+r*r}function zN(t){const e=t.length;for(let s=0;s<e;s++){let i=s,r=Math.abs(t[s][s]);for(let o=s+1;o<e;o++){const l=Math.abs(t[o][s]);l>r&&(r=l,i=o)}if(r===0)return null;const a=t[i];t[i]=t[s],t[s]=a;for(let o=s+1;o<e;o++){const l=-t[o][s]/t[s][s];for(let u=s;u<e+1;u++)s==u?t[o][u]=0:t[o][u]+=l*t[s][u]}}const n=new Array(e);for(let s=e-1;s>=0;s--){n[s]=t[s][e]/t[s][s];for(let i=s-1;i>=0;i--)t[i][e]-=t[i][s]*n[s]}return n}function t0(t){return t*180/Math.PI}function ni(t){return t*Math.PI/180}function Kr(t,e){const n=t%e;return n*e<0?n+e:n}function tn(t,e,n){return t+n*(e-t)}function hh(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Jl(t,e){return Math.floor(hh(t,e))}function Ql(t,e){return Math.ceil(hh(t,e))}function Uf(t,e,n){if(t>=e&&t<n)return t;const s=n-e;return((t-e)%s+s)%s+e}const WN=63710088e-1;function n0(t,e,n){n=n||WN;const s=ni(t[1]),i=ni(e[1]),r=(i-s)/2,a=ni(e[0]-t[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(a)*Math.sin(a)*Math.cos(s)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function lb(...t){console.warn(...t)}function BN(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function fu(t,e){let n=!0;for(let s=t.length-1;s>=0;--s)if(t[s]!=e[s]){n=!1;break}return n}function jm(t,e){const n=Math.cos(e),s=Math.sin(e),i=t[0]*n-t[1]*s,r=t[1]*n+t[0]*s;return t[0]=i,t[1]=r,t}function $N(t,e){return t[0]*=e,t[1]*=e,t}function cb(t,e){if(e.canWrapX()){const n=he(e.getExtent()),s=VN(t,e,n);s&&(t[0]-=s*n)}return t}function VN(t,e,n){const s=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<s[0]||t[0]>s[2])&&(n=n||he(s),i=Math.floor((t[0]-s[0])/n)),i}const Nm={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Cm{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Nm[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const vl=6378137,zr=Math.PI*vl,UN=[-zr,-zr,zr,zr],GN=[-180,-85,180,85],ec=vl*Math.log(Math.tan(Math.PI/2));class gr extends Cm{constructor(e){super({code:e,units:"m",extent:UN,global:!0,worldExtent:GN,getPointResolution:function(n,s){return n/Math.cosh(s[1]/vl)}})}}const s0=[new gr("EPSG:3857"),new gr("EPSG:102100"),new gr("EPSG:102113"),new gr("EPSG:900913"),new gr("http://www.opengis.net/def/crs/EPSG/0/3857"),new gr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function HN(t,e,n,s){const i=t.length;n=n>1?n:2,s=s??n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=s){e[r]=zr*t[r]/180;let a=vl*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));a>ec?a=ec:a<-ec&&(a=-ec),e[r+1]=a}return e}function XN(t,e,n,s){const i=t.length;n=n>1?n:2,s=s??n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=s)e[r]=180*t[r]/zr,e[r+1]=360*Math.atan(Math.exp(t[r+1]/vl))/Math.PI-90;return e}const YN=6378137,i0=[-180,-90,180,90],KN=Math.PI*YN/180;class bi extends Cm{constructor(e,n){super({code:e,units:"degrees",extent:i0,axisOrientation:n,global:!0,metersPerUnit:KN,worldExtent:i0})}}const r0=[new bi("CRS:84"),new bi("EPSG:4326","neu"),new bi("urn:ogc:def:crs:OGC:1.3:CRS84"),new bi("urn:ogc:def:crs:OGC:2:84"),new bi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new bi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new bi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Gf={};function ZN(t){return Gf[t]||Gf[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function qN(t,e){Gf[t]=e}let Zr={};function Zo(t,e,n){const s=t.getCode(),i=e.getCode();s in Zr||(Zr[s]={}),Zr[s][i]=n}function od(t,e){return t in Zr&&e in Zr[t]?Zr[t][e]:null}const gu=.9996,ln=.00669438,dh=ln*ln,fh=dh*ln,Ai=ln/(1-ln),a0=Math.sqrt(1-ln),fa=(1-a0)/(1+a0),ub=fa*fa,km=ub*fa,Rm=km*fa,hb=Rm*fa,db=1-ln/4-3*dh/64-5*fh/256,JN=3*ln/8+3*dh/32+45*fh/1024,QN=15*dh/256+45*fh/1024,eC=35*fh/3072,tC=3/2*fa-27/32*km+269/512*hb,nC=21/16*ub-55/32*Rm,sC=151/96*km-417/128*hb,iC=1097/512*Rm,mu=6378137;function rC(t,e,n){const s=t-5e5,a=(n.north?e:e-1e7)/gu/(mu*db),o=a+tC*Math.sin(2*a)+nC*Math.sin(4*a)+sC*Math.sin(6*a)+iC*Math.sin(8*a),l=Math.sin(o),u=l*l,h=Math.cos(o),d=l/h,f=d*d,g=f*f,m=1-ln*u,p=Math.sqrt(1-ln*u),_=mu/p,x=(1-ln)/m,y=Ai*h**2,v=y*y,b=s/(_*gu),w=b*b,N=w*b,S=N*b,E=S*b,C=E*b,k=o-d/x*(w/2-S/24*(5+3*f+10*y-4*v-9*Ai))+C/720*(61+90*f+298*y+45*g-252*Ai-3*v);let I=(b-N/6*(1+2*f+y)+E/120*(5-2*y+28*f-3*v+8*Ai+24*g))/h;return I=Uf(I+ni(fb(n.number)),-Math.PI,Math.PI),[t0(I),t0(k)]}const o0=-80,l0=84,aC=-180,oC=180;function lC(t,e,n){t=Uf(t,aC,oC),e<o0?e=o0:e>l0&&(e=l0);const s=ni(e),i=Math.sin(s),r=Math.cos(s),a=i/r,o=a*a,l=o*o,u=ni(t),h=fb(n.number),d=ni(h),f=mu/Math.sqrt(1-ln*i**2),g=Ai*r**2,m=r*Uf(u-d,-Math.PI,Math.PI),p=m*m,_=p*m,x=_*m,y=x*m,v=y*m,b=mu*(db*s-JN*Math.sin(2*s)+QN*Math.sin(4*s)-eC*Math.sin(6*s)),w=gu*f*(m+_/6*(1-o+g)+y/120*(5-18*o+l+72*g-58*Ai))+5e5;let N=gu*(b+f*a*(p/2+x/24*(5-o+9*g+4*g**2)+v/720*(61-58*o+l+600*g-330*Ai)));return n.north||(N+=1e7),[w,N]}function fb(t){return(t-1)*6-180+3}const cC=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function gb(t){let e=0;for(const i of cC){const r=t.match(i);if(r){e=parseInt(r[1]);break}}if(!e)return null;let n=0,s=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(s=!0,n=e-32600),n?{number:n,north:s}:null}function c0(t,e){return function(n,s,i,r){const a=n.length;i=i>1?i:2,r=r??i,s||(i>2?s=n.slice():s=new Array(a));for(let o=0;o<a;o+=r){const l=n[o],u=n[o+1],h=t(l,u,e);s[o]=h[0],s[o+1]=h[1]}return s}}function uC(t){return gb(t)?new Cm({code:t,units:"m"}):null}function hC(t){const e=gb(t.getCode());return e?{forward:c0(lC,e),inverse:c0(rC,e)}:null}const dC=[hC],fC=[uC];let Hf=!0;function mb(t){Hf=!1}function Tm(t,e){if(e!==void 0){for(let n=0,s=t.length;n<s;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Xf(t){qN(t.getCode(),t),Zo(t,t,Tm)}function gC(t){t.forEach(Xf)}function Ft(t){if(typeof t!="string")return t;const e=ZN(t);if(e)return e;for(const n of fC){const s=n(t);if(s)return s}return null}function u0(t,e,n,s){t=Ft(t);let i;const r=t.getPointResolutionFunc();if(r)i=r(e,n);else{const a=t.getUnits();if(a=="degrees"&&!s||s=="degrees")i=e;else{const o=Im(t,Ft("EPSG:4326"));if(!o&&a!=="degrees")i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=o(u,u,2);const h=n0(u.slice(0,2),u.slice(2,4)),d=n0(u.slice(4,6),u.slice(6,8));i=(h+d)/2}const l=t.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function h0(t){gC(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Zo(e,n,Tm)})})}function mC(t,e,n,s){t.forEach(function(i){e.forEach(function(r){Zo(i,r,n),Zo(r,i,s)})})}function Mm(t,e){return t?typeof t=="string"?Ft(t):t:Ft(e)}function pC(t){return function(e,n,s,i){const r=e.length;s=s!==void 0?s:2,i=i??s,n=n!==void 0?n:new Array(r);for(let a=0;a<r;a+=i){const o=t(e.slice(a,a+s)),l=o.length;for(let u=0,h=i;u<h;++u)n[a+u]=u>=l?e[a+u]:o[u]}return n}}function d0(t,e){return mb(),Pm(t,"EPSG:4326","EPSG:3857")}function ld(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Im(t,e)===Tm)&&n}function Im(t,e){const n=t.getCode(),s=e.getCode();let i=od(n,s);if(i)return i;let r=null,a=null;for(const l of dC)r||(r=l(t)),a||(a=l(e));if(!r&&!a)return null;const o="EPSG:4326";if(a)if(r)i=cd(r.inverse,a.forward);else{const l=od(n,o);l&&(i=cd(l,a.forward))}else{const l=od(o,s);l&&(i=cd(r.inverse,l))}return i&&(Xf(t),Xf(e),Zo(t,e,i)),i}function cd(t,e){return function(n,s,i,r){return s=t(n,s,i,r),e(s,s,i,r)}}function pu(t,e){const n=Ft(t),s=Ft(e);return Im(n,s)}function Pm(t,e,n){const s=pu(e,n);if(!s){const i=Ft(e).getCode(),r=Ft(n).getCode();throw new Error(`No transform available between ${i} and ${r}`)}return s(t,void 0,t.length)}function Yf(t,e){return t}function Qn(t,e){return Hf&&!fu(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Hf=!1,lb("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function pb(t,e){return t}function Us(t,e){return t}function xC(){h0(s0),h0(r0),mC(r0,s0,HN,XN)}xC();new Array(6);function jn(){return[1,0,0,1,0,0]}function yC(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function qe(t,e){const n=e[0],s=e[1];return e[0]=t[0]*n+t[2]*s+t[4],e[1]=t[1]*n+t[3]*s+t[5],e}function _s(t,e,n,s,i,r,a,o){const l=Math.sin(r),u=Math.cos(r);return t[0]=s*u,t[1]=i*l,t[2]=-s*l,t[3]=i*u,t[4]=a*s*u-o*s*l+e,t[5]=a*i*l+o*i*u+n,t}function xb(t,e){const n=_C(e);de(n!==0,"Transformation matrix cannot be inverted");const s=e[0],i=e[1],r=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-i/n,t[2]=-r/n,t[3]=s/n,t[4]=(r*l-a*o)/n,t[5]=-(s*l-i*o)/n,t}function _C(t){return t[0]*t[3]-t[1]*t[2]}const vC=[1e5,1e5,1e5,1e5,2,2];function bC(t){return"matrix("+t.join(", ")+")"}function f0(t){return t.substring(7,t.length-1).split(",").map(parseFloat)}function wC(t,e){const n=f0(t),s=f0(e);for(let i=0;i<6;++i)if(Math.round((n[i]-s[i])*vC[i])!==0)return!1;return!0}function si(t,e,n,s,i,r,a){r=r||[],a=a||2;let o=0;for(let l=e;l<n;l+=s){const u=t[l],h=t[l+1];r[o++]=i[0]*u+i[2]*h+i[4],r[o++]=i[1]*u+i[3]*h+i[5];for(let d=2;d<a;d++)r[o++]=t[l+d]}return r&&r.length!=o&&(r.length=o),r}function yb(t,e,n,s,i,r,a){a=a||[];const o=Math.cos(i),l=Math.sin(i),u=r[0],h=r[1];let d=0;for(let f=e;f<n;f+=s){const g=t[f]-u,m=t[f+1]-h;a[d++]=u+g*o-m*l,a[d++]=h+g*l+m*o;for(let p=f+2;p<f+s;++p)a[d++]=t[p]}return a&&a.length!=d&&(a.length=d),a}function SC(t,e,n,s,i,r,a,o){o=o||[];const l=a[0],u=a[1];let h=0;for(let d=e;d<n;d+=s){const f=t[d]-l,g=t[d+1]-u;o[h++]=l+i*f,o[h++]=u+r*g;for(let m=d+2;m<d+s;++m)o[h++]=t[m]}return o&&o.length!=h&&(o.length=h),o}function EC(t,e,n,s,i,r,a){a=a||[];let o=0;for(let l=e;l<n;l+=s){a[o++]=t[l]+i,a[o++]=t[l+1]+r;for(let u=l+2;u<l+s;++u)a[o++]=t[u]}return a&&a.length!=o&&(a.length=o),a}const g0=jn(),jC=[NaN,NaN];class NC extends Un{constructor(){super(),this.extent_=hn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Jv((e,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(s),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ie()}closestPointXY(e,n,s,i){return ie()}containsXY(e,n){return this.closestPointXY(e,n,jC,Number.MIN_VALUE)===0}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ie()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ah(n),this.extentRevision_=this.getRevision()}return DN(this.extent_,e)}rotate(e,n){ie()}scale(e,n,s){ie()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ie()}getType(){return ie()}applyTransform(e){ie()}intersectsExtent(e){return ie()}translate(e,n){ie()}transform(e,n){const s=Ft(e),i=s.getUnits()=="tile-pixels"?function(r,a,o){const l=s.getExtent(),u=s.getWorldExtent(),h=dt(u)/dt(l);_s(g0,u[0],u[3],h,-h,0,0,0);const d=si(r,0,r.length,o,g0,a),f=pu(s,n);return f?f(d,d,o):d}:pu(s,n);return this.applyTransform(i),this}}class Am extends NC{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Em(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ie()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=m0(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ie()}setLayout(e,n,s){let i;if(e)i=m0(e);else{for(let r=0;r<s;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=CC(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const s=this.getFlatCoordinates();if(s){const i=this.getStride();yb(s,0,s.length,i,e,n,s),this.changed()}}scale(e,n,s){n===void 0&&(n=e),s||(s=Ji(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();SC(i,0,i.length,r,e,n,s,i),this.changed()}}translate(e,n){const s=this.getFlatCoordinates();if(s){const i=this.getStride();EC(s,0,s.length,i,e,n,s),this.changed()}}}function CC(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function m0(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function kC(t,e,n){const s=t.getFlatCoordinates();if(!s)return null;const i=t.getStride();return si(s,0,s.length,i,e,n)}function _b(t,e,n,s){let i=0;const r=t[n-s],a=t[n-s+1];let o=0,l=0;for(;e<n;e+=s){const u=t[e]-r,h=t[e+1]-a;i+=l*u-o*h,o=u,l=h}return i/2}function RC(t,e,n,s){let i=0;for(let r=0,a=n.length;r<a;++r){const o=n[r];i+=_b(t,e,o,s),e=o}return i}function p0(t,e,n,s,i,r,a){const o=t[e],l=t[e+1],u=t[n]-o,h=t[n+1]-l;let d;if(u===0&&h===0)d=e;else{const f=((i-o)*u+(r-l)*h)/(u*u+h*h);if(f>1)d=n;else if(f>0){for(let g=0;g<s;++g)a[g]=tn(t[e+g],t[n+g],f);a.length=s;return}else d=e}for(let f=0;f<s;++f)a[f]=t[d+f];a.length=s}function vb(t,e,n,s,i){let r=t[e],a=t[e+1];for(e+=s;e<n;e+=s){const o=t[e],l=t[e+1],u=Yr(r,a,o,l);u>i&&(i=u),r=o,a=l}return i}function TC(t,e,n,s,i){for(let r=0,a=n.length;r<a;++r){const o=n[r];i=vb(t,e,o,s,i),e=o}return i}function bb(t,e,n,s,i,r,a,o,l,u,h){if(e==n)return u;let d,f;if(i===0){if(f=Yr(a,o,t[e],t[e+1]),f<u){for(d=0;d<s;++d)l[d]=t[e+d];return l.length=s,f}return u}h=h||[NaN,NaN];let g=e+s;for(;g<n;)if(p0(t,g-s,g,s,a,o,h),f=Yr(a,o,h[0],h[1]),f<u){for(u=f,d=0;d<s;++d)l[d]=h[d];l.length=s,g+=s}else g+=s*Math.max((Math.sqrt(f)-Math.sqrt(u))/i|0,1);if(p0(t,n-s,e,s,a,o,h),f=Yr(a,o,h[0],h[1]),f<u){for(u=f,d=0;d<s;++d)l[d]=h[d];l.length=s}return u}function MC(t,e,n,s,i,r,a,o,l,u,h){h=h||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const g=n[d];u=bb(t,e,g,s,i,r,a,o,l,u,h),e=g}return u}function IC(t,e,n,s){for(let i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}function wb(t,e,n,s){for(let i=0,r=n.length;i<r;++i){const a=n[i];for(let o=0;o<s;++o)t[e++]=a[o]}return e}function PC(t,e,n,s,i){i=i||[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=wb(t,e,n[a],s);i[r++]=l,e=l}return i.length=r,i}function Wr(t,e,n,s,i){i=i!==void 0?i:[];let r=0;for(let a=e;a<n;a+=s)i[r++]=t.slice(a,a+s);return i.length=r,i}function xu(t,e,n,s,i){i=i!==void 0?i:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[r++]=Wr(t,e,l,s,i[r]),e=l}return i.length=r,i}function x0(t,e,n,s,i){i=i!==void 0?i:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[r++]=l.length===1&&l[0]===e?[]:xu(t,e,l,s,i[r]),e=l[l.length-1]}return i.length=r,i}function Lm(t,e,n,s,i,r,a){const o=(n-e)/s;if(o<3){for(;e<n;e+=s)r[a++]=t[e],r[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const u=[e,n-s];let h=0;for(;u.length>0;){const d=u.pop(),f=u.pop();let g=0;const m=t[f],p=t[f+1],_=t[d],x=t[d+1];for(let y=f+s;y<d;y+=s){const v=t[y],b=t[y+1],w=FN(v,b,m,p,_,x);w>g&&(h=y,g=w)}g>i&&(l[(h-e)/s]=1,f+s<h&&u.push(f,h),h+s<d&&u.push(h,d))}for(let d=0;d<o;++d)l[d]&&(r[a++]=t[e+d*s],r[a++]=t[e+d*s+1]);return a}function AC(t,e,n,s,i,r,a,o){for(let l=0,u=n.length;l<u;++l){const h=n[l];a=Lm(t,e,h,s,i,r,a),o.push(a),e=h}return a}function Ri(t,e){return e*Math.round(t/e)}function LC(t,e,n,s,i,r,a){if(e==n)return a;let o=Ri(t[e],i),l=Ri(t[e+1],i);e+=s,r[a++]=o,r[a++]=l;let u,h;do if(u=Ri(t[e],i),h=Ri(t[e+1],i),e+=s,e==n)return r[a++]=u,r[a++]=h,a;while(u==o&&h==l);for(;e<n;){const d=Ri(t[e],i),f=Ri(t[e+1],i);if(e+=s,d==u&&f==h)continue;const g=u-o,m=h-l,p=d-o,_=f-l;if(g*_==m*p&&(g<0&&p<g||g==p||g>0&&p>g)&&(m<0&&_<m||m==_||m>0&&_>m)){u=d,h=f;continue}r[a++]=u,r[a++]=h,o=u,l=h,u=d,h=f}return r[a++]=u,r[a++]=h,a}function Sb(t,e,n,s,i,r,a,o){for(let l=0,u=n.length;l<u;++l){const h=n[l];a=LC(t,e,h,s,i,r,a),o.push(a),e=h}return a}class qo extends Am{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new qo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,s,i){return i<eb(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,s,i))}getArea(){return _b(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Wr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Lm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new qo(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wb(this.flatCoordinates,0,e,this.stride),this.changed()}}class gh extends Am{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new gh(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,s,i){const r=this.flatCoordinates,a=Yr(e,n,r[0],r[1]);if(a<i){const o=this.stride;for(let l=0;l<o;++l)s[l]=r[l];return s.length=o,a}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return nb(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return tb(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=IC(this.flatCoordinates,0,e,this.stride),this.changed()}}function DC(t,e,n,s,i){return!ib(i,function(a){return!Li(t,e,n,s,a[0],a[1])})}function Li(t,e,n,s,i,r){let a=0,o=t[n-s],l=t[n-s+1];for(;e<n;e+=s){const u=t[e],h=t[e+1];l<=r?h>r&&(u-o)*(r-l)-(i-o)*(h-l)>0&&a++:h<=r&&(u-o)*(r-l)-(i-o)*(h-l)<0&&a--,o=u,l=h}return a!==0}function Eb(t,e,n,s,i,r){if(n.length===0||!Li(t,e,n[0],s,i,r))return!1;for(let a=1,o=n.length;a<o;++a)if(Li(t,n[a-1],n[a],s,i,r))return!1;return!0}function Dm(t,e,n,s,i,r,a){let o,l,u,h,d,f,g;const m=i[r+1],p=[];for(let y=0,v=n.length;y<v;++y){const b=n[y];for(h=t[b-s],f=t[b-s+1],o=e;o<b;o+=s)d=t[o],g=t[o+1],(m<=f&&g<=m||f<=m&&m<=g)&&(u=(m-f)/(g-f)*(d-h)+h,p.push(u)),h=d,f=g}let _=NaN,x=-1/0;for(p.sort(hs),h=p[0],o=1,l=p.length;o<l;++o){d=p[o];const y=Math.abs(d-h);y>x&&(u=(h+d)/2,Eb(t,e,n,s,u,m)&&(_=u,x=y)),h=d}return isNaN(_)&&(_=i[r]),a?(a.push(_,m,x),a):[_,m,x]}function OC(t,e,n,s,i){let r=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];r=Dm(t,e,l,s,i,2*a,r),e=l[l.length-1]}return r}function FC(t,e,n,s,i){let r;for(e+=s;e<n;e+=s)if(r=i(t.slice(e-s,e),t.slice(e,e+s)),r)return r;return!1}function jb(t,e,n,s,i,r){return r=r??sb(hn(),t,e,n,s),Rt(i,r)?r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3]?!0:FC(t,e,n,s,function(a,o){return ON(i,a,o)}):!1}function Nb(t,e,n,s,i){return!!(jb(t,e,n,s,i)||Li(t,e,n,s,i[0],i[1])||Li(t,e,n,s,i[0],i[3])||Li(t,e,n,s,i[2],i[1])||Li(t,e,n,s,i[2],i[3]))}function zC(t,e,n,s,i){if(!Nb(t,e,n[0],s,i))return!1;if(n.length===1)return!0;for(let r=1,a=n.length;r<a;++r)if(DC(t,n[r-1],n[r],s,i)&&!jb(t,n[r-1],n[r],s,i))return!1;return!0}function WC(t,e,n,s){for(;e<n-s;){for(let i=0;i<s;++i){const r=t[e+i];t[e+i]=t[n-s+i],t[n-s+i]=r}e+=s,n-=s}}function Om(t,e,n,s){let i=0,r=t[n-s],a=t[n-s+1];for(;e<n;e+=s){const o=t[e],l=t[e+1];i+=(o-r)*(l+a),r=o,a=l}return i===0?void 0:i>0}function BC(t,e,n,s,i){i=i!==void 0?i:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=Om(t,e,o,s);if(r===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=o}return!0}function y0(t,e,n,s,i){i=i!==void 0?i:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=Om(t,e,o,s);(r===0?i&&l||!i&&!l:i&&!l||!i&&l)&&WC(t,e,o,s),e=o}return e}function $C(t,e){const n=[];let s=0,i=0,r;for(let a=0,o=e.length;a<o;++a){const l=e[a],u=Om(t,s,l,2);if(r===void 0&&(r=u),u===r)n.push(e.slice(i,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=a+1,s=l}return n}class Jo extends Am{constructor(e,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,e),this.ends_=s):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?bm(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Jo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,s,i){return i<eb(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(TC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),MC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,s,i))}containsXY(e,n){return Eb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return RC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),y0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,xu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ji(this.getExtent());this.flatInteriorPoint_=Dm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new gh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new qo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,s=this.ends_,i=[];let r=0;for(let a=0,o=s.length;a<o;++a){const l=s[a],u=new qo(n.slice(r,l),e);i.push(u),r=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;BC(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=y0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],s=[];return n.length=Sb(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,s),new Jo(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(e){return zC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=PC(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function _0(t){if(uh(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],s=t[2],i=t[3],r=[e,n,e,i,s,i,s,n,e,n];return new Jo(r,"XY",[r.length])}function v0(t,e,n,s,i,r,a){let o,l;const u=(n-e)/s;if(u===1)o=e;else if(u===2)o=e,l=i;else if(u!==0){let h=t[e],d=t[e+1],f=0;const g=[0];for(let _=e+s;_<n;_+=s){const x=t[_],y=t[_+1];f+=Math.sqrt((x-h)*(x-h)+(y-d)*(y-d)),g.push(f),h=x,d=y}const m=i*f,p=jN(g,m);p<0?(l=(m-g[-p-2])/(g[-p-1]-g[-p-2]),o=e+(-p-2)*s):o=e+p*s}a=a>1?a:2,r=r||new Array(a);for(let h=0;h<a;++h)r[h]=o===void 0?NaN:l===void 0?t[o+h]:tn(t[o+h],t[o+s+h],l);return r}function VC(t,e,n,s){let i=t[e],r=t[e+1],a=0;for(let o=e+s;o<n;o+=s){const l=t[o],u=t[o+1];a+=Math.sqrt((l-i)*(l-i)+(u-r)*(u-r)),i=l,r=u}return a}const sn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Qi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",UC=Qi.includes("safari")&&!Qi.includes("chrom");UC&&(Qi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Qi));const GC=Qi.includes("webkit")&&!Qi.includes("edge"),Cb=Qi.includes("macintosh"),HC=typeof devicePixelRatio<"u"?devicePixelRatio:1,kb=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rb=typeof Image<"u"&&Image.prototype.decode,Tb=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}(),Q={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Xe(t,e,n,s){let i;return n&&n.length?i=n.shift():kb?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",s)}let ud;function yu(){return ud||(ud=Xe(1,1)),ud}function mh(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function b0(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function XC(t){for(;t.lastChild;)t.lastChild.remove()}function YC(t,e){const n=t.childNodes;for(let s=0;;++s){const i=n[s],r=e[s];if(!i&&!r)break;if(i!==r){if(!i){t.appendChild(r);continue}if(!r){t.removeChild(i),--s;continue}t.insertBefore(r,i)}}}const Fm=[NaN,NaN,NaN,0];let hd;function KC(){return hd||(hd=Xe(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),hd}const ZC=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,qC=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,JC=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,QC=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function tc(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function Eo(t){throw new Error('failed to parse "'+t+'" as color')}function Mb(t){if(t.toLowerCase().startsWith("rgb")){const r=t.match(qC)||t.match(ZC)||t.match(JC);if(r){const a=r[4],o=100/255;return[Ce(tc(r[1],o)+.5|0,0,255),Ce(tc(r[2],o)+.5|0,0,255),Ce(tc(r[3],o)+.5|0,0,255),a!==void 0?Ce(tc(a,100),0,1):1]}Eo(t)}if(t.startsWith("#")){if(QC.test(t)){const r=t.substring(1),a=r.length<=4?1:2,o=[0,0,0,255];for(let l=0,u=r.length;l<u;l+=a){let h=parseInt(r.substring(l,l+a),16);a===1&&(h+=h<<4),o[l/a]=h}return o[3]=o[3]/255,o}Eo(t)}const e=KC();e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&Eo(t));const s=e.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return Mb(s);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const i=Array.from(e.getImageData(0,0,1,1).data);return i[3]=hh(i[3]/255,3),i}function ek(t){return typeof t=="string"?t:Wm(t)}const tk=1024,Ba={};let dd=0;function nk(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function fd(t){return t>.0031308?Math.pow(t,1/2.4)*269.025-14.025:t*3294.6}function gd(t){return t>.2068965?Math.pow(t,3):(t-4/29)*(108/841)}function md(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function pd(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function w0(t){const e=md(t[0]),n=md(t[1]),s=md(t[2]),i=pd(e*.222488403+n*.716873169+s*.06060791),r=500*(pd(e*.452247074+n*.399439023+s*.148375274)-i),a=200*(i-pd(e*.016863605+n*.117638439+s*.865350722)),o=Math.atan2(a,r)*(180/Math.PI);return[116*i-16,Math.sqrt(r*r+a*a),o<0?o+360:o,t[3]]}function sk(t){const e=(t[0]+16)/116,n=t[1],s=t[2]*Math.PI/180,i=gd(e),r=gd(e+n/500*Math.cos(s)),a=gd(e-n/200*Math.sin(s)),o=fd(r*3.021973625-i*1.617392459-a*.404875592),l=fd(r*-.943766287+i*1.916279586+a*.027607165),u=fd(r*.069407491-i*.22898585+a*1.159737864);return[Ce(o+.5|0,0,255),Ce(l+.5|0,0,255),Ce(u+.5|0,0,255),t[3]]}function zm(t){if(t==="none")return Fm;if(Ba.hasOwnProperty(t))return Ba[t];if(dd>=tk){let n=0;for(const s in Ba)n++&3||(delete Ba[s],--dd)}const e=Mb(t);e.length!==4&&Eo(t);for(const n of e)isNaN(n)&&Eo(t);return Ba[t]=e,++dd,e}function ga(t){return Array.isArray(t)?t:zm(t)}function Wm(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let s=t[2];s!=(s|0)&&(s=s+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+s+","+i+")"}function ik(t,e,n){const s=t;let i=!0,r=!1,a=!1;const o=[du(s,q.LOAD,function(){a=!0,r||e()})];return s.src&&Rb?(r=!0,s.decode().then(function(){i&&e()}).catch(function(l){i&&(a?e():n())})):o.push(du(s,q.ERROR,n)),function(){i=!1,o.forEach(je)}}function rk(t,e){return new Promise((n,s)=>{function i(){a(),n(t)}function r(){a(),s(new Error("Image load error"))}function a(){t.removeEventListener("load",i),t.removeEventListener("error",r)}t.addEventListener("load",i),t.addEventListener("error",r)})}function ak(t,e){return e&&(t.src=e),t.src&&Rb?new Promise((n,s)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):s(i))):rk(t)}class ok{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const s=this.cache_[n];!(e++&3)&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,s){const i=xd(e,n,s);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,s){const i=xd(e,n,s);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,s,i,r){const a=xd(e,n,s),o=a in this.cache_;this.cache_[a]=i,r&&(i.getImageState()===Q.IDLE&&i.load(),i.getImageState()===Q.LOADING?i.ready().then(()=>{this.patternCache_[a]=yu().createPattern(i.getImage(1),"repeat")}):this.patternCache_[a]=yu().createPattern(i.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function xd(t,e,n){const s=n?ga(n):"null";return e+":"+t+":"+s}const rn=new ok;let $a=null;class Ib extends rh{constructor(e,n,s,i,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=s,this.canvas_={},this.color_=r,this.imageState_=i===void 0?Q.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Q.LOADED){$a||($a=Xe(1,1,void 0,{willReadFrequently:!0})),$a.drawImage(this.image_,0,0);try{$a.getImageData(0,0,1,1),this.tainted_=!1}catch{$a=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(q.CHANGE)}handleImageError_(){this.imageState_=Q.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Q.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],s=Xe(e,n);s.fillRect(0,0,e,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Q.IDLE){this.image_||this.initializeImage_(),this.imageState_=Q.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&ak(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Q.LOADED)return;const n=this.image_,s=Xe(Math.ceil(n.width*e),Math.ceil(n.height*e)),i=s.canvas;s.scale(e,e),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=ek(this.color_),s.fillRect(0,0,i.width/e,i.height/e),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Q.LOADED||this.imageState_===Q.ERROR)e();else{const n=()=>{(this.imageState_===Q.LOADED||this.imageState_===Q.ERROR)&&(this.removeEventListener(q.CHANGE,n),e())};this.addEventListener(q.CHANGE,n)}})),this.ready_}}function Bm(t,e,n,s,i,r){let a=e===void 0?void 0:rn.get(e,n,i);return a||(a=new Ib(t,t&&"src"in t?t.src||void 0:e,n,s,i),rn.set(e,n,i,a,r)),r&&a&&!rn.getPattern(e,n,i)&&rn.set(e,n,i,a,r),a}function Bn(t){return t?Array.isArray(t)?Wm(t):typeof t=="object"&&"src"in t?lk(t):t:null}function lk(t){if(!t.offset||!t.size)return rn.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=rn.getPattern(e,void 0,t.color);if(n)return n;const s=rn.get(t.src,"anonymous",null);if(s.getImageState()!==Q.LOADED)return null;const i=Xe(t.size[0],t.size[1]);return i.drawImage(s.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Bm(i.canvas,e,void 0,Q.LOADED,t.color,!0),rn.getPattern(e,void 0,t.color)}class Pb{drawCustom(e,n,s,i,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,s){}drawFeature(e,n,s){}drawGeometryCollection(e,n,s){}drawLineString(e,n,s){}drawMultiLineString(e,n,s){}drawMultiPoint(e,n,s){}drawMultiPolygon(e,n,s){}drawPoint(e,n,s){}drawPolygon(e,n,s){}drawText(e,n,s){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}const nc="ol-hidden",ph="ol-unselectable",$m="ol-control",S0="ol-collapsed",ck=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),E0=["style","variant","weight","size","lineHeight","family"],Ab=function(t){const e=t.match(ck);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let s=0,i=E0.length;s<i;++s){const r=e[s+1];r!==void 0&&(n[E0[s]]=r)}return n.families=n.family.split(/,\s?/),n},Lb="10px sans-serif",Ct="#000",ma="round",ds=[],fs=0,pa="round",Qo=10,el="#000",tl="center",_u="middle",Di=[0,0,0,0],nl=1,es=new Un;let Sr=null,Kf;const Zf={},uk=function(){const e="32px ",n=["monospace","serif"],s=n.length,i="wmytzilWMYTZIL@#/&?$%10";let r,a;function o(u,h,d){let f=!0;for(let g=0;g<s;++g){const m=n[g];if(a=vu(u+" "+h+" "+e+m,i),d!=m){const p=vu(u+" "+h+" "+e+d+","+m,i);f=f&&p!=a}}return!!f}function l(){let u=!0;const h=es.getKeys();for(let d=0,f=h.length;d<f;++d){const g=h[d];if(es.get(g)<100){const[m,p,_]=g.split(`
`);o(m,p,_)?(yl(Zf),Sr=null,Kf=void 0,es.set(g,100)):(es.set(g,es.get(g)+1,!0),u=!1)}}u&&(clearInterval(r),r=void 0)}return function(u){const h=Ab(u);if(!h)return;const d=h.families;for(let f=0,g=d.length;f<g;++f){const m=d[f],p=h.style+`
`+h.weight+`
`+m;es.get(p)===void 0&&(es.set(p,100,!0),o(h.style,h.weight,m)||(es.set(p,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),hk=function(){let t;return function(e){let n=Zf[e];if(n==null){if(kb){const s=Ab(e),i=Db(e,"Žg");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);Zf[e]=n}return n}}();function Db(t,e){return Sr||(Sr=Xe(1,1)),t!=Kf&&(Sr.font=t,Kf=Sr.font),Sr.measureText(e)}function vu(t,e){return Db(t,e).width}function j0(t,e,n){if(e in n)return n[e];const s=e.split(`
`).reduce((i,r)=>Math.max(i,vu(t,r)),0);return n[e]=s,s}function dk(t,e){const n=[],s=[],i=[];let r=0,a=0,o=0,l=0;for(let u=0,h=e.length;u<=h;u+=2){const d=e[u];if(d===`
`||u===h){r=Math.max(r,a),i.push(a),a=0,o+=l,l=0;continue}const f=e[u+1]||t.font,g=vu(f,d);n.push(g),a+=g;const m=hk(f);s.push(m),l=Math.max(l,m)}return{width:r,height:o,widths:n,heights:s,lineWidths:i}}function fk(t,e,n,s,i,r,a,o,l,u,h){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=d=>d.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),s.contextInstructions?(t.translate(l,u),t.scale(h[0],h[1]),gk(s,t)):h[0]<0||h[1]<0?(t.translate(l,u),t.scale(h[0],h[1]),t.drawImage(s,i,r,a,o,0,0,a,o)):t.drawImage(s,i,r,a,o,l,u,a*h[0],o*h[1]),t.restore()}function gk(t,e){const n=t.contextInstructions;for(let s=0,i=n.length;s<i;s+=2)Array.isArray(n[s+1])?e[n[s]].apply(e,n[s+1]):e[n[s]]=n[s+1]}class mk extends Pb{constructor(e,n,s,i,r,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=s,this.transform_=i,this.transformRotation_=i?hh(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=jn()}drawImages_(e,n,s,i){if(!this.image_)return;const r=si(e,n,s,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let h=0,d=r.length;h<d;h+=2){const f=r[h]-this.imageAnchorX_,g=r[h+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const m=f+this.imageAnchorX_,p=g+this.imageAnchorY_;_s(o,m,p,1,1,u,-m,-p),a.save(),a.transform.apply(a,o),a.translate(m,p),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,s,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=si(e,n,s,i,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<s;n+=i){const l=r[n]+this.textOffsetX_,u=r[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u))}}moveToLineTo_(e,n,s,i,r){const a=this.context_,o=si(e,n,s,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;r&&(l-=2);for(let u=2;u<l;u+=2)a.lineTo(o[u],o[u+1]);return r&&a.closePath(),s}drawRings_(e,n,s,i){for(let r=0,a=s.length;r<a;++r)n=this.moveToLineTo_(e,n,s[r],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=kC(e,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],i=n[3]-n[1],r=Math.sqrt(s*s+i*i),a=this.context_;a.beginPath(),a.arc(n[0],n[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const s=n.getGeometryFunction()(e);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let s=0,i=n.length;s<i;++s)this.drawGeometry(n[s])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),s=e.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),s=e.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(Rt(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,i=e.getFlatCoordinates();let r=0;const a=e.getEnds(),o=e.getStride();s.beginPath();for(let l=0,u=a.length;l<u;++l)r=this.moveToLineTo_(i,r,a[l],o,!1);s.stroke()}if(this.text_!==""){const s=e.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=e.getOrientedFlatCoordinates();let i=0;const r=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=r.length;o<l;++o){const u=r[o];i=this.drawRings_(s,i,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=e.fillStyle&&(s.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=e.lineCap&&(s.lineCap=e.lineCap,n.lineCap=e.lineCap),pi(s.lineDash,e.lineDash)||n.setLineDash(s.lineDash=e.lineDash),s.lineDashOffset!=e.lineDashOffset&&(s.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),s.lineJoin!=e.lineJoin&&(s.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),s.lineWidth!=e.lineWidth&&(s.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),s.miterLimit!=e.miterLimit&&(s.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),s.strokeStyle!=e.strokeStyle&&(s.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,s=this.contextTextState_,i=e.textAlign?e.textAlign:tl;s?(s.font!=e.font&&(s.font=e.font,n.font=e.font),s.textAlign!=i&&(s.textAlign=i,n.textAlign=i),s.textBaseline!=e.textBaseline&&(s.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const s=e.getColor();this.fillState_={fillStyle:Bn(s||Ct)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),i=n.getLineCap(),r=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),h=r||ds;this.strokeState_={lineCap:i!==void 0?i:ma,lineDash:this.pixelRatio_===1?h:h.map(d=>d*this.pixelRatio_),lineDashOffset:(a||fs)*this.pixelRatio_,lineJoin:o!==void 0?o:pa,lineWidth:(l!==void 0?l:nl)*this.pixelRatio_,miterLimit:u!==void 0?u:Qo,strokeStyle:Bn(s||el)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const s=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*s,this.imageAnchorY_=i[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/s,a[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:Bn(g||Ct)}}const s=e.getStroke();if(!s)this.textStrokeState_=null;else{const g=s.getColor(),m=s.getLineCap(),p=s.getLineDash(),_=s.getLineDashOffset(),x=s.getLineJoin(),y=s.getWidth(),v=s.getMiterLimit();this.textStrokeState_={lineCap:m!==void 0?m:ma,lineDash:p||ds,lineDashOffset:_||fs,lineJoin:x!==void 0?x:pa,lineWidth:y!==void 0?y:nl,miterLimit:v!==void 0?v:Qo,strokeStyle:Bn(g||el)}}const i=e.getFont(),r=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),h=e.getText(),d=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:i!==void 0?i:Lb,textAlign:d!==void 0?d:tl,textBaseline:f!==void 0?f:_u},this.text_=h!==void 0?Array.isArray(h)?h.reduce((g,m,p)=>g+=p%2?" ":m,""):h:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const pk=.5,Ob={Point:Ek,LineString:bk,Polygon:Nk,MultiPoint:jk,MultiLineString:wk,MultiPolygon:Sk,GeometryCollection:vk,Circle:yk};function xk(t,e){return parseInt(ue(t),10)-parseInt(ue(e),10)}function N0(t,e){const n=Fb(t,e);return n*n}function Fb(t,e){return pk*t/e}function yk(t,e,n,s,i){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(r,a),l.drawCircle(e,s,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,s)}}function C0(t,e,n,s,i,r,a,o){const l=[],u=n.getImage();if(u){let f=!0;const g=u.getImageState();g==Q.LOADED||g==Q.ERROR?f=!1:g==Q.IDLE&&u.load(),f&&l.push(u.ready())}const h=n.getFill();h&&h.loading()&&l.push(h.ready());const d=l.length>0;return d&&Promise.all(l).then(()=>i(null)),_k(t,e,n,s,r,a,o),d}function _k(t,e,n,s,i,r,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(s,i);if(n.getRenderer())zb(t,l,n,e,a);else{const h=Ob[l.getType()];h(t,l,n,e,a,r)}}function zb(t,e,n,s,i){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)zb(t,a[o],n,s,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,s,n.getRenderer(),n.getHitDetectionRenderer(),i)}function vk(t,e,n,s,i,r){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const u=Ob[a[o].getType()];u(t,a[o],n,s,i,r)}}function bk(t,e,n,s,i){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawLineString(e,s,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,s,i)}}function wk(t,e,n,s,i){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,s,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,s,i)}}function Sk(t,e,n,s,i){const r=n.getFill(),a=n.getStroke();if(a||r){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawMultiPolygon(e,s,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,s,i)}}function Ek(t,e,n,s,i,r){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),u=r&&a&&l?{}:void 0;if(a){if(a.getImageState()!=Q.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,u),h.drawPoint(e,s,i)}if(l){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(o,u),h.drawText(e,s,i)}}function jk(t,e,n,s,i,r){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),h=r&&o&&u?{}:void 0;if(o){if(a.getImageState()!=Q.LOADED)return;const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,h),d.drawMultiPoint(e,s,i)}if(u){const d=t.getBuilder(n.getZIndex(),"Text");d.setTextStyle(l,h),d.drawText(e,s,i)}}function Nk(t,e,n,s,i){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawPolygon(e,s,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,s,i)}}let Ck=!1;function kk(t,e,n,s,i,r,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,s,i):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=Ck,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const u=e.getType();try{let h;u=="text"||u=="json"?h=o.responseText:u=="xml"?h=o.responseXML||o.responseText:u=="arraybuffer"&&(h=o.response),h?r(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function k0(t,e){return function(n,s,i,r,a){kk(t,e,n,s,i,(o,l)=>{this.addFeatures(o),r!==void 0&&r(o)},()=>{this.changed(),a!==void 0&&a()})}}function Rk(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Tk(t,e,n,s){const i=[];let r=hn();for(let a=0,o=n.length;a<o;++a){const l=n[a];r=Em(t,e,l[0],s),i.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return i}const R0=jn();class bn{constructor(e,n,s,i,r,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?nb(this.flatCoordinates_):Em(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Ji(this.getExtent());this.flatInteriorPoints_=Dm(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=$C(this.flatCoordinates_,this.ends_),n=Tk(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=OC(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=v0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const s=this.ends_;for(let i=0,r=s.length;i<r;++i){const a=s[i],o=v0(e,n,a,2,.5);bm(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Ft(e);const n=e.getExtent(),s=e.getWorldExtent();if(n&&s){const i=dt(s)/dt(n);_s(R0,s[0],s[3],i,-i,0,0,0),si(this.flatCoordinates_,0,this.flatCoordinates_.length,2,R0,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new bn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Jv((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":s.length=Lm(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,s,0),i=[s.length];break;case"MultiLineString":i=[],s.length=AC(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,s,0,i);break;case"Polygon":i=[],s.length=Sb(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),s,0,i);break}return i&&(this.simplifiedGeometry_=new bn(this.type_,s,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}bn.prototype.getFlatCoordinates=bn.prototype.getOrientedFlatCoordinates;function Wb(t,e,n=0,s=t.length-1,i=Mk){for(;s>n;){if(s-n>600){const l=s-n+1,u=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+f)),m=Math.min(s,Math.floor(e+(l-u)*d/l+f));Wb(t,e,g,m,i)}const r=t[e];let a=n,o=s;for(Va(t,n,e),i(t[s],r)>0&&Va(t,n,s);a<o;){for(Va(t,a,o),a++,o--;i(t[a],r)<0;)a++;for(;i(t[o],r)>0;)o--}i(t[n],r)===0?Va(t,n,o):(o++,Va(t,o,s)),o<=e&&(n=o+1),e<=o&&(s=o-1)}}function Va(t,e,n){const s=t[e];t[e]=t[n],t[n]=s}function Mk(t,e){return t<e?-1:t>e?1:0}let Bb=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const s=[];if(!ic(e,n))return s;const i=this.toBBox,r=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?i(o):o;ic(e,l)&&(n.leaf?s.push(o):_d(e,l)?this._all(o,s):r.push(o))}n=r.pop()}return s}collides(e){let n=this.data;if(!ic(e,n))return!1;const s=[];for(;n;){for(let i=0;i<n.children.length;i++){const r=n.children[i],a=n.leaf?this.toBBox(r):r;if(ic(e,a)){if(n.leaf||_d(e,a))return!0;s.push(r)}}n=s.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let s=0;s<e.length;s++)this.insert(e[s]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Er([]),this}remove(e,n){if(!e)return this;let s=this.data;const i=this.toBBox(e),r=[],a=[];let o,l,u;for(;s||r.length;){if(s||(s=r.pop(),l=r[r.length-1],o=a.pop(),u=!0),s.leaf){const h=Ik(e,s.children,n);if(h!==-1)return s.children.splice(h,1),r.push(s),this._condense(r),this}!u&&!s.leaf&&_d(s,i)?(r.push(s),a.push(o),o=0,l=s,s=s.children[0]):l?(o++,s=l.children[o],u=!1):s=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const s=[];for(;e;)e.leaf?n.push(...e.children):s.push(...e.children),e=s.pop();return n}_build(e,n,s,i){const r=s-n+1;let a=this._maxEntries,o;if(r<=a)return o=Er(e.slice(n,s+1)),mr(o,this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,i-1))),o=Er([]),o.leaf=!1,o.height=i;const l=Math.ceil(r/a),u=l*Math.ceil(Math.sqrt(a));T0(e,n,s,u,this.compareMinX);for(let h=n;h<=s;h+=u){const d=Math.min(h+u-1,s);T0(e,h,d,l,this.compareMinY);for(let f=h;f<=d;f+=l){const g=Math.min(f+l-1,d);o.children.push(this._build(e,f,g,i-1))}}return mr(o,this.toBBox),o}_chooseSubtree(e,n,s,i){for(;i.push(n),!(n.leaf||i.length-1===s);){let r=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const u=n.children[l],h=yd(u),d=Lk(e,u)-h;d<a?(a=d,r=h<r?h:r,o=u):d===a&&h<r&&(r=h,o=u)}n=o||n.children[0]}return n}_insert(e,n,s){const i=s?e:this.toBBox(e),r=[],a=this._chooseSubtree(i,this.data,n,r);for(a.children.push(e),so(a,i);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(i,r,n)}_split(e,n){const s=e[n],i=s.children.length,r=this._minEntries;this._chooseSplitAxis(s,r,i);const a=this._chooseSplitIndex(s,r,i),o=Er(s.children.splice(a,s.children.length-a));o.height=s.height,o.leaf=s.leaf,mr(s,this.toBBox),mr(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(s,o)}_splitRoot(e,n){this.data=Er([e,n]),this.data.height=e.height+1,this.data.leaf=!1,mr(this.data,this.toBBox)}_chooseSplitIndex(e,n,s){let i,r=1/0,a=1/0;for(let o=n;o<=s-n;o++){const l=no(e,0,o,this.toBBox),u=no(e,o,s,this.toBBox),h=Dk(l,u),d=yd(l)+yd(u);h<r?(r=h,i=o,a=d<a?d:a):h===r&&d<a&&(a=d,i=o)}return i||s-n}_chooseSplitAxis(e,n,s){const i=e.leaf?this.compareMinX:Pk,r=e.leaf?this.compareMinY:Ak,a=this._allDistMargin(e,n,s,i),o=this._allDistMargin(e,n,s,r);a<o&&e.children.sort(i)}_allDistMargin(e,n,s,i){e.children.sort(i);const r=this.toBBox,a=no(e,0,n,r),o=no(e,s-n,s,r);let l=sc(a)+sc(o);for(let u=n;u<s-n;u++){const h=e.children[u];so(a,e.leaf?r(h):h),l+=sc(a)}for(let u=s-n-1;u>=n;u--){const h=e.children[u];so(o,e.leaf?r(h):h),l+=sc(o)}return l}_adjustParentBBoxes(e,n,s){for(let i=s;i>=0;i--)so(n[i],e)}_condense(e){for(let n=e.length-1,s;n>=0;n--)e[n].children.length===0?n>0?(s=e[n-1].children,s.splice(s.indexOf(e[n]),1)):this.clear():mr(e[n],this.toBBox)}};function Ik(t,e,n){if(!n)return e.indexOf(t);for(let s=0;s<e.length;s++)if(n(t,e[s]))return s;return-1}function mr(t,e){no(t,0,t.children.length,e,t)}function no(t,e,n,s,i){i||(i=Er(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let r=e;r<n;r++){const a=t.children[r];so(i,t.leaf?s(a):a)}return i}function so(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Pk(t,e){return t.minX-e.minX}function Ak(t,e){return t.minY-e.minY}function yd(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function sc(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Lk(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Dk(t,e){const n=Math.max(t.minX,e.minX),s=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,r-s)}function _d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ic(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Er(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T0(t,e,n,s,i){const r=[e,n];for(;r.length;){if(n=r.pop(),e=r.pop(),n-e<=s)continue;const a=e+Math.ceil((n-e)/s/2)*s;Wb(t,a,e,n,i),r.push(e,a,a,n)}}class M0{constructor(e){this.rbush_=new Bb(e),this.items_={}}insert(e,n){const s={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(s),this.items_[ue(n)]=s}load(e,n){const s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const a=e[i],o=n[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};s[i]=l,this.items_[ue(o)]=l}this.rbush_.load(s)}remove(e){const n=ue(e),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(e,n){const s=this.items_[ue(n)],i=[s.minX,s.minY,s.maxX,s.maxY];Ko(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let s;for(let i=0,r=e.length;i<r;i++)if(s=n(e[i]),s)return s;return s}isEmpty(){return ha(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return hi(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class $b extends Un{constructor(e){super(),this.projection=Ft(e.projection),this.attributions_=I0(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,i){n.viewResolver=s,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=I0(e),this.changed()}setState(e){this.state_=e,this.changed()}}function I0(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const qt={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Cs extends Es{constructor(e,n,s){super(e),this.feature=n,this.features=s}}class Ok extends $b{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Yo,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(de(this.format_,"`format` must be set when `url` is set"),this.loader_=k0(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Rk;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new M0:null,this.loadedExtentsRtree_=new M0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,i;Array.isArray(e.features)?i=e.features:e.features&&(s=e.features,i=s.getArray()),!n&&s===void 0&&(s=new Wn(i)),i!==void 0&&this.addFeaturesInternal(i),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=ue(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const s=e.getGeometry();if(s){const i=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Cs(qt.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof bn||(this.featureChangeKeys_[e]=[re(n,q.CHANGE,this.handleFeatureChange_,this),re(n,ua.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let s=!0;if(n.getId()!==void 0){const i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof bn){const r=this.idIndex_[i];r instanceof bn?Array.isArray(r)?r.push(n):this.idIndex_[i]=[r,n]:s=!1}else s=!1}return s&&(de(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),s}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],s=[],i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r],l=ue(o);this.addToIndex_(l,o)&&s.push(o)}for(let r=0,a=s.length;r<a;r++){const o=s[r],l=ue(o);this.setupChangeEvents_(l,o);const u=o.getGeometry();if(u){const h=u.getExtent();n.push(h),i.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(qt.ADDFEATURE))for(let r=0,a=s.length;r<a;r++)this.dispatchEvent(new Cs(qt.ADDFEATURE,s[r]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(qt.ADDFEATURE,function(s){n||(n=!0,e.push(s.feature),n=!1)}),this.addEventListener(qt.REMOVEFEATURE,function(s){n||(n=!0,e.remove(s.feature),n=!1)}),e.addEventListener(Nt.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),e.addEventListener(Nt.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(je);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Cs(qt.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const s=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(s,function(i){const r=i.getGeometry();if(r instanceof bn||r.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(s){const i=s.getGeometry();if(i instanceof bn||i.intersectsExtent(e)){const r=n(s);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ha(this.nullGeometryFeatures_)||bm(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(s){n.push(s)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=ob(e,n);return[].concat(...i.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const s=e[0],i=e[1];let r=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Xo,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const h=u.getGeometry(),d=o;if(o=h instanceof bn?0:h.closestPointXY(s,i,a,o),o<d){r=u;const f=Math.sqrt(o);l[0]=s-f,l[1]=i-f,l[2]=s+f,l[3]=i+f}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,s=ue(n),i=n.getGeometry();if(!i)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const a=i.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const r=n.getId();if(r!==void 0){const a=r.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new Cs(qt.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:ue(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ha(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,s){const i=this.loadedExtentsRtree_,r=this.strategy_(e,n,s);for(let a=0,o=r.length;a<o;++a){const l=r[a];i.forEachInExtent(l,function(h){return to(h.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Cs(qt.FEATURESLOADSTART)),this.loader_.call(this,l,n,s,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new Cs(qt.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Cs(qt.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(e,function(i){if(Ko(i.extent,e))return i});s&&n.remove(s)}removeFeatures(e){let n=!1;for(let s=0,i=e.length;s<i;++s)n=this.removeFeatureInternal(e[s])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=ue(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const s=this.featureChangeKeys_[n];s==null||s.forEach(je),delete this.featureChangeKeys_[n];const i=e.getId();if(i!==void 0){const r=i.toString(),a=this.idIndex_[r];a===e?delete this.idIndex_[r]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[r]=a[0]))}return delete this.uidIndex_[n],this.hasListener(qt.REMOVEFEATURE)&&this.dispatchEvent(new Cs(qt.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){de(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(k0(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}class bl{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new bl({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=Bm(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Q.IDLE&&n.load(),n.getImageState()===Q.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?ue(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:ga(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class xh{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new xh({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}function P0(t){return t[0]>0&&t[1]>0}function Fk(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Pt(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class yh{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Pt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new yh({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ie()}getImage(e){return ie()}getHitDetectionImage(){return ie()}getPixelRatio(e){return 1}getImageState(){return ie()}getImageSize(){return ie()}getOrigin(){return ie()}getSize(){return ie()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Pt(e)}listenImageChange(e){ie()}load(){ie()}unlistenImageChange(e){ie()}ready(){return Promise.resolve()}}class _h extends yh{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Q.LOADING:Q.LOADED,this.imageState_===Q.LOADING&&this.ready().then(()=>this.imageState_=Q.LOADED),this.render()}clone(){const e=this.getScale(),n=new _h({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[e[0]/2-n[0]/s[0],e[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var r,a;const n=(r=this.fill_)==null?void 0:r.getKey(),s=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let i=(a=rn.get(s,null,null))==null?void 0:a.getImage(1);if(!i){const o=this.renderOptions_,l=Math.ceil(o.size*e),u=Xe(l,l);this.draw_(o,u,e),i=u.canvas,rn.set(s,null,null,new Ib(i,void 0,null,Q.LOADED,null))}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,s){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius,r=this.radius2_===void 0?i:this.radius2_;if(i<r){const N=i;i=r,r=N}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=r*Math.sin(o),u=Math.sqrt(r*r-l*l),h=i-u,d=Math.sqrt(l*l+h*h),f=d/l;if(e==="miter"&&f<=s)return f*n;const g=n/2/f,m=n/2*(h/d),_=Math.sqrt((i+g)*(i+g)+m*m)-i;if(this.radius2_===void 0||e==="bevel")return _*2;const x=i*Math.sin(o),y=Math.sqrt(i*i-x*x),v=r-y,w=Math.sqrt(x*x+v*v)/x;if(w<=s){const N=w*n/2-r-i;return 2*Math.max(_,N)}return _*2}createRenderOptions(){let e=ma,n=pa,s=0,i=null,r=0,a,o=0;this.stroke_&&(a=Bn(this.stroke_.getColor()??el),o=this.stroke_.getWidth()??nl,i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??pa,e=this.stroke_.getLineCap()??ma,s=this.stroke_.getMiterLimit()??Qo);const l=this.calculateLineJoinSize_(n,o,s),u=Math.max(this.radius,this.radius2_||0),h=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:o,size:h,lineCap:e,lineDash:i,lineDashOffset:r,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,s){if(n.scale(s,s),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Ct),n.fillStyle=Bn(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let s=this.fill_.getColor(),i=0;typeof s=="string"&&(s=ga(s)),s===null?i=1:Array.isArray(s)&&(i=s.length===4?s[3]:1),i===0&&(n=Xe(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const s=this.radius;if(n===1/0)e.arc(0,0,s,0,2*Math.PI);else{const i=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=r+o*a,u=o%2===0?s:i;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Ct,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class vh extends _h{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new vh({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class ii{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=A0,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new ii({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=A0,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function zk(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(de(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let vd=null;function Vb(t,e){if(!vd){const n=new bl({color:"rgba(255,255,255,0.4)"}),s=new xh({color:"#3399CC",width:1.25});vd=[new ii({image:new vh({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return vd}function A0(t){return t.getGeometry()}const Wk="#333";class Vm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=Pt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new bl({color:Wk}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Vm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Pt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const ut={ANIMATING:0,INTERACTING:1},X={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},rc=[X.FILL],Gs=[X.STROKE],Oi=[X.BEGIN_PATH],L0=[X.CLOSE_PATH];class wl extends Pb{constructor(e,n,s,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(s){return s*n})}appendFlatPointCoordinates(e,n){const s=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let a=r.length;for(let o=0,l=e.length;o<l;o+=n)i[0]=e[o],i[1]=e[o+1],da(s,i)&&(r[a++]=i[0],r[a++]=i[1]);return a}appendFlatLineCoordinates(e,n,s,i,r,a){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();a&&(n+=i);let h=e[n],d=e[n+1];const f=this.tmpCoordinate_;let g=!0,m,p,_;for(m=n+i;m<s;m+=i)f[0]=e[m],f[1]=e[m+1],_=Bf(u,f),_!==p?(g&&(o[l++]=h,o[l++]=d,g=!1),o[l++]=f[0],o[l++]=f[1]):_===Ke.INTERSECTING?(o[l++]=f[0],o[l++]=f[1],g=!1):g=!0,h=f[0],d=f[1],p=_;return(r&&g||m===n+i)&&(o[l++]=h,o[l++]=d),l}drawCustomCoordinates_(e,n,s,i,r){for(let a=0,o=s.length;a<o;++a){const l=s[a],u=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);r.push(u),n=l}return n}drawCustom(e,n,s,i,r){this.beginGeometry(e,n,r);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,h,d,f,g;switch(a){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),f=[];const m=e.getEndss();g=0;for(let p=0,_=m.length;p<_;++p){const x=[];g=this.drawCustomCoordinates_(u,g,m[p],o,x),f.push(x)}this.instructions.push([X.CUSTOM,l,f,e,s,x0,r]),this.hitDetectionInstructions.push([X.CUSTOM,l,f,e,i||s,x0,r]);break;case"Polygon":case"MultiLineString":d=[],u=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(u,0,e.getEnds(),o,d),this.instructions.push([X.CUSTOM,l,d,e,s,xu,r]),this.hitDetectionInstructions.push([X.CUSTOM,l,d,e,i||s,xu,r]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),h=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([X.CUSTOM,l,h,e,s,Wr,r]),this.hitDetectionInstructions.push([X.CUSTOM,l,h,e,i||s,Wr,r]);break;case"MultiPoint":u=e.getFlatCoordinates(),h=this.appendFlatPointCoordinates(u,o),h>l&&(this.instructions.push([X.CUSTOM,l,h,e,s,Wr,r]),this.hitDetectionInstructions.push([X.CUSTOM,l,h,e,i||s,Wr,r]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),h=this.coordinates.length,this.instructions.push([X.CUSTOM,l,h,e,s,void 0,r]),this.hitDetectionInstructions.push([X.CUSTOM,l,h,e,i||s,void 0,r]);break}this.endGeometry(n)}beginGeometry(e,n,s){this.beginGeometryInstruction1_=[X.BEGIN_GEOMETRY,n,0,e,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[X.BEGIN_GEOMETRY,n,0,e,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const s=e.length;let i,r,a=-1;for(n=0;n<s;++n)i=e[n],r=i[0],r==X.END_GEOMETRY?a=n:r==X.BEGIN_GEOMETRY&&(i[2]=n,CN(this.hitDetectionInstructions,a,n),a=-1)}fillStyleToState(e,n={}){if(e){const s=e.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=Bn(s||Ct)}else n.fillStyle=void 0;return n}strokeStyleToState(e,n={}){if(e){const s=e.getColor();n.strokeStyle=Bn(s||el);const i=e.getLineCap();n.lineCap=i!==void 0?i:ma;const r=e.getLineDash();n.lineDash=r?r.slice():ds;const a=e.getLineDashOffset();n.lineDashOffset=a||fs;const o=e.getLineJoin();n.lineJoin=o!==void 0?o:pa;const l=e.getWidth();n.lineWidth=l!==void 0?l:nl;const u=e.getMiterLimit();n.miterLimit=u!==void 0?u:Qo,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(e,n){const s=this.state;this.fillStyleToState(e,s),this.strokeStyleToState(n,s)}createFill(e){const n=e.fillStyle,s=[X.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(e.fillPatternScale),s}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[X.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const s=e.fillStyle;(typeof s!="string"||e.currentFillStyle!=s)&&(s!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=s)}updateStrokeStyle(e,n){const s=e.strokeStyle,i=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=s||e.currentLineCap!=i||r!=e.currentLineDash&&!pi(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(s!==void 0&&n.call(this,e),e.currentStrokeStyle=s,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[X.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Qv(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Sm(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Bk extends wl{constructor(e,n,s,i){super(e,n,s,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,s){if(!this.image_||this.maxExtent&&!da(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,s);const i=e.getFlatCoordinates(),r=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([X.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,s){if(!this.image_)return;this.beginGeometry(e,n,s);const i=e.getFlatCoordinates(),r=[];for(let l=0,u=i.length;l<u;l+=e.getStride())(!this.maxExtent||da(this.maxExtent,i.slice(l,l+2)))&&r.push(i[l],i[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(r,2);this.instructions.push([X.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const s=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class $k extends wl{constructor(e,n,s,i){super(e,n,s,i)}drawFlatCoordinates_(e,n,s,i){const r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,s,i,!1,!1),o=[X.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),s}drawLineString(e,n,s){const i=this.state,r=i.strokeStyle,a=i.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,s),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ds,fs],Oi);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Gs),this.endGeometry(n)}drawMultiLineString(e,n,s){const i=this.state,r=i.strokeStyle,a=i.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,s),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ds,fs],Oi);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let h=0;for(let d=0,f=o.length;d<f;++d)h=this.drawFlatCoordinates_(l,h,o[d],u);this.hitDetectionInstructions.push(Gs),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Gs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Gs),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Oi)}}class D0 extends wl{constructor(e,n,s,i){super(e,n,s,i)}drawFlatCoordinatess_(e,n,s,i){const r=this.state,a=r.fillStyle!==void 0,o=r.strokeStyle!==void 0,l=s.length;this.instructions.push(Oi),this.hitDetectionInstructions.push(Oi);for(let u=0;u<l;++u){const h=s[u],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,n,h,i,!0,!o),g=[X.MOVE_TO_LINE_TO,d,f];this.instructions.push(g),this.hitDetectionInstructions.push(g),o&&(this.instructions.push(L0),this.hitDetectionInstructions.push(L0)),n=h}return a&&(this.instructions.push(rc),this.hitDetectionInstructions.push(rc)),o&&(this.instructions.push(Gs),this.hitDetectionInstructions.push(Gs)),n}drawCircle(e,n,s){const i=this.state,r=i.fillStyle,a=i.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,s),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Ct]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ds,fs]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const h=[X.CIRCLE,u];this.instructions.push(Oi,h),this.hitDetectionInstructions.push(Oi,h),i.fillStyle!==void 0&&(this.instructions.push(rc),this.hitDetectionInstructions.push(rc)),i.strokeStyle!==void 0&&(this.instructions.push(Gs),this.hitDetectionInstructions.push(Gs)),this.endGeometry(n)}drawPolygon(e,n,s){const i=this.state,r=i.fillStyle,a=i.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,s),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Ct]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ds,fs]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n,s){const i=this.state,r=i.fillStyle,a=i.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,s),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Ct]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ds,fs]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let h=0;for(let d=0,f=o.length;d<f;++d)h=this.drawFlatCoordinatess_(l,h,o[d],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let s=0,i=n.length;s<i;++s)n[s]=Ri(n[s],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function Vk(t,e,n,s,i){const r=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+i<s;){const[u,h]=l.slice(-2),d=e[a+i],f=e[a+i+1],g=Math.sqrt((d-u)*(d-u)+(f-h)*(f-h));if(o+=g,o>=t){const m=(t-o+g)/g,p=tn(u,d,m),_=tn(h,f,m);l.push(p,_),r.push(l),l=[p,_],o==t&&(a+=i),o=0}else if(o<t)l.push(e[a+i],e[a+i+1]),a+=i;else{const m=g-o,p=tn(u,d,m/g),_=tn(h,f,m/g);l.push(p,_),r.push(l),l=[p,_],o=0,a+=i}}return o>0&&r.push(l),r}function Uk(t,e,n,s,i){let r=n,a=n,o=0,l=0,u=n,h,d,f,g,m,p,_,x,y,v;for(d=n;d<s;d+=i){const b=e[d],w=e[d+1];m!==void 0&&(y=b-m,v=w-p,g=Math.sqrt(y*y+v*v),_!==void 0&&(l+=f,h=Math.acos((_*y+x*v)/(f*g)),h>t&&(l>o&&(o=l,r=u,a=d),l=0,u=d-i)),f=g,_=y,x=v),m=b,p=w}return l+=g,l>o?[u,d]:[r,a]}const bu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Gk extends wl{constructor(e,n,s,i){super(e,n,s,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ct]={fillStyle:Ct},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,s){const i=this.textFillState_,r=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!i&&!r)return;const o=this.coordinates;let l=o.length;const u=e.getType();let h=null,d=e.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!Rt(this.maxExtent,e.getExtent()))return;let f;if(h=e.getFlatCoordinates(),u=="LineString")f=[h.length];else if(u=="MultiLineString")f=e.getEnds();else if(u=="Polygon")f=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const _=e.getEndss();f=[];for(let x=0,y=_.length;x<y;++x)f.push(_[x][0])}this.beginGeometry(e,n,s);const g=a.repeat,m=g?void 0:a.textAlign;let p=0;for(let _=0,x=f.length;_<x;++_){let y;g?y=Vk(g*this.resolution,h,p,f[_],d):y=[h.slice(p,f[_])];for(let v=0,b=y.length;v<b;++v){const w=y[v];let N=0,S=w.length;if(m==null){const C=Uk(a.maxAngle,w,0,w.length,2);N=C[0],S=C[1]}for(let C=N;C<S;C+=d)o.push(w[C],w[C+1]);const E=o.length;p=f[_],this.drawChars_(l,E),l=E}}this.endGeometry(n)}else{let f=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":h=e.getFlatCoordinates();break;case"LineString":h=e.getFlatMidpoint();break;case"Circle":h=e.getCenter();break;case"MultiLineString":h=e.getFlatMidpoints(),d=2;break;case"Polygon":h=e.getFlatInteriorPoint(),a.overflow||f.push(h[2]/this.resolution),d=3;break;case"MultiPolygon":const b=e.getFlatInteriorPoints();h=[];for(let w=0,N=b.length;w<N;w+=3)a.overflow||f.push(b[w+2]/this.resolution),h.push(b[w],b[w+1]);if(h.length===0)return;d=2;break}const g=this.appendFlatPointCoordinates(h,d);if(g===l)return;if(f&&(g-l)/2!==h.length/d){let b=l/2;f=f.filter((w,N)=>{const S=o[(b+N)*2]===h[N*d]&&o[(b+N)*2+1]===h[N*d+1];return S||--b,S})}this.saveTextStates_();const m=a.backgroundFill?this.createFill(this.fillStyleToState(a.backgroundFill)):null,p=a.backgroundStroke?this.createStroke(this.strokeStyleToState(a.backgroundStroke)):null;this.beginGeometry(e,n,s);let _=a.padding;if(_!=Di&&(a.scale[0]<0||a.scale[1]<0)){let b=a.padding[0],w=a.padding[1],N=a.padding[2],S=a.padding[3];a.scale[0]<0&&(w=-w,S=-S),a.scale[1]<0&&(b=-b,N=-N),_=[b,w,N,S]}const x=this.pixelRatio;this.instructions.push([X.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,_==Di?Di:_.map(function(b){return b*x}),m,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const y=1/x,v=m?m.slice(0):null;v&&(v[1]=Ct),this.hitDetectionInstructions.push([X.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,_,v,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ct:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,s=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:n.font,textAlign:n.textAlign||tl,justify:n.justify,textBaseline:n.textBaseline||_u,scale:n.scale});const a=this.fillKey_;s&&(a in this.fillStates||(this.fillStates[a]={fillStyle:s.fillStyle}))}drawChars_(e,n){const s=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=bu[i.textBaseline],h=this.textOffsetY_*l,d=this.text_,f=s?s.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([X.DRAW_CHARS,e,n,u,i.overflow,o,i.maxAngle,l,h,r,f*l,d,a,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([X.DRAW_CHARS,e,n,u,i.overflow,o&&Ct,i.maxAngle,l,h,r,f*l,d,a,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,n){let s,i,r;if(!e)this.text_="";else{const a=e.getFill();a?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Bn(a.getColor()||Ct)):(i=null,this.textFillState_=i);const o=e.getStroke();if(!o)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const p=o.getLineDash(),_=o.getLineDashOffset(),x=o.getWidth(),y=o.getMiterLimit();r.lineCap=o.getLineCap()||ma,r.lineDash=p?p.slice():ds,r.lineDashOffset=_===void 0?fs:_,r.lineJoin=o.getLineJoin()||pa,r.lineWidth=x===void 0?nl:x,r.miterLimit=y===void 0?Qo:y,r.strokeStyle=Bn(o.getColor()||el)}s=this.textState_;const l=e.getFont()||Lb;uk(l);const u=e.getScaleArray();s.overflow=e.getOverflow(),s.font=l,s.maxAngle=e.getMaxAngle(),s.placement=e.getPlacement(),s.textAlign=e.getTextAlign(),s.repeat=e.getRepeat(),s.justify=e.getJustify(),s.textBaseline=e.getTextBaseline()||_u,s.backgroundFill=e.getBackgroundFill(),s.backgroundStroke=e.getBackgroundStroke(),s.padding=e.getPadding()||Di,s.scale=u===void 0?[1,1]:u;const h=e.getOffsetX(),d=e.getOffsetY(),f=e.getRotateWithView(),g=e.getKeepUpright(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=g===void 0?!0:g,this.textRotation_=m===void 0?0:m,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:ue(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+ue(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const Hk={Circle:D0,Default:wl,Image:Bk,LineString:$k,Polygon:D0,Text:Gk};class Xk{constructor(e,n,s,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=s,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const s=this.buildersByZIndex_[n];for(const i in s){const r=s[i].finish();e[n][i]=r}}return e}getBuilder(e,n){const s=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[s];i===void 0&&(i={},this.buildersByZIndex_[s]=i);let r=i[n];if(r===void 0){const a=Hk[n];r=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=r}return r}}function Yk(t,e,n,s,i,r,a,o,l,u,h,d,f=!0){let g=t[e],m=t[e+1],p=0,_=0,x=0,y=0;function v(){p=g,_=m,e+=s,g=t[e],m=t[e+1],y+=x,x=Math.sqrt((g-p)*(g-p)+(m-_)*(m-_))}do v();while(e<n-s&&y+x<r);let b=x===0?0:(r-y)/x;const w=tn(p,g,b),N=tn(_,m,b),S=e-s,E=y,C=r+o*l(u,i,h);for(;e<n-s&&y+x<C;)v();b=x===0?0:(C-y)/x;const k=tn(p,g,b),I=tn(_,m,b);let A=!1;if(f)if(d){const B=[w,N,k,I];yb(B,0,4,2,d,B,B),A=B[0]>B[2]}else A=w>k;const D=Math.PI,O=[],W=S+s===e;e=S,x=0,y=E,g=t[e],m=t[e+1];let z;if(W){v(),z=Math.atan2(m-_,g-p),A&&(z+=z>0?-D:D);const B=(k+w)/2,R=(I+N)/2;return O[0]=[B,R,(C-r)/2,z,i],O}i=i.replace(/\n/g," ");for(let B=0,R=i.length;B<R;){v();let P=Math.atan2(m-_,g-p);if(A&&(P+=P>0?-D:D),z!==void 0){let oe=P-z;if(oe+=oe>D?-2*D:oe<-D?2*D:0,Math.abs(oe)>a)return null}z=P;const F=B;let H=0;for(;B<R;++B){const oe=A?R-B-1:B,fe=o*l(u,i[oe],h);if(e+s<n&&y+x<r+H+fe/2)break;H+=fe}if(B===F)continue;const M=A?i.substring(R-F,R-B):i.substring(F,B);b=x===0?0:(r+H/2-y)/x;const xe=tn(p,g,b),ae=tn(_,m,b);O.push([xe,ae,H/2,P,M]),r+=H}return O}class Ub{constructor(){K(this,"pushMethodArgs_",(...e)=>(this.push_(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(yu(),{get:(e,n)=>{if(typeof yu()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(e,n,s)=>(this.push_(n,s),!0)})}push_(...e){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...e)}pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let s=0,i=n.length;s<i;++s){const r=n[s];if(typeof r=="function"){r(e);continue}const a=n[++s];if(typeof e[r]=="function")e[r](...a);else{if(typeof a=="function"){e[r]=a(e);continue}e[r]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const pr=hn(),ks=[],Kn=[],Zn=[],Rs=[];function O0(t){return t[3].declutterBox}const F0=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function bd(t,e){return e==="start"?e=F0.test(t)?"right":"left":e==="end"&&(e=F0.test(t)?"left":"right"),bu[e]}function Kk(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}function Zk(t,e,n){return n%2===0&&(t+=e),t}class qk{constructor(e,n,s,i,r){this.overlaps=s,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=jn(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new Ub:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,s,i){const r=e+n+s+i;if(this.labels_[r])return this.labels_[r];const a=i?this.strokeStates[i]:null,o=s?this.fillStates[s]:null,l=this.textStates[n],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],d=l.justify?bu[l.justify]:bd(Array.isArray(e)?e[0]:e,l.textAlign||tl),f=i&&a.lineWidth?a.lineWidth:0,g=Array.isArray(e)?e:String(e).split(`
`).reduce(Kk,[]),{width:m,height:p,widths:_,heights:x,lineWidths:y}=dk(l,g),v=m+f,b=[],w=(v+2)*h[0],N=(p+f)*h[1],S={width:w<0?Math.floor(w):Math.ceil(w),height:N<0?Math.floor(N):Math.ceil(N),contextInstructions:b};(h[0]!=1||h[1]!=1)&&b.push("scale",h),i&&(b.push("strokeStyle",a.strokeStyle),b.push("lineWidth",f),b.push("lineCap",a.lineCap),b.push("lineJoin",a.lineJoin),b.push("miterLimit",a.miterLimit),b.push("setLineDash",[a.lineDash]),b.push("lineDashOffset",a.lineDashOffset)),s&&b.push("fillStyle",o.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const E=.5-d;let C=d*v+E*f;const k=[],I=[];let A=0,D=0,O=0,W=0,z;for(let B=0,R=g.length;B<R;B+=2){const P=g[B];if(P===`
`){D+=A,A=0,C=d*v+E*f,++W;continue}const F=g[B+1]||l.font;F!==z&&(i&&k.push("font",F),s&&I.push("font",F),z=F),A=Math.max(A,x[O]);const H=[P,C+E*_[O]+d*(_[O]-y[W]),.5*(f+A)+D];C+=_[O],i&&k.push("strokeText",H),s&&I.push("fillText",H),++O}return Array.prototype.push.apply(b,k),Array.prototype.push.apply(b,I),this.labels_[r]=S,S}replayTextBackground_(e,n,s,i,r,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],e.fillStyle=a[1],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,s,i,r,a,o,l,u,h,d,f,g,m,p,_){o*=f[0],l*=f[1];let x=s-o,y=i-l;const v=r+u>e?e-u:r,b=a+h>n?n-h:a,w=m[3]+v*f[0]+m[1],N=m[0]+b*f[1]+m[2],S=x-m[3],E=y-m[0];(p||d!==0)&&(ks[0]=S,Rs[0]=S,ks[1]=E,Kn[1]=E,Kn[0]=S+w,Zn[0]=Kn[0],Zn[1]=E+N,Rs[1]=Zn[1]);let C;return d!==0?(C=_s(jn(),s,i,1,1,d,-s,-i),qe(C,ks),qe(C,Kn),qe(C,Zn),qe(C,Rs),hi(Math.min(ks[0],Kn[0],Zn[0],Rs[0]),Math.min(ks[1],Kn[1],Zn[1],Rs[1]),Math.max(ks[0],Kn[0],Zn[0],Rs[0]),Math.max(ks[1],Kn[1],Zn[1],Rs[1]),pr)):hi(Math.min(S,S+w),Math.min(E,E+N),Math.max(S,S+w),Math.max(E,E+N),pr),g&&(x=Math.round(x),y=Math.round(y)),{drawImageX:x,drawImageY:y,drawImageW:v,drawImageH:b,originX:u,originY:h,declutterBox:{minX:pr[0],minY:pr[1],maxX:pr[2],maxY:pr[3],value:_},canvasTransform:C,scale:f}}replayImageOrLabel_(e,n,s,i,r,a,o){const l=!!(a||o),u=i.declutterBox,h=o?o[2]*i.scale[0]/2:0;return u.minX-h<=n[0]&&u.maxX+h>=0&&u.minY-h<=n[1]&&u.maxY+h>=0&&(l&&this.replayTextBackground_(e,ks,Kn,Zn,Rs,a,o),fk(e,i.canvasTransform,r,s,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const s=qe(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(s[0]%i,s[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,s,i){const r=this.textStates[n],a=this.createLabel(e,n,i,s),o=this.strokeStates[s],l=this.pixelRatio,u=bd(Array.isArray(e)?e[0]:e,r.textAlign||tl),h=bu[r.textBaseline||_u],d=o&&o.lineWidth?o.lineWidth:0,f=a.width/l-2*r.scale[0],g=u*f+2*(.5-u)*d,m=h*a.height/l+2*(.5-h)*d;return{label:a,anchorX:g,anchorY:m}}execute_(e,n,s,i,r,a,o,l){const u=this.zIndexContext_;let h;this.pixelCoordinates_&&pi(s,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=si(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),yC(this.renderedTransform_,s));let d=0;const f=i.length;let g=0,m,p,_,x,y,v,b,w,N,S,E,C,k,I=0,A=0;const D=this.coordinateCache_,O=this.viewRotation_,W=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,z={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},B=this.instructions!=i||this.overlaps?0:200;let R,P,F,H;for(;d<f;){const M=i[d];switch(M[0]){case X.BEGIN_GEOMETRY:R=M[1],H=M[3],R.getGeometry()?o!==void 0&&!Rt(o,H.getExtent())?d=M[2]+1:++d:d=M[2],u&&(u.zIndex=M[4]);break;case X.BEGIN_PATH:I>B&&(this.fill_(e),I=0),A>B&&(e.stroke(),A=0),!I&&!A&&(e.beginPath(),y=NaN,v=NaN),++d;break;case X.CIRCLE:g=M[1];const ae=h[g],oe=h[g+1],fe=h[g+2],Pe=h[g+3],Rn=fe-ae,mn=Pe-oe,zt=Math.sqrt(Rn*Rn+mn*mn);e.moveTo(ae+zt,oe),e.arc(ae,oe,zt,0,2*Math.PI,!0),++d;break;case X.CLOSE_PATH:e.closePath(),++d;break;case X.CUSTOM:g=M[1],m=M[2];const Ml=M[3],kh=M[4],ka=M[5];z.geometry=Ml,z.feature=R,d in D||(D[d]=[]);const yi=D[d];ka?ka(h,g,m,2,yi):(yi[0]=h[g],yi[1]=h[g+1],yi.length=2),u&&(u.zIndex=M[6]),kh(yi,z),++d;break;case X.DRAW_IMAGE:g=M[1],m=M[2],N=M[3],p=M[4],_=M[5];let Xt=M[6];const Tn=M[7],cr=M[8],ur=M[9],Ra=M[10];let _i=M[11];const hr=M[12];let dr=M[13];x=M[14]||"declutter";const Ye=M[15];if(!N&&M.length>=20){S=M[19],E=M[20],C=M[21],k=M[22];const Yt=this.drawLabelWithPointPlacement_(S,E,C,k);N=Yt.label,M[3]=N;const vi=M[23];p=(Yt.anchorX-vi)*this.pixelRatio,M[4]=p;const Kt=M[24];_=(Yt.anchorY-Kt)*this.pixelRatio,M[5]=_,Xt=N.height,M[6]=Xt,dr=N.width,M[13]=dr}let Rh;M.length>25&&(Rh=M[25]);let Th,Il,Pl;M.length>17?(Th=M[16],Il=M[17],Pl=M[18]):(Th=Di,Il=null,Pl=null),Ra&&W?_i+=O:!Ra&&!W&&(_i-=O);let j2=0;for(;g<m;g+=2){if(Rh&&Rh[j2++]<dr/this.pixelRatio)continue;const Yt=this.calculateImageOrLabelDimensions_(N.width,N.height,h[g],h[g+1],dr,Xt,p,_,cr,ur,_i,hr,r,Th,!!Il||!!Pl,R),vi=[e,n,N,Yt,Tn,Il,Pl];if(l){let Kt,Mn,Zt;if(Ye){const Te=m-g;if(!Ye[Te]){Ye[Te]={args:vi,declutterMode:x};continue}const mt=Ye[Te];Kt=mt.args,Mn=mt.declutterMode,delete Ye[Te],Zt=O0(Kt)}let Hn,Xn;if(Kt&&(Mn!=="declutter"||!l.collides(Zt))&&(Hn=!0),(x!=="declutter"||!l.collides(Yt.declutterBox))&&(Xn=!0),Mn==="declutter"&&x==="declutter"){const Te=Hn&&Xn;Hn=Te,Xn=Te}Hn&&(Mn!=="none"&&l.insert(Zt),this.replayImageOrLabel_.apply(this,Kt)),Xn&&(x!=="none"&&l.insert(Yt.declutterBox),this.replayImageOrLabel_.apply(this,vi))}else this.replayImageOrLabel_.apply(this,vi)}++d;break;case X.DRAW_CHARS:const Ep=M[1],jp=M[2],Mh=M[3],N2=M[4];k=M[5];const C2=M[6],Np=M[7],Cp=M[8];C=M[9];const Ih=M[10];S=M[11],Array.isArray(S)&&(S=S.reduce(Zk,"")),E=M[12];const kp=[M[13],M[13]];x=M[14]||"declutter";const k2=M[15],Ph=this.textStates[E],Ta=Ph.font,Ma=[Ph.scale[0]*Np,Ph.scale[1]*Np];let Ia;Ta in this.widths_?Ia=this.widths_[Ta]:(Ia={},this.widths_[Ta]=Ia);const Rp=VC(h,Ep,jp,2),Tp=Math.abs(Ma[0])*j0(Ta,S,Ia);if(N2||Tp<=Rp){const Yt=this.textStates[E].textAlign,vi=(Rp-Tp)*bd(S,Yt),Kt=Yk(h,Ep,jp,2,S,vi,C2,Math.abs(Ma[0]),j0,Ta,Ia,W?0:this.viewRotation_,k2);e:if(Kt){const Mn=[];let Zt,Hn,Xn,Te,mt;if(C)for(Zt=0,Hn=Kt.length;Zt<Hn;++Zt){mt=Kt[Zt],Xn=mt[4],Te=this.createLabel(Xn,E,"",C),p=mt[2]+(Ma[0]<0?-Ih:Ih),_=Mh*Te.height+(.5-Mh)*2*Ih*Ma[1]/Ma[0]-Cp;const Yn=this.calculateImageOrLabelDimensions_(Te.width,Te.height,mt[0],mt[1],Te.width,Te.height,p,_,0,0,mt[3],kp,!1,Di,!1,R);if(l&&x==="declutter"&&l.collides(Yn.declutterBox))break e;Mn.push([e,n,Te,Yn,1,null,null])}if(k)for(Zt=0,Hn=Kt.length;Zt<Hn;++Zt){mt=Kt[Zt],Xn=mt[4],Te=this.createLabel(Xn,E,k,""),p=mt[2],_=Mh*Te.height-Cp;const Yn=this.calculateImageOrLabelDimensions_(Te.width,Te.height,mt[0],mt[1],Te.width,Te.height,p,_,0,0,mt[3],kp,!1,Di,!1,R);if(l&&x==="declutter"&&l.collides(Yn.declutterBox))break e;Mn.push([e,n,Te,Yn,1,null,null])}l&&x!=="none"&&l.load(Mn.map(O0));for(let Yn=0,R2=Mn.length;Yn<R2;++Yn)this.replayImageOrLabel_.apply(this,Mn[Yn])}}++d;break;case X.END_GEOMETRY:if(a!==void 0){R=M[1];const Yt=a(R,H,x);if(Yt)return Yt}++d;break;case X.FILL:B?I++:this.fill_(e),++d;break;case X.MOVE_TO_LINE_TO:for(g=M[1],m=M[2],P=h[g],F=h[g+1],e.moveTo(P,F),y=P+.5|0,v=F+.5|0,g+=2;g<m;g+=2)P=h[g],F=h[g+1],b=P+.5|0,w=F+.5|0,(g==m-2||b!==y||w!==v)&&(e.lineTo(P,F),y=b,v=w);++d;break;case X.SET_FILL_STYLE:this.alignAndScaleFill_=M[2],I&&(this.fill_(e),I=0,A&&(e.stroke(),A=0)),e.fillStyle=M[1],++d;break;case X.SET_STROKE_STYLE:A&&(e.stroke(),A=0),this.setStrokeStyle_(e,M),++d;break;case X.STROKE:B?A++:e.stroke(),++d;break;default:++d;break}}I&&this.fill_(e),A&&e.stroke()}execute(e,n,s,i,r,a){this.viewRotation_=i,this.execute_(e,n,s,this.instructions,r,void 0,void 0,a)}executeHitDetection(e,n,s,i,r){return this.viewRotation_=s,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,r)}}const Br=["Polygon","Circle","LineString","Image","Text","Default"],Gb=["Image","Text"],Jk=Br.filter(t=>!Gb.includes(t));class Qk{constructor(e,n,s,i,r,a,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=jn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,o)}clip(e,n){const s=this.getClipCoords(n);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(s[2],s[3]),e.lineTo(s[4],s[5]),e.lineTo(s[6],s[7]),e.clip()}createExecutors_(e,n){for(const s in e){let i=this.executorsByZIndex_[s];i===void 0&&(i={},this.executorsByZIndex_[s]=i);const r=e[s];for(const a in r){const o=r[a];i[a]=new qk(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let i=0,r=e.length;i<r;++i)if(e[i]in s)return!0}return!1}forEachFeatureAtCoordinate(e,n,s,i,r,a){i=Math.round(i);const o=i*2+1,l=_s(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-s,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Xe(o,o));const h=this.hitDetectionContext_;h.canvas.width!==o||h.canvas.height!==o?(h.canvas.width=o,h.canvas.height=o):u||h.clearRect(0,0,o,o);let d;this.renderBuffer_!==void 0&&(d=hn(),So(d,e),Sm(d,n*(this.renderBuffer_+i),d));const f=eR(i);let g;function m(w,N,S){const E=h.getImageData(0,0,o,o).data;for(let C=0,k=f.length;C<k;C++)if(E[f[C]]>0){if(!a||S==="none"||g!=="Image"&&g!=="Text"||a.includes(w)){const I=(f[C]-3)/4,A=i-I%o,D=i-(I/o|0),O=r(w,N,A*A+D*D);if(O)return O}h.clearRect(0,0,o,o);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(hs);let _,x,y,v,b;for(_=p.length-1;_>=0;--_){const w=p[_].toString();for(y=this.executorsByZIndex_[w],x=Br.length-1;x>=0;--x)if(g=Br[x],v=y[g],v!==void 0&&(b=v.executeHitDetection(h,l,s,m,d),b))return b}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const s=n[0],i=n[1],r=n[2],a=n[3],o=[s,i,s,a,r,a,r,i];return si(o,0,8,2,e,o),o}isEmpty(){return ha(this.executorsByZIndex_)}execute(e,n,s,i,r,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(o?NN:hs),a=a||Br;const u=Br.length;for(let h=0,d=l.length;h<d;++h){const f=l[h].toString(),g=this.executorsByZIndex_[f];for(let m=0,p=a.length;m<p;++m){const _=a[m],x=g[_];if(x!==void 0){const y=o===null?void 0:x.getZIndexContext(),v=y?y.getContext():e,b=this.maxExtent_&&_!=="Image"&&_!=="Text";if(b&&(v.save(),this.clip(v,s)),!y||_==="Text"||_==="Image"?x.execute(v,n,s,i,r,o):y.pushFunction(w=>x.execute(w,n,s,i,r,o)),b&&v.restore(),y){y.offset();const w=l[h]*u+m;this.deferredZIndexContexts_[w]||(this.deferredZIndexContexts_[w]=[]),this.deferredZIndexContexts_[w].push(y)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(hs);for(let s=0,i=n.length;s<i;++s)e[n[s]].forEach(r=>{r.draw(this.renderedContext_),r.clear()}),e[n[s]].length=0}}const wd={};function eR(t){if(wd[t]!==void 0)return wd[t];const e=t*2+1,n=t*t,s=new Array(n+1);for(let r=0;r<=t;++r)for(let a=0;a<=t;++a){const o=r*r+a*a;if(o>n)break;let l=s[o];l||(l=[],s[o]=l),l.push(((t+r)*e+(t+a))*4+3),r>0&&l.push(((t-r)*e+(t+a))*4+3),a>0&&(l.push(((t+r)*e+(t-a))*4+3),r>0&&l.push(((t-r)*e+(t-a))*4+3))}const i=[];for(let r=0,a=s.length;r<a;++r)s[r]&&i.push(...s[r]);return wd[t]=i,i}function z0(t,e,n,s){return n!==void 0&&s!==void 0?[n/t,s/e]:n!==void 0?n/t:s!==void 0?s/e:1}class Sl extends yh{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,s=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:s,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;de(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||ue(a)),de(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),de(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Q.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?Q.LOADED:Q.IDLE:l=Q.LOADING:l=Q.LOADED),this.color_=e.color!==void 0?ga(e.color):null,this.iconImage_=Bm(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let u,h;if(e.size)[u,h]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)u=d.width,h=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(z0(g[0],g[1],e.width,e.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(z0(u,h,e.width,e.height))}}clone(){let e,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Sl({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),s=this.getScaleArray();return[e[0]-n[0]/s[0],e[1]+n[1]/s[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=s[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=s[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Q.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Q.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(q.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(q.CHANGE,e)}ready(){return this.iconImage_.ready()}}const Fn=.5;function tR(t,e,n,s,i,r,a,o,l){const u=i,h=t[0]*Fn,d=t[1]*Fn,f=Xe(h,d);f.imageSmoothingEnabled=!1;const g=f.canvas,m=new mk(f,Fn,i,null,a,o,null),p=n.length,_=Math.floor((256*256*256-1)/p),x={};for(let v=1;v<=p;++v){const b=n[v-1],w=b.getStyleFunction()||s;if(!w)continue;let N=w(b,r);if(!N)continue;Array.isArray(N)||(N=[N]);const E=(v*_).toString(16).padStart(7,"#00000");for(let C=0,k=N.length;C<k;++C){const I=N[C],A=I.getGeometryFunction()(b);if(!A||!Rt(u,A.getExtent()))continue;const D=I.clone(),O=D.getFill();O&&O.setColor(E);const W=D.getStroke();W&&(W.setColor(E),W.setLineDash(null)),D.setText(void 0);const z=I.getImage();if(z){const F=z.getImageSize();if(!F)continue;const H=Xe(F[0],F[1],void 0,{alpha:!1}),M=H.canvas;H.fillStyle=E,H.fillRect(0,0,M.width,M.height),D.setImage(new Sl({img:M,anchor:z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:z.getOrigin(),opacity:1,size:z.getSize(),scale:z.getScale(),rotation:z.getRotation(),rotateWithView:z.getRotateWithView()}))}const B=D.getZIndex()||0;let R=x[B];R||(R={},x[B]=R,R.Polygon=[],R.Circle=[],R.LineString=[],R.Point=[]);const P=A.getType();if(P==="GeometryCollection"){const F=A.getGeometriesArrayRecursive();for(let H=0,M=F.length;H<M;++H){const xe=F[H];R[xe.getType().replace("Multi","")].push(xe,D)}}else R[P.replace("Multi","")].push(A,D)}}const y=Object.keys(x).map(Number).sort(hs);for(let v=0,b=y.length;v<b;++v){const w=x[y[v]];for(const N in w){const S=w[N];for(let E=0,C=S.length;E<C;E+=2){m.setStyle(S[E+1]);for(let k=0,I=e.length;k<I;++k)m.setTransform(e[k]),m.drawGeometry(S[E])}}}return f.getImageData(0,0,g.width,g.height)}function nR(t,e,n){const s=[];if(n){const i=Math.floor(Math.round(t[0])*Fn),r=Math.floor(Math.round(t[1])*Fn),a=(Ce(i,0,n.width-1)+Ce(r,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],h=n.data[a+2]+256*(l+256*o),d=Math.floor((256*256*256-1)/e.length);h&&h%d===0&&s.push(e[h/d-1])}return s}class Hb extends Es{constructor(e,n,s,i){super(e),this.inversePixelTransform=n,this.frameState=s,this.context=i}}const sR=5;class iR extends _l{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=sR}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return ie()}getData(e){return null}prepareFrame(e){return ie()}renderFrame(e,n){return ie()}forEachFeatureAtCoordinate(e,n,s,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Q.LOADED||n.getState()===Q.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Q.LOADED&&n!=Q.ERROR&&e.addEventListener(q.CHANGE,this.boundHandleImageChange_),n==Q.IDLE&&(e.load(),n=e.getState()),n==Q.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const W0=[];let jr=null;function rR(){jr=Xe(1,1,void 0,{willReadFrequently:!0})}class Xb extends iR{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=jn(),this.pixelTransform=jn(),this.inversePixelTransform=jn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,s){jr||rR(),jr.clearRect(0,0,1,1);let i;try{jr.drawImage(e,n,s,1,1,0,0,1,1),i=jr.getImageData(0,0,1,1).data}catch{return jr=null,null}return i}getBackground(e){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(e.viewState.resolution)),s||void 0}useContainer(e,n,s){const i=this.getLayer().getClassName();let r,a;if(e&&e.className===i&&(!s||e&&e.style.backgroundColor&&pi(ga(e.style.backgroundColor),ga(s)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&wC(a.canvas.style.transform,n)?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let o=r.style;o.position="absolute",o.width="100%",o.height="100%",a=Xe();const l=a.canvas;r.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=r,this.context=a}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(e,n,s){const i=ar(s),r=ch(s),a=lh(s),o=oh(s);qe(n.coordinateToPixelTransform,i),qe(n.coordinateToPixelTransform,r),qe(n.coordinateToPixelTransform,a),qe(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;qe(l,i),qe(l,r),qe(l,a),qe(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const s=e.extent,i=e.viewState.resolution,r=e.viewState.rotation,a=e.pixelRatio,o=Math.round(he(s)/i*a),l=Math.round(dt(s)/i*a);_s(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,r,-o/2,-l/2),xb(this.inversePixelTransform,this.pixelTransform);const u=bC(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const h=this.context.canvas;h.width!=o||h.height!=l?(h.width=o,h.height=l):this.context.clearRect(0,0,o,l),u!==h.style.transform&&(h.style.transform=u)}}dispatchRenderEvent_(e,n,s){const i=this.getLayer();if(i.hasListener(e)){const r=new Hb(e,this.inversePixelTransform,s,n);i.dispatchEvent(r)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(sn.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(sn.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Ub),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(sn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(sn.POSTRENDER,this.context,e))}getRenderTransform(e,n,s,i,r,a,o){const l=r/2,u=a/2,h=i/n,d=-h,f=-e[0]+o,g=-e[1];return _s(this.tempTransform,l,u,h,d,-s,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class aR extends Xb{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=hn(),this.wrappedRenderedExtent_=hn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,s){const i=n.extent,r=n.viewState,a=r.center,o=r.resolution,l=r.projection,u=r.rotation,h=l.getExtent(),d=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),g=n.pixelRatio,m=n.viewHints,p=!(m[ut.ANIMATING]||m[ut.INTERACTING]),_=this.context,x=Math.round(he(i)/o*g),y=Math.round(dt(i)/o*g),v=d.getWrapX()&&l.canWrapX(),b=v?he(h):null,w=v?Math.ceil((i[2]-h[2])/b)+1:1;let N=v?Math.floor((i[0]-h[0])/b):0;do{let S=this.getRenderTransform(a,o,0,g,x,y,N*b);n.declutter&&(S=S.slice(0)),e.execute(_,[_.canvas.width,_.canvas.height],S,u,p,s===void 0?Br:s?Gb:Jk,s?f&&n.declutter[f]:void 0)}while(++N<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Xe(this.context.canvas.width,this.context.canvas.height,W0))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,mh(this.context),W0.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const s=e.layerStatesArray[e.layerIndex];this.opacity_=s.opacity;const i=e.viewState;this.prepareContainer(e,n);const r=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(sn.PRERENDER)||this.getLayer().hasListener(sn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(r,e),i.projection,this.clipped_=!1,o&&s.extent&&this.clipping){const l=Us(s.extent);o=Rt(l,e.extent),this.clipped_=o&&!to(l,e.extent),this.clipped_&&this.clipUnrotated(r,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),i=this.renderedCenter_,r=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),h=[],d=s[0]*Fn,f=s[1]*Fn;h.push(this.getRenderTransform(i,r,a,Fn,d,f,0).slice());const g=u.getSource(),m=o.getExtent();if(g.getWrapX()&&o.canWrapX()&&!to(m,l)){let p=l[0];const _=he(m);let x=0,y;for(;p<m[0];)--x,y=_*x,h.push(this.getRenderTransform(i,r,a,Fn,d,f,y).slice()),p+=_;for(x=0,p=l[2];p>m[2];)++x,y=_*x,h.push(this.getRenderTransform(i,r,a,Fn,d,f,y).slice()),p-=_}this.hitDetectionImageData_=tR(s,h,this.renderedFeatures_,u.getStyleFunction(),l,r,a,N0(r,this.renderedPixelRatio_))}n(nR(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,s,i,r){var f,g;if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),u={},h=function(m,p,_){const x=ue(m),y=u[x];if(y){if(y!==!0&&_<y.distanceSq){if(_===0)return u[x]=!0,r.splice(r.lastIndexOf(y),1),i(m,l,p);y.geometry=p,y.distanceSq=_}}else{if(_===0)return u[x]=!0,i(m,l,p);r.push(u[x]={feature:m,layer:l,geometry:p,distanceSq:_,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,o,s,h,d?(g=(f=n.declutter)==null?void 0:f[d])==null?void 0:g.all().map(m=>m.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const i=e.viewHints[ut.ANIMATING],r=e.viewHints[ut.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&i||!o&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,h=u.projection,d=u.resolution,f=e.pixelRatio,g=n.getRevision(),m=n.getRenderBuffer();let p=n.getRenderOrder();p===void 0&&(p=xk);const _=u.center.slice(),x=Sm(l,m*d),y=x.slice(),v=[x.slice()],b=h.getExtent();if(s.getWrapX()&&h.canWrapX()&&!to(b,e.extent)){const O=he(b),W=Math.max(he(x)/2,O);x[0]=b[0]-W,x[2]=b[2]+W,cb(_,h);const z=ab(v[0],h);z[0]<b[0]&&z[2]<b[2]?v.push([z[0]+O,z[1],z[2]+O,z[3]]):z[0]>b[0]&&z[2]>b[2]&&v.push([z[0]-O,z[1],z[2]-O,z[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==g&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!e.declutter&&to(this.wrappedRenderedExtent_,x))return pi(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new Xk(Fb(d,f),x,d,f);let N;for(let O=0,W=v.length;O<W;++O)s.loadFeatures(v[O],d,h);const S=N0(d,f);let E=!0;const C=(O,W)=>{let z;const B=O.getStyleFunction()||n.getStyleFunction();if(B&&(z=B(O,d)),z){const R=this.renderFeature(O,S,z,w,N,this.getLayer().getDeclutter(),W);E=E&&!R}},k=pb(x),I=s.getFeaturesInExtent(k);p&&I.sort(p);for(let O=0,W=I.length;O<W;++O)C(I[O],O);this.renderedFeatures_=I,this.ready=E;const A=w.finish(),D=new Qk(x,d,f,s.getOverlaps(),A,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=g,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=y,this.wrappedRenderedExtent_=x,this.renderedCenter_=_,this.renderedProjection_=h,this.renderedPixelRatio_=f,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,s,i,r,a,o){if(!s)return!1;let l=!1;if(Array.isArray(s))for(let u=0,h=s.length;u<h;++u)l=C0(i,e,s[u],n,this.boundHandleStyleImageChange_,r,a,o)||l;else l=C0(i,e,s,n,this.boundHandleStyleImageChange_,r,a,o);return l}}let or=0;const xt=1<<or++,te=1<<or++,kt=1<<or++,wn=1<<or++,er=1<<or++,io=1<<or++,ac=Math.pow(2,or)-1,Um={[xt]:"boolean",[te]:"number",[kt]:"string",[wn]:"color",[er]:"number[]",[io]:"size"},oR=Object.keys(Um).map(Number).sort(hs);function lR(t){return t in Um}function ro(t){const e=[];for(const n of oR)ao(t,n)&&e.push(Um[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function ao(t,e){return(t&e)===e}function Ts(t,e){return t===e}class $e{constructor(e,n){if(!lR(e))throw new Error(`literal expressions must have a specific type, got ${ro(e)}`);this.type=e,this.value=n}}class cR{constructor(e,n,...s){this.type=e,this.operator=n,this.args=s}}function Yb(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function tt(t,e,n){switch(typeof t){case"boolean":{if(Ts(e,kt))return new $e(kt,t?"true":"false");if(!ao(e,xt))throw new Error(`got a boolean, but expected ${ro(e)}`);return new $e(xt,t)}case"number":{if(Ts(e,io))return new $e(io,Pt(t));if(Ts(e,xt))return new $e(xt,!!t);if(Ts(e,kt))return new $e(kt,t.toString());if(!ao(e,te))throw new Error(`got a number, but expected ${ro(e)}`);return new $e(te,t)}case"string":{if(Ts(e,wn))return new $e(wn,zm(t));if(Ts(e,xt))return new $e(xt,!!t);if(!ao(e,kt))throw new Error(`got a string, but expected ${ro(e)}`);return new $e(kt,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return vR(t,e,n);for(const s of t)if(typeof s!="number")throw new Error("expected an array of numbers");if(Ts(e,io)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new $e(io,t)}if(Ts(e,wn)){if(t.length===3)return new $e(wn,[...t,1]);if(t.length===4)return new $e(wn,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!ao(e,er))throw new Error(`got an array of numbers, but expected ${ro(e)}`);return new $e(er,t)}const T={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},uR={[T.Get]:Z(J(1,1/0),B0),[T.Var]:Z(J(1,1),hR),[T.Has]:Z(J(1,1/0),B0),[T.Id]:Z(dR,xr),[T.Concat]:Z(J(2,1/0),le(kt)),[T.GeometryType]:Z(fR,xr),[T.LineMetric]:Z(xr),[T.Resolution]:Z(Sd,xr),[T.Zoom]:Z(Sd,xr),[T.Time]:Z(Sd,xr),[T.Any]:Z(J(2,1/0),le(xt)),[T.All]:Z(J(2,1/0),le(xt)),[T.Not]:Z(J(1,1),le(xt)),[T.Equal]:Z(J(2,2),le(ac)),[T.NotEqual]:Z(J(2,2),le(ac)),[T.GreaterThan]:Z(J(2,2),le(te)),[T.GreaterThanOrEqualTo]:Z(J(2,2),le(te)),[T.LessThan]:Z(J(2,2),le(te)),[T.LessThanOrEqualTo]:Z(J(2,2),le(te)),[T.Multiply]:Z(J(2,1/0),$0),[T.Coalesce]:Z(J(2,1/0),$0),[T.Divide]:Z(J(2,2),le(te)),[T.Add]:Z(J(2,1/0),le(te)),[T.Subtract]:Z(J(2,2),le(te)),[T.Clamp]:Z(J(3,3),le(te)),[T.Mod]:Z(J(2,2),le(te)),[T.Pow]:Z(J(2,2),le(te)),[T.Abs]:Z(J(1,1),le(te)),[T.Floor]:Z(J(1,1),le(te)),[T.Ceil]:Z(J(1,1),le(te)),[T.Round]:Z(J(1,1),le(te)),[T.Sin]:Z(J(1,1),le(te)),[T.Cos]:Z(J(1,1),le(te)),[T.Atan]:Z(J(1,2),le(te)),[T.Sqrt]:Z(J(1,1),le(te)),[T.Match]:Z(J(4,1/0),V0,mR),[T.Between]:Z(J(3,3),le(te)),[T.Interpolate]:Z(J(6,1/0),V0,pR),[T.Case]:Z(J(3,1/0),gR,xR),[T.In]:Z(J(2,2),yR),[T.Number]:Z(J(1,1/0),le(ac)),[T.String]:Z(J(1,1/0),le(ac)),[T.Array]:Z(J(1,1/0),le(te)),[T.Color]:Z(J(1,4),le(te)),[T.Band]:Z(J(1,3),le(te)),[T.Palette]:Z(J(2,2),_R),[T.ToString]:Z(J(1,1),le(xt|te|kt|wn))};function B0(t,e,n){const s=t.length-1,i=new Array(s);for(let r=0;r<s;++r){const a=t[r+1];switch(typeof a){case"number":{i[r]=new $e(te,a);break}case"string":{i[r]=new $e(kt,a);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${a}`)}r===0&&n.properties.add(String(a))}return i}function hR(t,e,n){const s=t[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new $e(kt,s)]}function dR(t,e,n){n.featureId=!0}function fR(t,e,n){n.geometryType=!0}function Sd(t,e,n){n.mapState=!0}function xr(t,e,n){const s=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function J(t,e){return function(n,s,i){const r=n[0],a=n.length-1;if(t===e){if(a!==t){const o=t===1?"":"s";throw new Error(`expected ${t} argument${o} for ${r}, got ${a}`)}}else if(a<t||a>e){const o=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${o} arguments for ${r}, got ${a}`)}}}function $0(t,e,n){const s=t.length-1,i=new Array(s);for(let r=0;r<s;++r){const a=tt(t[r+1],e,n);i[r]=a}return i}function le(t){return function(e,n,s){const i=e.length-1,r=new Array(i);for(let a=0;a<i;++a){const o=tt(e[a+1],t,s);r[a]=o}return r}}function gR(t,e,n){const s=t[0],i=t.length-1;if(i%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${i} instead`)}function V0(t,e,n){const s=t[0],i=t.length-1;if(i%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${i} instead`)}function mR(t,e,n){const s=t.length-1,i=kt|te|xt,r=tt(t[1],i,n),a=tt(t[t.length-1],e,n),o=new Array(s-2);for(let l=0;l<s-2;l+=2){try{const u=tt(t[l+2],r.type,n);o[l]=u}catch(u){throw new Error(`failed to parse argument ${l+1} of match expression: ${u.message}`)}try{const u=tt(t[l+3],a.type,n);o[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+2} of match expression: ${u.message}`)}}return[r,...o,a]}function pR(t,e,n){const s=t[1];let i;switch(s[0]){case"linear":i=1;break;case"exponential":const l=s[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);i=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const r=new $e(te,i);let a;try{a=tt(t[2],te,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){try{const u=tt(t[l+3],te,n);o[l]=u}catch(u){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${u.message}`)}try{const u=tt(t[l+4],e,n);o[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${u.message}`)}}return[r,a,...o]}function xR(t,e,n){const s=tt(t[t.length-1],e,n),i=new Array(t.length-1);for(let r=0;r<i.length-1;r+=2){try{const a=tt(t[r+1],xt,n);i[r]=a}catch(a){throw new Error(`failed to parse argument ${r} of case expression: ${a.message}`)}try{const a=tt(t[r+2],s.type,n);i[r+1]=a}catch(a){throw new Error(`failed to parse argument ${r+1} of case expression: ${a.message}`)}}return i[i.length-1]=s,i}function yR(t,e,n){let s=t[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let i;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],i=kt}else i=te;const r=new Array(s.length);for(let o=0;o<r.length;o++)try{const l=tt(s[o],i,n);r[o]=l}catch(l){throw new Error(`failed to parse haystack item ${o} for "in" expression: ${l.message}`)}return[tt(t[1],i,n),...r]}function _R(t,e,n){let s;try{s=tt(t[1],te,n)}catch(a){throw new Error(`failed to parse first argument in palette expression: ${a.message}`)}const i=t[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");const r=new Array(i.length);for(let a=0;a<r.length;a++){let o;try{o=tt(i[a],wn,n)}catch(l){throw new Error(`failed to parse color at index ${a} in palette expression: ${l.message}`)}if(!(o instanceof $e))throw new Error(`the palette color at index ${a} must be a literal value`);r[a]=o}return[s,...r]}function Z(...t){return function(e,n,s){const i=e[0];let r;for(let a=0;a<t.length;a++){const o=t[a](e,n,s);if(a==t.length-1){if(!o)throw new Error("expected last argument validator to return the parsed args");r=o}}return new cR(n,i,...r)}}function vR(t,e,n){const s=t[0],i=uR[s];if(!i)throw new Error(`unknown operator: ${s}`);return i(t,e,n)}function Kb(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Kb(t.getGeometries()[0]);default:return""}}function Zb(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function js(t,e,n){const s=tt(t,e,n);return Cn(s)}function Cn(t,e){if(t instanceof $e){if(t.type===wn&&typeof t.value=="string"){const s=zm(t.value);return function(){return s}}return function(){return t.value}}const n=t.operator;switch(n){case T.Number:case T.String:case T.Coalesce:return bR(t);case T.Get:case T.Var:case T.Has:return wR(t);case T.Id:return s=>s.featureId;case T.GeometryType:return s=>s.geometryType;case T.Concat:{const s=t.args.map(i=>Cn(i));return i=>"".concat(...s.map(r=>r(i).toString()))}case T.Resolution:return s=>s.resolution;case T.Any:case T.All:case T.Between:case T.In:case T.Not:return ER(t);case T.Equal:case T.NotEqual:case T.LessThan:case T.LessThanOrEqualTo:case T.GreaterThan:case T.GreaterThanOrEqualTo:return SR(t);case T.Multiply:case T.Divide:case T.Add:case T.Subtract:case T.Clamp:case T.Mod:case T.Pow:case T.Abs:case T.Floor:case T.Ceil:case T.Round:case T.Sin:case T.Cos:case T.Atan:case T.Sqrt:return jR(t);case T.Case:return NR(t);case T.Match:return CR(t);case T.Interpolate:return kR(t);case T.ToString:return RR(t);default:throw new Error(`Unsupported operator ${n}`)}}function bR(t,e){const n=t.operator,s=t.args.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=Cn(t.args[r]);switch(n){case T.Coalesce:return r=>{for(let a=0;a<s;++a){const o=i[a](r);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case T.Number:case T.String:return r=>{for(let a=0;a<s;++a){const o=i[a](r);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function wR(t,e){const s=t.args[0].value;switch(t.operator){case T.Get:return i=>{const r=t.args;let a=i.properties[s];for(let o=1,l=r.length;o<l;++o){const h=r[o].value;a=a[h]}return a};case T.Var:return i=>i.variables[s];case T.Has:return i=>{const r=t.args;if(!(s in i.properties))return!1;let a=i.properties[s];for(let o=1,l=r.length;o<l;++o){const h=r[o].value;if(!a||!Object.hasOwn(a,h))return!1;a=a[h]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function SR(t,e){const n=t.operator,s=Cn(t.args[0]),i=Cn(t.args[1]);switch(n){case T.Equal:return r=>s(r)===i(r);case T.NotEqual:return r=>s(r)!==i(r);case T.LessThan:return r=>s(r)<i(r);case T.LessThanOrEqualTo:return r=>s(r)<=i(r);case T.GreaterThan:return r=>s(r)>i(r);case T.GreaterThanOrEqualTo:return r=>s(r)>=i(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function ER(t,e){const n=t.operator,s=t.args.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=Cn(t.args[r]);switch(n){case T.Any:return r=>{for(let a=0;a<s;++a)if(i[a](r))return!0;return!1};case T.All:return r=>{for(let a=0;a<s;++a)if(!i[a](r))return!1;return!0};case T.Between:return r=>{const a=i[0](r),o=i[1](r),l=i[2](r);return a>=o&&a<=l};case T.In:return r=>{const a=i[0](r);for(let o=1;o<s;++o)if(a===i[o](r))return!0;return!1};case T.Not:return r=>!i[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function jR(t,e){const n=t.operator,s=t.args.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=Cn(t.args[r]);switch(n){case T.Multiply:return r=>{let a=1;for(let o=0;o<s;++o)a*=i[o](r);return a};case T.Divide:return r=>i[0](r)/i[1](r);case T.Add:return r=>{let a=0;for(let o=0;o<s;++o)a+=i[o](r);return a};case T.Subtract:return r=>i[0](r)-i[1](r);case T.Clamp:return r=>{const a=i[0](r),o=i[1](r);if(a<o)return o;const l=i[2](r);return a>l?l:a};case T.Mod:return r=>i[0](r)%i[1](r);case T.Pow:return r=>Math.pow(i[0](r),i[1](r));case T.Abs:return r=>Math.abs(i[0](r));case T.Floor:return r=>Math.floor(i[0](r));case T.Ceil:return r=>Math.ceil(i[0](r));case T.Round:return r=>Math.round(i[0](r));case T.Sin:return r=>Math.sin(i[0](r));case T.Cos:return r=>Math.cos(i[0](r));case T.Atan:return s===2?r=>Math.atan2(i[0](r),i[1](r)):r=>Math.atan(i[0](r));case T.Sqrt:return r=>Math.sqrt(i[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function NR(t,e){const n=t.args.length,s=new Array(n);for(let i=0;i<n;++i)s[i]=Cn(t.args[i]);return i=>{for(let r=0;r<n-1;r+=2)if(s[r](i))return s[r+1](i);return s[n-1](i)}}function CR(t,e){const n=t.args.length,s=new Array(n);for(let i=0;i<n;++i)s[i]=Cn(t.args[i]);return i=>{const r=s[0](i);for(let a=1;a<n-1;a+=2)if(r===s[a](i))return s[a+1](i);return s[n-1](i)}}function kR(t,e){const n=t.args.length,s=new Array(n);for(let i=0;i<n;++i)s[i]=Cn(t.args[i]);return i=>{const r=s[0](i),a=s[1](i);let o,l;for(let u=2;u<n;u+=2){const h=s[u](i);let d=s[u+1](i);const f=Array.isArray(d);if(f&&(d=nk(d)),h>=a)return u===2?d:f?TR(r,a,o,l,h,d):oo(r,a,o,l,h,d);o=h,l=d}return l}}function RR(t,e){const n=t.operator,s=t.args.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=Cn(t.args[r]);switch(n){case T.ToString:return r=>{const a=i[0](r);return t.args[0].type===wn?Wm(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function oo(t,e,n,s,i,r){const a=i-n;if(a===0)return s;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return s+l*(r-s)}function TR(t,e,n,s,i,r){if(i-n===0)return s;const o=w0(s),l=w0(r);let u=l[2]-o[2];u>180?u-=360:u<-180&&(u+=360);const h=[oo(t,e,n,o[0],i,l[0]),oo(t,e,n,o[1],i,l[1]),o[2]+oo(t,e,n,0,i,u),oo(t,e,n,s[3],i,r[3])];return sk(h)}function MR(t){return!0}function IR(t){const e=Yb(),n=PR(t,e),s=Zb();return function(i,r){if(s.properties=i.getPropertiesInternal(),s.resolution=r,e.featureId){const a=i.getId();a!==void 0?s.featureId=a:s.featureId=null}return e.geometryType&&(s.geometryType=Kb(i.getGeometry())),n(s)}}function U0(t){const e=Yb(),n=t.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=qf(t[a],e);const i=Zb(),r=new Array(n);return function(a,o){if(i.properties=a.getPropertiesInternal(),i.resolution=o,e.featureId){const u=a.getId();u!==void 0?i.featureId=u:i.featureId=null}let l=0;for(let u=0;u<n;++u){const h=s[u](i);h&&(r[l]=h,l+=1)}return r.length=l,r}}function PR(t,e){const n=t.length,s=new Array(n);for(let i=0;i<n;++i){const r=t[i],a="filter"in r?js(r.filter,xt,e):MR;let o;if(Array.isArray(r.style)){const l=r.style.length;o=new Array(l);for(let u=0;u<l;++u)o[u]=qf(r.style[u],e)}else o=[qf(r.style,e)];s[i]={filter:a,styles:o}}return function(i){const r=[];let a=!1;for(let o=0;o<n;++o){const l=s[o].filter;if(l(i)&&!(t[o].else&&a)){a=!0;for(const u of s[o].styles){const h=u(i);h&&r.push(h)}}}return r}}function qf(t,e){const n=sl(t,"",e),s=il(t,"",e),i=AR(t,e),r=LR(t,e),a=Tt(t,"z-index",e);if(!n&&!s&&!i&&!r&&!ha(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new ii;return function(l){let u=!0;if(n){const h=n(l);h&&(u=!1),o.setFill(h)}if(s){const h=s(l);h&&(u=!1),o.setStroke(h)}if(i){const h=i(l);h&&(u=!1),o.setText(h)}if(r){const h=r(l);h&&(u=!1),o.setImage(h)}return a&&o.setZIndex(a(l)),u?null:o}}function sl(t,e,n){let s;if(e+"fill-pattern-src"in t)s=zR(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return r=>null;s=Gm(t,e+"fill-color",n)}if(!s)return null;const i=new bl;return function(r){const a=s(r);return a===Fm?null:(i.setColor(a),i)}}function il(t,e,n){const s=Tt(t,e+"stroke-width",n),i=Gm(t,e+"stroke-color",n);if(!s&&!i)return null;const r=rs(t,e+"stroke-line-cap",n),a=rs(t,e+"stroke-line-join",n),o=qb(t,e+"stroke-line-dash",n),l=Tt(t,e+"stroke-line-dash-offset",n),u=Tt(t,e+"stroke-miter-limit",n),h=new xh;return function(d){if(i){const f=i(d);if(f===Fm)return null;h.setColor(f)}if(s&&h.setWidth(s(d)),r){const f=r(d);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");h.setLineCap(f)}if(a){const f=a(d);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(f)}return o&&h.setLineDash(o(d)),l&&h.setLineDashOffset(l(d)),u&&h.setMiterLimit(u(d)),h}}function AR(t,e){const n="text-",s=rs(t,n+"value",e);if(!s)return null;const i=sl(t,n,e),r=sl(t,n+"background-",e),a=il(t,n,e),o=il(t,n+"background-",e),l=rs(t,n+"font",e),u=Tt(t,n+"max-angle",e),h=Tt(t,n+"offset-x",e),d=Tt(t,n+"offset-y",e),f=qr(t,n+"overflow",e),g=rs(t,n+"placement",e),m=Tt(t,n+"repeat",e),p=bh(t,n+"scale",e),_=qr(t,n+"rotate-with-view",e),x=Tt(t,n+"rotation",e),y=rs(t,n+"align",e),v=rs(t,n+"justify",e),b=rs(t,n+"baseline",e),w=qr(t,n+"keep-upright",e),N=qb(t,n+"padding",e),S=wh(t,n+"declutter-mode"),E=new Vm({declutterMode:S});return function(C){if(E.setText(s(C)),i&&E.setFill(i(C)),r&&E.setBackgroundFill(r(C)),a&&E.setStroke(a(C)),o&&E.setBackgroundStroke(o(C)),l&&E.setFont(l(C)),u&&E.setMaxAngle(u(C)),h&&E.setOffsetX(h(C)),d&&E.setOffsetY(d(C)),f&&E.setOverflow(f(C)),g){const k=g(C);if(k!=="point"&&k!=="line")throw new Error("Expected point or line for text-placement");E.setPlacement(k)}if(m&&E.setRepeat(m(C)),p&&E.setScale(p(C)),_&&E.setRotateWithView(_(C)),x&&E.setRotation(x(C)),y){const k=y(C);if(k!=="left"&&k!=="center"&&k!=="right"&&k!=="end"&&k!=="start")throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(k)}if(v){const k=v(C);if(k!=="left"&&k!=="right"&&k!=="center")throw new Error("Expected left, right, or center for text-justify");E.setJustify(k)}if(b){const k=b(C);if(k!=="bottom"&&k!=="top"&&k!=="middle"&&k!=="alphabetic"&&k!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(k)}return N&&E.setPadding(N(C)),w&&E.setKeepUpright(w(C)),E}}function LR(t,e){return"icon-src"in t?DR(t,e):"shape-points"in t?OR(t,e):"circle-radius"in t?FR(t,e):null}function DR(t,e){const n="icon-",s=n+"src",i=Jb(t[s],s),r=wu(t,n+"anchor",e),a=bh(t,n+"scale",e),o=Tt(t,n+"opacity",e),l=wu(t,n+"displacement",e),u=Tt(t,n+"rotation",e),h=qr(t,n+"rotate-with-view",e),d=H0(t,n+"anchor-origin"),f=X0(t,n+"anchor-x-units"),g=X0(t,n+"anchor-y-units"),m=VR(t,n+"color"),p=BR(t,n+"cross-origin"),_=$R(t,n+"offset"),x=H0(t,n+"offset-origin"),y=Su(t,n+"width"),v=Su(t,n+"height"),b=WR(t,n+"size"),w=wh(t,n+"declutter-mode"),N=new Sl({src:i,anchorOrigin:d,anchorXUnits:f,anchorYUnits:g,color:m,crossOrigin:p,offset:_,offsetOrigin:x,height:v,width:y,size:b,declutterMode:w});return function(S){return o&&N.setOpacity(o(S)),l&&N.setDisplacement(l(S)),u&&N.setRotation(u(S)),h&&N.setRotateWithView(h(S)),a&&N.setScale(a(S)),r&&N.setAnchor(r(S)),N}}function OR(t,e){const n="shape-",s=n+"points",i=n+"radius",r=Jf(t[s],s),a=Jf(t[i],i),o=sl(t,n,e),l=il(t,n,e),u=bh(t,n+"scale",e),h=wu(t,n+"displacement",e),d=Tt(t,n+"rotation",e),f=qr(t,n+"rotate-with-view",e),g=Su(t,n+"radius2"),m=Su(t,n+"angle"),p=wh(t,n+"declutter-mode"),_=new _h({points:r,radius:a,radius2:g,angle:m,declutterMode:p});return function(x){return o&&_.setFill(o(x)),l&&_.setStroke(l(x)),h&&_.setDisplacement(h(x)),d&&_.setRotation(d(x)),f&&_.setRotateWithView(f(x)),u&&_.setScale(u(x)),_}}function FR(t,e){const n="circle-",s=sl(t,n,e),i=il(t,n,e),r=Tt(t,n+"radius",e),a=bh(t,n+"scale",e),o=wu(t,n+"displacement",e),l=Tt(t,n+"rotation",e),u=qr(t,n+"rotate-with-view",e),h=wh(t,n+"declutter-mode"),d=new vh({radius:5,declutterMode:h});return function(f){return r&&d.setRadius(r(f)),s&&d.setFill(s(f)),i&&d.setStroke(i(f)),o&&d.setDisplacement(o(f)),l&&d.setRotation(l(f)),u&&d.setRotateWithView(u(f)),a&&d.setScale(a(f)),d}}function Tt(t,e,n){if(!(e in t))return;const s=js(t[e],te,n);return function(i){return Jf(s(i),e)}}function rs(t,e,n){if(!(e in t))return null;const s=js(t[e],kt,n);return function(i){return Jb(s(i),e)}}function zR(t,e,n){const s=rs(t,e+"pattern-src",n),i=G0(t,e+"pattern-offset",n),r=G0(t,e+"pattern-size",n),a=Gm(t,e+"color",n);return function(o){return{src:s(o),offset:i&&i(o),size:r&&r(o),color:a&&a(o)}}}function qr(t,e,n){if(!(e in t))return null;const s=js(t[e],xt,n);return function(i){const r=s(i);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${e}`);return r}}function Gm(t,e,n){if(!(e in t))return null;const s=js(t[e],wn,n);return function(i){return Qb(s(i),e)}}function qb(t,e,n){if(!(e in t))return null;const s=js(t[e],er,n);return function(i){return El(s(i),e)}}function wu(t,e,n){if(!(e in t))return null;const s=js(t[e],er,n);return function(i){const r=El(s(i),e);if(r.length!==2)throw new Error(`Expected two numbers for ${e}`);return r}}function G0(t,e,n){if(!(e in t))return null;const s=js(t[e],er,n);return function(i){return ew(s(i),e)}}function bh(t,e,n){if(!(e in t))return null;const s=js(t[e],er|te,n);return function(i){return UR(s(i),e)}}function Su(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function WR(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Pt(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function BR(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function H0(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function X0(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function $R(t,e){const n=t[e];if(n!==void 0)return El(n,e)}function wh(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function VR(t,e){const n=t[e];if(n!==void 0)return Qb(n,e)}function El(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let s=0;s<n;++s)if(typeof t[s]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function Jb(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Jf(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function Qb(t,e){if(typeof t=="string")return t;const n=El(t,e),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function ew(t,e){const n=El(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function UR(t,e){return typeof t=="number"?t:ew(t,e)}const xn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Y0(t,e,n){return function(s,i,r,a,o){if(!s)return;if(!i&&!e)return s;const l=e?0:r[0]*i,u=e?0:r[1]*i,h=o?o[0]:0,d=o?o[1]:0;let f=t[0]+l/2+h,g=t[2]-l/2+h,m=t[1]+u/2+d,p=t[3]-u/2+d;f>g&&(f=(g+f)/2,g=f),m>p&&(m=(p+m)/2,p=m);let _=Ce(s[0],f,g),x=Ce(s[1],m,p);if(a&&n&&i){const y=30*i;_+=-y*Math.log(1+Math.max(0,f-s[0])/y)+y*Math.log(1+Math.max(0,s[0]-g)/y),x+=-y*Math.log(1+Math.max(0,m-s[1])/y)+y*Math.log(1+Math.max(0,s[1]-p)/y)}return[_,x]}}function GR(t){return t}function tw(t){return Math.pow(t,3)}function wa(t){return 1-tw(1-t)}function HR(t){return 3*t*t-2*t*t*t}function XR(t){return t}function Hm(t,e,n,s){const i=he(e)/n[0],r=dt(e)/n[1];return s?Math.min(t,Math.max(i,r)):Math.min(t,Math.min(i,r))}function Xm(t,e,n){let s=Math.min(t,e);const i=50;return s*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(s=Math.max(s,n),s/=Math.log(1+i*Math.max(0,n/t-1))/i+1),Ce(s,n/2,e*2)}function YR(t,e,n,s){return e=e!==void 0?e:!0,function(i,r,a,o){if(i!==void 0){const l=t[0],u=t[t.length-1],h=n?Hm(l,n,a,s):l;if(o)return e?Xm(i,h,u):Ce(i,u,h);const d=Math.min(h,i),f=Math.floor(vm(t,d,r));return t[f]>h&&f<t.length-1?t[f+1]:t[f]}}}function KR(t,e,n,s,i,r){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(a,o,l,u){if(a!==void 0){const h=i?Hm(e,i,l,r):e;if(u)return s?Xm(a,h,n):Ce(a,n,h);const d=1e-9,f=Math.ceil(Math.log(e/h)/Math.log(t)-d),g=-o*(.5-d)+.5,m=Math.min(h,a),p=Math.floor(Math.log(e/m)/Math.log(t)+g),_=Math.max(f,p),x=e/Math.pow(t,_);return Ce(x,n,h)}}}function K0(t,e,n,s,i){return n=n!==void 0?n:!0,function(r,a,o,l){if(r!==void 0){const u=s?Hm(t,s,o,i):t;return!n||!l?Ce(r,e,u):Xm(r,u,e)}}}function Ym(t){if(t!==void 0)return 0}function Z0(t){if(t!==void 0)return t}function ZR(t){const e=2*Math.PI/t;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function qR(t){const e=ni(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=e?0:n}}const JR=42,Km=256,Ed=0;class zn extends Un{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Mm(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&mb(),e.center&&(e.center=Qn(e.center,this.projection_)),e.extent&&(e.extent=Us(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in xn)delete n[o];this.setProperties(n,!0);const s=eT(e);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=s.minZoom;const i=QR(e),r=s.constraint,a=tT(e);this.constraints_={center:i,resolution:r,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const s=this.getCenterInternal();if(s){const i=e||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),a=r/2*(i[3]-n[3]+n[1]-i[1]),o=r/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([s[0]+a,s[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let i=arguments[s];i.center&&(i=Object.assign({},i),i.center=Qn(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Qn(i.anchor,this.getProjection())),n[s]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){s&&oc(s,!0);return}let r=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const u=[];for(;i<n;++i){const h=arguments[i],d={start:r,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||HR,callback:s};if(h.center&&(d.sourceCenter=a,d.targetCenter=h.center.slice(),a=d.targetCenter),h.zoom!==void 0?(d.sourceResolution=o,d.targetResolution=this.getResolutionForZoom(h.zoom),o=d.targetResolution):h.resolution&&(d.sourceResolution=o,d.targetResolution=h.resolution,o=d.targetResolution),h.rotation!==void 0){d.sourceRotation=l;const f=Kr(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}nT(d)?d.complete=!0:r+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(ut.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ut.ANIMATING]>0}getInteracting(){return this.hints_[ut.INTERACTING]>0}cancelAnimations(){this.setHint(ut.ANIMATING,-this.hints_[ut.ANIMATING]);let e;for(let n=0,s=this.animations_.length;n<s;++n){const i=this.animations_[n];if(i[0].callback&&oc(i[0].callback,!1),!e)for(let r=0,a=i.length;r<a;++r){const o=i[r];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const i=this.animations_[s];let r=!0;for(let a=0,o=i.length;a<o;++a){const l=i[a];if(l.complete)continue;const u=e-l.start;let h=l.duration>0?u/l.duration:1;h>=1?(l.complete=!0,h=1):r=!1;const d=l.easing(h);if(l.sourceCenter){const f=l.sourceCenter[0],g=l.sourceCenter[1],m=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const _=f+d*(m-f),x=g+d*(p-g);this.targetCenter_=[_,x]}if(l.sourceResolution&&l.targetResolution){const f=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=d===1?Kr(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[s]=null,this.setHint(ut.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=i[0].callback;a&&oc(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let s;const i=this.getCenterInternal();return i!==void 0&&(s=[i[0]-n[0],i[1]-n[1]],jm(s,e-this.getRotation()),BN(s,n)),s}calculateCenterZoom(e,n){let s;const i=this.getCenterInternal(),r=this.getResolution();if(i!==void 0&&r!==void 0){const a=n[0]-e*(n[0]-i[0])/r,o=n[1]-e*(n[1]-i[1])/r;s=[a,o]}return s}getViewportSize_(e){const n=this.viewportSize_;if(e){const s=n[0],i=n[1];return[Math.abs(s*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(s*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Yf(e,this.getProjection())}getCenterInternal(){return this.get(xn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return pb(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();de(n,"The view center is not defined");const s=this.getResolution();de(s!==void 0,"The view resolution is not defined");const i=this.getRotation();return de(i!==void 0,"The view rotation is not defined"),Vf(n,s,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(xn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Us(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const s=he(e)/n[0],i=dt(e)/n[1];return Math.max(s,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,i=Math.log(n/s)/Math.log(e);return function(r){return n/Math.pow(e,r*i)}}getRotation(){return this.get(xn.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),s=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(s/i)/n;return function(a){return Math.log(s/a)/n/r}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),s=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const a=this.getViewportSizeMinusPadding_();i=jd(i,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],n,s)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,s,i;if(this.resolutions_){const r=vm(this.resolutions_,e,1);n=r,s=this.resolutions_[r],r==this.resolutions_.length-1?i=2:i=s/this.resolutions_[r+1]}else s=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(s/e)/Math.log(i)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=Ce(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(i,Ce(e-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let s;if(de(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){de(!uh(e),"Cannot fit empty extent provided as `geometry`");const i=Us(e,this.getProjection());s=_0(i)}else if(e.getType()==="Circle"){const i=Us(e.getExtent(),this.getProjection());s=_0(i),s.rotate(this.getRotation(),Ji(i))}else s=e;this.fitInternal(s,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),s=Math.cos(n),i=Math.sin(-n),r=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,u=-1/0,h=-1/0;for(let d=0,f=r.length;d<f;d+=a){const g=r[d]*s-r[d+1]*i,m=r[d]*i+r[d+1]*s;o=Math.min(o,g),l=Math.min(l,m),u=Math.max(u,g),h=Math.max(h,m)}return[o,l,u,h]}fitInternal(e,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[s[0]-i[1]-i[3],s[1]-i[0]-i[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,r?0:1);const u=this.getRotation(),h=Math.sin(u),d=Math.cos(u),f=Ji(o);f[0]+=(i[1]-i[3])/2*l,f[1]+=(i[0]-i[2])/2*l;const g=f[0]*d-f[1]*h,m=f[1]*d+f[0]*h,p=this.getConstrainedCenter([g,m],l),_=n.callback?n.callback:Yo;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),oc(_,!0))}centerOn(e,n,s){this.centerOnInternal(Qn(e,this.getProjection()),n,s)}centerOnInternal(e,n,s){this.setCenterInternal(jd(e,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,s,i){let r;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-s),l=jd(e,i,[o[0]/2+a[3],o[1]/2+a[0]],n,s);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Yf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Qn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const s=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,s);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Qn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const s=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,s);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Qn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const s=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,s),r=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,r,s),o=this.constraints_.center(this.targetCenter_,a,r,s,this.calculateCenterShift(this.targetCenter_,a,i,r));this.get(xn.ROTATION)!==i&&this.set(xn.ROTATION,i),this.get(xn.RESOLUTION)!==a&&(this.set(xn.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(xn.CENTER)||!fu(this.get(xn.CENTER),o))&&this.set(xn.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,s){e=e!==void 0?e:200;const i=n||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,r,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}s=s||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==r||!this.getCenterInternal()||!fu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:o,duration:e,easing:wa,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ut.INTERACTING,1)}endInteraction(e,n,s){s=s&&Qn(s,this.getProjection()),this.endInteractionInternal(e,n,s)}endInteractionInternal(e,n,s){this.getInteracting()&&(this.setHint(ut.INTERACTING,-1),this.resolveConstraints(e,n,s))}getConstrainedCenter(e,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),s)}getConstrainedZoom(e,n){const s=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(e,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,s)}}function oc(t,e){setTimeout(function(){t(e)},0)}function QR(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Y0(t.extent,t.constrainOnlyCenter,n)}const e=Mm(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Y0(n,!1,!1)}return GR}function eT(t){let e,n,s,a=t.minZoom!==void 0?t.minZoom:Ed,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,d=t.showFullExtent!==void 0?t.showFullExtent:!1,f=Mm(t.projection,"EPSG:3857"),g=f.getExtent();let m=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&f.isGlobal()&&(m=!1,p=g),t.resolutions!==void 0){const _=t.resolutions;n=_[a],s=_[o]!==void 0?_[o]:_[_.length-1],t.constrainResolution?e=YR(_,h,!m&&p,d):e=K0(n,s,h,!m&&p,d)}else{const x=(g?Math.max(he(g),dt(g)):360*Nm.degrees/f.getMetersPerUnit())/Km/Math.pow(2,Ed),y=x/Math.pow(2,28-Ed);n=t.maxResolution,n!==void 0?a=0:n=x/Math.pow(l,a),s=t.minResolution,s===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?s=n/Math.pow(l,o):s=x/Math.pow(l,o):s=y),o=a+Math.floor(Math.log(n/s)/Math.log(l)),s=n/Math.pow(l,o-a),t.constrainResolution?e=KR(l,n,s,h,!m&&p,d):e=K0(n,s,h,!m&&p,d)}return{constraint:e,maxResolution:n,minResolution:s,minZoom:a,zoomFactor:l}}function tT(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?qR():n===!1?Z0:typeof n=="number"?ZR(n):Z0}return Ym}function nT(t){return!(t.sourceCenter&&t.targetCenter&&!fu(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function jd(t,e,n,s,i){const r=Math.cos(-i);let a=Math.sin(-i),o=t[0]*r-t[1]*a,l=t[1]*r+t[0]*a;o+=(e[0]/2-n[0])*s,l+=(n[1]-e[1]/2)*s,a=-a;const u=o*r-l*a,h=l*r+o*a;return[u,h]}const ge={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class nw extends Un{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[ge.OPACITY]=e.opacity!==void 0?e.opacity:1,de(typeof n[ge.OPACITY]=="number","Layer opacity must be a number"),n[ge.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ge.Z_INDEX]=e.zIndex,n[ge.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ge.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ge.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ge.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},s=this.getZIndex();return n.opacity=Ce(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ie()}getLayerStatesArray(e){return ie()}getExtent(){return this.get(ge.EXTENT)}getMaxResolution(){return this.get(ge.MAX_RESOLUTION)}getMinResolution(){return this.get(ge.MIN_RESOLUTION)}getMinZoom(){return this.get(ge.MIN_ZOOM)}getMaxZoom(){return this.get(ge.MAX_ZOOM)}getOpacity(){return this.get(ge.OPACITY)}getSourceState(){return ie()}getVisible(){return this.get(ge.VISIBLE)}getZIndex(){return this.get(ge.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ge.EXTENT,e)}setMaxResolution(e){this.set(ge.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ge.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ge.MAX_ZOOM,e)}setMinZoom(e){this.set(ge.MIN_ZOOM,e)}setOpacity(e){de(typeof e=="number","Layer opacity must be a number"),this.set(ge.OPACITY,e)}setVisible(e){this.set(ge.VISIBLE,e)}setZIndex(e){this.set(ge.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Sh extends nw{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ge.SOURCE,this.handleSourcePropertyChange_);const s=e.source?e.source:null;this.setSource(s)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ge.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(je(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=re(e,q.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const s=this.getMapInternal();!e&&s&&(e=s.getView()),e instanceof zn?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let i;if(n.layerStatesArray){if(i=n.layerStatesArray.find(a=>a.layer===this),!i)return!1}else i=this.getLayerState();const r=this.getExtent();return Zm(i,n.viewState)&&(!r||Rt(r,n.extent))}getAttributions(e){var r;if(!this.isVisible(e))return[];const n=(r=this.getSource())==null?void 0:r.getAttributions();if(!n)return[];const s=e instanceof zn?e.getViewStateAndExtent():e;let i=n(s);return Array.isArray(i)||(i=[i]),i}render(e,n){const s=this.getRenderer();return s.prepareFrame(e)?(this.rendered=!0,s.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ge.MAP,e)}getMapInternal(){return this.get(ge.MAP)}setMap(e){this.mapPrecomposeKey_&&(je(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(je(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=re(e,sn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=re(this,q.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,s=this.getLayerState(!1);de(!n.some(i=>i.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(e){this.set(ge.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Zm(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const s=e.zoom;return s>t.minZoom&&s<=t.maxZoom}const q0={RENDER_ORDER:"renderOrder"};class sw extends Sh{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(q0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const s=this.getDeclutter();s in e.declutter||(e.declutter[s]=new Bb(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(q0.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?Vb:e;const n=sT(e);this.styleFunction_=e===null?void 0:zk(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function sT(t){if(t===void 0)return Vb;if(!t)return null;if(typeof t=="function"||t instanceof ii)return t;if(!Array.isArray(t))return U0([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof ii){const i=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!(a instanceof ii))throw new Error("Expected a list of style instances");i[r]=a}return i}if("style"in n){const i=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!("style"in a))throw new Error("Expected a list of rules with a style property");i[r]=a}return IR(i)}return U0(t)}class iT extends sw{constructor(e){super(e)}createRenderer(){return new aR(this)}}const Y={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class qm extends rh{constructor(e,n,s){super(),s=s||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(q.CHANGE)}release(){this.setState(Y.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Y.EMPTY){if(this.state!==Y.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){ie()}getAlpha(e,n){if(!this.transition_)return 1;let s=this.transitionStarts_[e];if(!s)s=n,this.transitionStarts_[e]=s;else if(s===-1)return 1;const i=n-s+1e3/60;return i>=this.transition_?1:tw(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class iw extends qm{constructor(e,n,s,i,r,a){super(e,n,a),this.crossOrigin_=i,this.src_=s,this.key=s,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Y.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Y.ERROR,this.unlistenImage_(),this.image_=rT(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Y.LOADED:this.state=Y.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Y.ERROR&&(this.state=Y.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Y.IDLE&&(this.state=Y.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ik(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function rT(){const t=Xe(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class aT{constructor(e,n,s){this.decay_=e,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>e;)s-=3;const i=this.points_[n+2]-this.points_[s+2];if(i<1e3/60)return!1;const r=this.points_[n]-this.points_[s],a=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class Nr extends Es{constructor(e,n,s){super(e),this.map=n,this.frameState=s!==void 0?s:null}}class As extends Nr{constructor(e,n,s,i,r,a){super(e,n,r),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Me={SINGLECLICK:"singleclick",CLICK:q.CLICK,DBLCLICK:q.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Qf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class oT extends rh{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=re(s,Qf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=re(s,Qf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(q.TOUCHMOVE,this.boundHandleTouchMove_,Tb?{passive:!1}:!1)}emulateClick_(e){let n=new As(Me.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new As(Me.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new As(Me.SINGLECLICK,this.map_,e);this.dispatchEvent(s)},250)}updateActivePointers_(e){const n=e,s=n.pointerId;if(n.type==Me.POINTERUP||n.type==Me.POINTERCANCEL){delete this.trackedTouches_[s];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Me.POINTERDOWN||n.type==Me.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new As(Me.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(je),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new As(Me.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(re(s,Me.POINTERMOVE,this.handlePointerMove_,this),re(s,Me.POINTERUP,this.handlePointerUp_,this),re(this.element_,Me.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(re(this.element_.getRootNode(),Me.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new As(Me.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new As(Me.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(je(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(q.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(je(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(je),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ls={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},lt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Eu=1/0;class lT{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,yl(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,s=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(s);return delete this.queuedElements_[i],s}enqueue(e){de(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Eu?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,s=this.priorities_,i=n.length,r=n[e],a=s[e],o=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),h=u<i&&s[u]<s[l]?u:l;n[e]=n[h],s[e]=s[h],e=h}n[e]=r,s[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const s=this.elements_,i=this.priorities_,r=s[n],a=i[n];for(;n>e;){const o=this.getParentIndex_(n);if(i[o]>a)s[n]=s[o],i[n]=i[o],n=o;else break}s[n]=r,i[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,s=this.priorities_;let i=0;const r=n.length;let a,o,l;for(o=0;o<r;++o)a=n[o],l=e(a),l==Eu?delete this.queuedElements_[this.keyFunction_(a)]:(s[i]=l,n[i++]=a);n.length=i,s.length=i,this.heapify_()}}class cT extends lT{constructor(e,n){super(s=>e.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(q.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,s=n.getState();if(s===Y.LOADED||s===Y.ERROR||s===Y.EMPTY){s!==Y.ERROR&&n.removeEventListener(q.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let s=0;for(;this.tilesLoading_<e&&s<n&&this.getCount()>0;){const i=this.dequeue()[0],r=i.getKey();i.getState()===Y.IDLE&&!(r in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++s,i.load())}}}function uT(t,e,n,s,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Eu;const r=t.viewState.center,a=s[0]-r[0],o=s[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+o*o)/i}class Jm extends Un{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,i=this.listenerKeys.length;s<i;++s)je(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=e,e){const s=this.target_??e.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==Yo&&this.listenerKeys.push(re(e,Ls.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class hT extends Jm{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",s=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"›",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=a):this.collapseLabel_=r;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(q.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+ph+" "+$m+(this.collapsed_&&this.collapsible_?" "+S0:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>s.add(i)):s.add(this.attributions_)),!this.overrideCollapsible_){const i=!n.some(r=>{var a;return((a=r.getSource())==null?void 0:a.getAttributionsCollapsible())===!1});this.setCollapsible(i)}return Array.from(s)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(i=>RN(()=>i))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!pi(n,this.renderedAttributions_)){XC(this.ulElement_);for(let i=0,r=n.length;i<r;++i){const a=document.createElement("li");a.innerHTML=n[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(S0),this.collapsed_?b0(this.collapseLabel_,this.label_):b0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class dT extends Jm{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",s=e.label!==void 0?e.label:"⇧",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(i));const r=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),a.addEventListener(q.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+ph+" "+$m,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(nc)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:wa}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const i="rotate("+s+"rad)";if(this.autoHide_){const r=this.element.classList.contains(nc);!r&&s===0?this.element.classList.add(nc):r&&s!==0&&this.element.classList.remove(nc)}this.label_.style.transform=i}this.rotation_=s}}class fT extends Jm{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",s=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=l,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(q.CLICK,this.handleClick_.bind(this,s),!1);const d=document.createElement("button");d.className=r,d.setAttribute("type","button"),d.title=u,d.appendChild(typeof o=="string"?document.createTextNode(o):o),d.addEventListener(q.CLICK,this.handleClick_.bind(this,-s),!1);const f=n+" "+ph+" "+$m,g=this.element;g.className=f,g.appendChild(h),g.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const s=this.getMap().getView();if(!s)return;const i=s.getZoom();if(i!==void 0){const r=s.getConstrainedZoom(i+e);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:r,duration:this.duration_,easing:wa})):s.setZoom(r)}}}function gT(t){t=t||{};const e=new Wn;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new fT(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new dT(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new hT(t.attributionOptions)),e}const J0={ACTIVE:"active"};let jl=class extends Un{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(J0.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(J0.ACTIVE,e)}setMap(e){this.map_=e}};function mT(t,e,n){const s=t.getCenterInternal();if(s){const i=[s[0]+e[0],s[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:XR,center:t.getConstrainedCenter(i)})}}function Qm(t,e,n,s){const i=t.getZoom();if(i===void 0)return;const r=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:s!==void 0?s:250,easing:wa})}class pT extends jl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Me.DBLCLICK){const s=e.originalEvent,i=e.map,r=e.coordinate,a=s.shiftKey?-this.delta_:this.delta_,o=i.getView();Qm(o,a,r,this.duration_),s.preventDefault(),n=!0}return!n}}function eg(t){const e=arguments;return function(n){let s=!0;for(let i=0,r=e.length;i<r&&(s=s&&e[i](n),!!s);++i);return s}}const xT=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},yT=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),s=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):e.contains(s)},rw=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?yT(t):!0},_T=Xo,aw=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.button==0&&!(GC&&Cb&&e.ctrlKey)},ow=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},vT=function(t){const e=t.originalEvent;return Cb?e.metaKey:e.ctrlKey},bT=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},lw=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Nd=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.pointerType=="mouse"},wT=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.isPrimary&&e.button===0};class Nl extends jl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Me.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Me.POINTERUP){const s=this.handleUpEvent(e);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(e.type==Me.POINTERDOWN){const s=this.handleDownEvent(e);this.handlingDownUpSequence=s,n=this.stopDown(s)}else e.type==Me.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function ep(t){const e=t.length;let n=0,s=0;for(let i=0;i<e;i++)n+=t[i].clientX,s+=t[i].clientY;return{clientX:n/e,clientY:s/e}}class ST extends Nl{constructor(e){super({stopDown:ih}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:eg(ow,wT);this.condition_=e.onFocusOnly?eg(rw,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,i=n.getEventPixel(ep(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map.getView();$N(r,o.getResolution()),jm(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=s.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=s.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);s.animateInternal({center:s.getConstrainedCenter(l),duration:500,easing:wa})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const s=e.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class ET extends Nl{constructor(e){e=e||{},super({stopDown:ih}),this.condition_=e.condition?e.condition:xT,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Nd(e))return;const n=e.map,s=n.getView();if(s.getConstraints().rotation===Ym)return;const i=n.getSize(),r=e.pixel,a=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;s.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return Nd(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Nd(e)&&aw(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class jT extends sh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,s="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+s,i.top=Math.min(e[1],n[1])+s,i.width=Math.abs(n[0]-e[0])+s,i.height=Math.abs(n[1]-e[1])+s}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Jo([i])}getGeometry(){return this.geometry_}}const yr={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ua extends Es{constructor(e,n,s){super(e),this.coordinate=n,this.mapBrowserEvent=s}}class NT extends Nl{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new jT(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??aw,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,s){const i=s[0]-n[0],r=s[1]-n[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ua(yr.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Ua(n?yr.BOXEND:yr.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ua(yr.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ua(yr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ua(yr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class CT extends NT{constructor(e){e=e||{};const n=e.condition?e.condition:bT;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const s=this.getMap().getView();let i=this.getGeometry();if(this.out_){const r=s.rotatedExtentForGeometry(i),a=s.getResolutionForExtentInternal(r),o=s.getResolution()/a;i=i.clone(),i.scale(o*o)}s.fitInternal(i,{duration:this.duration_,easing:wa})}}const wi={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class kT extends jl{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return ow(n)&&lw(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==q.KEYDOWN){const s=e.originalEvent,i=s.key;if(this.condition_(e)&&(i==wi.DOWN||i==wi.LEFT||i==wi.RIGHT||i==wi.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,u=0;i==wi.DOWN?u=-o:i==wi.LEFT?l=-o:i==wi.RIGHT?l=o:u=o;const h=[l,u];jm(h,a.getRotation()),mT(a,h,this.duration_),s.preventDefault(),n=!0}}return!n}}class RT extends jl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!vT(n)&&lw(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==q.KEYDOWN||e.type==q.KEYPRESS){const s=e.originalEvent,i=s.key;if(this.condition_(e)&&(i==="+"||i==="-")){const r=e.map,a=i==="+"?this.delta_:-this.delta_,o=r.getView();Qm(o,a,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class TT extends jl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:_T;this.condition_=e.onFocusOnly?eg(rw,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==q.WHEEL)return!0;const s=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let r;if(e.type==q.WHEEL&&(r=i.deltaY,i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=s.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=a,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let s=-Ce(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Qm(n,s,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class MT extends Nl{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=ih),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const s=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-s.clientY,i.clientX-s.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const a=e.map,o=a.getView();o.getConstraints().rotation!==Ym&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(ep(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class IT extends Nl{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=ih),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const s=this.targetPointers[0],i=this.targetPointers[1],r=s.clientX-i.clientX,a=s.clientY-i.clientY,o=Math.sqrt(r*r+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(ep(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const s=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function PT(t){t=t||{};const e=new Wn,n=new aT(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new ET),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new pT({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new ST({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new MT),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new IT({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new kT),e.push(new RT({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new TT({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new CT({duration:t.zoomDuration})),e}class Fs extends Es{constructor(e,n){super(e),this.layer=n}}const Cd={LAYERS:"layers"};class Sa extends nw{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let s=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Cd.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Wn(s.slice(),{unique:!0}):de(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Wn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(je),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(re(e,Nt.ADD,this.handleLayersAdd_,this),re(e,Nt.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(je);yl(this.listenerKeys_);const n=e.getArray();for(let s=0,i=n.length;s<i;s++){const r=n[s];this.registerLayerListeners_(r),this.dispatchEvent(new Fs("addlayer",r))}this.changed()}registerLayerListeners_(e){const n=[re(e,ua.PROPERTYCHANGE,this.handleLayerChange_,this),re(e,q.CHANGE,this.handleLayerChange_,this)];e instanceof Sa&&n.push(re(e,"addlayer",this.handleLayerGroupAdd_,this),re(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ue(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Fs("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Fs("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Fs("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,s=ue(n);this.listenerKeys_[s].forEach(je),delete this.listenerKeys_[s],this.dispatchEvent(new Fs("removelayer",n)),this.changed()}getLayers(){return this.get(Cd.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const s=n.getArray();for(let i=0,r=s.length;i<r;++i)this.dispatchEvent(new Fs("removelayer",s[i]))}this.set(Cd.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],s=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const i=this.getLayerState();let r=i.zIndex;!e&&i.zIndex===void 0&&(r=0);for(let a=s,o=n.length;a<o;a++){const l=n[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=$i(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}class AT extends sh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ie()}calculateMatrices2D(e){const n=e.viewState,s=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;_s(s,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),xb(i,s)}forEachFeatureAtCoordinate(e,n,s,i,r,a,o,l){let u;const h=n.viewState;function d(b,w,N,S){return r.call(a,w,b?N:null,S)}const f=h.projection,g=cb(e.slice(),f),m=[[0,0]];if(f.canWrapX()&&i){const b=f.getExtent(),w=he(b);m.push([-w,0],[w,0])}const p=n.layerStatesArray,_=p.length,x=[],y=[];for(let b=0;b<m.length;b++)for(let w=_-1;w>=0;--w){const N=p[w],S=N.layer;if(S.hasRenderer()&&Zm(N,h)&&o.call(l,S)){const E=S.getRenderer(),C=S.getSource();if(E&&C){const k=C.getWrapX()?g:e,I=d.bind(null,N.managed);y[0]=k[0]+m[b][0],y[1]=k[1]+m[b][1],u=E.forEachFeatureAtCoordinate(y,n,s,I,x)}if(u)return u}}if(x.length===0)return;const v=1/x.length;return x.forEach((b,w)=>b.distanceSq+=w*v),x.sort((b,w)=>b.distanceSq-w.distanceSq),x.some(b=>u=b.callback(b.feature,b.layer,b.geometry)),u}hasFeatureAtCoordinate(e,n,s,i,r,a){return this.forEachFeatureAtCoordinate(e,n,s,i,Xo,this,r,a)!==void 0}getMap(){return this.map_}renderFrame(e){ie()}scheduleExpireIconCache(e){rn.canExpireCache()&&e.postRenderFunctions.push(LT)}}function LT(t,e){rn.expire()}class DT extends AT{constructor(e){super(e),this.fontChangeListenerKey_=re(es,ua.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=ph+" ol-layers";const s=e.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const s=this.getMap();if(s.hasListener(e)){const i=new Hb(e,void 0,n);s.dispatchEvent(i)}}disposeInternal(){je(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(sn.PRECOMPOSE,e);const n=e.layerStatesArray.sort((o,l)=>o.zIndex-l.zIndex);n.some(o=>o.layer instanceof sw&&o.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const r=[];let a=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const h=u.layer,d=h.getSourceState();if(!Zm(u,i)||d!="ready"&&d!="undefined"){h.unrender();continue}const f=h.render(e,a);f&&(f!==a&&(this.children_.push(f),a=f),r.push(u))}this.declutter(e,r),YC(this.element_,this.children_),this.dispatchRenderEvent(sn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let s=n.length-1;s>=0;--s){const i=n[s],r=i.layer;r.getDeclutter()&&r.renderDeclutter(e,i)}n.forEach(s=>s.layer.renderDeferred(e))}}}function cw(t){if(t instanceof Sh){t.setMapInternal(null);return}t instanceof Sa&&t.getLayers().forEach(cw)}function uw(t,e){if(t instanceof Sh){t.setMapInternal(e);return}if(t instanceof Sa){const n=t.getLayers().getArray();for(let s=0,i=n.length;s<i;++s)uw(n[s],e)}}let OT=class extends Un{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=FT(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:HC,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=jn(),this.pixelToCoordinateTransform_=jn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||gT(),this.interactions=n.interactions||PT({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new cT(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(lt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(lt.VIEW,this.handleViewChanged_),this.addChangeListener(lt.SIZE,this.handleSizeChanged_),this.addChangeListener(lt.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;e.view&&!(e.view instanceof zn)&&e.view.then(function(i){s.setView(new zn(i))}),this.controls.addEventListener(Nt.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Nt.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Nt.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Nt.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Nt.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Nt.REMOVE,i=>{const r=i.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){uw(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,s){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);s=s!==void 0?s:{};const r=s.hitTolerance!==void 0?s.hitTolerance:0,a=s.layerFilter!==void 0?s.layerFilter:Xo,o=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,o,n,null,a,null)}getFeaturesAtPixel(e,n){const s=[];return this.forEachFeatureAtPixel(e,function(i){s.push(i)},n),s}getAllLayers(){const e=[];function n(s){s.forEach(function(i){i instanceof Sa?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Xo,r=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,r,a,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const s=this.viewport_.getBoundingClientRect(),i=this.getSize(),r=s.width/i[0],a=s.height/i[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-s.left)/r,(o.clientY-s.top)/a]}getTarget(){return this.get(lt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Yf(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?qe(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(lt.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Wn){n.setLayers(e);return}const s=n.getLayers();s.clear(),s.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=e.length;n<s;++n){const i=e[n];if(!i.visible)continue;const r=i.layer.getRenderer();if(r&&!r.ready)return!0;const a=i.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Qn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?qe(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(lt.SIZE)}getView(){return this.get(lt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,s,i){return uT(this.frameState_,e,n,s,i)}handleBrowserEvent(e,n){n=n||e.type;const s=new As(n,this,e);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,s=n.type;if(s===Qf.POINTERDOWN||s===q.WHEEL||s===q.KEYDOWN){const i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=n.target,o=r instanceof ShadowRoot?r.host===a?r.host.ownerDocument:r:r===i?i.documentElement:r;if(this.overlayContainerStopEvent_.contains(a)||!o.contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,r=i;if(e){const a=e.viewHints;if(a[ut.ANIMATING]||a[ut.INTERACTING]){const o=Date.now()-e.time>8;i=o?0:8,r=o?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(sn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(sn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Nr(Ls.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Nr(Ls.LOADSTART,this,e))));const s=this.postRenderFunctions_;if(e)for(let i=0,r=s.length;i<r;++i)s[i](this,e);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,i=this.targetChangeHandlerKeys_.length;s<i;++s)je(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(q.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(q.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new DT(this)),this.mapBrowserEventHandler_=new oT(this,this.moveTolerance_);for(const r in Me)this.mapBrowserEventHandler_.addEventListener(Me[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(q.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(q.WHEEL,this.boundHandleBrowserEvent_,Tb?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const r=n.getRootNode();s=r instanceof ShadowRoot?r.host:n}this.targetChangeHandlerKeys_=[re(s,q.KEYDOWN,this.handleBrowserEvent,this),re(s,q.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(je(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(je(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=re(e,ua.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=re(e,q.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(je),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Fs("addlayer",e)),this.layerGroupPropertyListenerKeys_=[re(e,ua.PROPERTYCHANGE,this.render,this),re(e,q.CHANGE,this.render,this),re(e,"addlayer",this.handleLayerAdd_,this),re(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=e.length;n<s;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){cw(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),s=this.getView(),i=this.frameState_;let r=null;if(n!==void 0&&P0(n)&&s&&s.isDef()){const a=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=s.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Vf(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:ue(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=Vf(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i&&(!this.previousExtent_||!uh(this.previousExtent_)&&!Ko(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Nr(Ls.MOVESTART,this,i)),this.previousExtent_=ah(this.previousExtent_)),this.previousExtent_&&!r.viewHints[ut.ANIMATING]&&!r.viewHints[ut.INTERACTING]&&!Ko(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Nr(Ls.MOVEEND,this,r)),Qv(r.extent,this.previousExtent_))),this.dispatchEvent(new Nr(Ls.POSTRENDER,this,r)),this.renderComplete_=(this.hasListener(Ls.LOADSTART)||this.hasListener(Ls.LOADEND)||this.hasListener(sn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Fs("removelayer",n)),this.set(lt.LAYERGROUP,e)}setSize(e){this.set(lt.SIZE,e)}setTarget(e){this.set(lt.TARGET,e)}setView(e){if(!e||e instanceof zn){this.set(lt.VIEW,e);return}this.set(lt.VIEW,new zn);const n=this;e.then(function(s){n.setView(new zn(s))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),r=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(r)&&!isNaN(a)&&(n=[Math.max(0,r),Math.max(0,a)],!P0(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&lb("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!pi(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function FT(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},s=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Sa({layers:t.layers});n[lt.LAYERGROUP]=s,n[lt.TARGET]=t.target,n[lt.VIEW]=t.view instanceof zn?t.view:new zn;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Wn(t.controls.slice()):(de(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let r;t.interactions!==void 0&&(Array.isArray(t.interactions)?r=new Wn(t.interactions.slice()):(de(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new Wn(t.overlays.slice()):(de(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new Wn,{controls:i,interactions:r,keyboardEventTarget:e,overlays:a,values:n}}class tp{constructor(e,n,s,i){this.minX=e,this.maxX=n,this.minY=s,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function _r(t,e,n,s,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=s,i):new tp(t,e,n,s)}function tg(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const zT=new Error("disposed"),WT=[256,256];class Q0 extends qm{constructor(e){const n=Y.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=tg(this.data_);return e?[e.width,e.height]:WT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Y.IDLE&&this.state!==Y.ERROR)return;this.state=Y.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=Y.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=Y.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(zT),this.controller_=null),super.disposeInternal()}}let kd;const Jr=[];function ey(t,e,n,s,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(s,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,s)+1,Math.max(n,i)),t.restore()}function Rd(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function BT(){if(kd===void 0){const t=Xe(6,6,Jr);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",ey(t,4,5,4,0),ey(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;kd=Rd(e,0)||Rd(e,4)||Rd(e,8),mh(t),Jr.push(t.canvas)}return kd}function ty(t,e,n,s){const i=Pm(n,e,t);let r=u0(e,s,n);const a=e.getMetersPerUnit();a!==void 0&&(r*=a);const o=t.getMetersPerUnit();o!==void 0&&(r/=o);const l=t.getExtent();if(!l||da(l,i)){const u=u0(t,r,i)/r;isFinite(u)&&u>0&&(r/=u)}return r}function $T(t,e,n,s){const i=Ji(n);let r=ty(t,e,i,s);return(!isFinite(r)||r<=0)&&ib(n,function(a){return r=ty(t,e,a,s),isFinite(r)&&r>0}),r}function VT(t,e,n,s,i,r,a,o,l,u,h,d,f,g){const m=Xe(Math.round(n*t),Math.round(n*e),Jr);if(d||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(n,n);function p(w){return Math.round(w*n)/n}m.globalCompositeOperation="lighter";const _=hn();l.forEach(function(w,N,S){PN(_,w.extent)});let x;const y=n/s,v=(d?1:1+Math.pow(2,-24))/y;{if(x=Xe(Math.round(he(_)*y),Math.round(dt(_)*y),Jr),d||(x.imageSmoothingEnabled=!1),i&&g){const w=(i[0]-_[0])*y,N=-(i[3]-_[3])*y,S=he(i)*y,E=dt(i)*y;x.rect(w,N,S,E),x.clip()}l.forEach(function(w,N,S){if(w.image.width>0&&w.image.height>0){if(w.clipExtent){x.save();const A=(w.clipExtent[0]-_[0])*y,D=-(w.clipExtent[3]-_[3])*y,O=he(w.clipExtent)*y,W=dt(w.clipExtent)*y;x.rect(d?A:Math.round(A),d?D:Math.round(D),d?O:Math.round(A+O)-Math.round(A),d?W:Math.round(D+W)-Math.round(D)),x.clip()}const E=(w.extent[0]-_[0])*y,C=-(w.extent[3]-_[3])*y,k=he(w.extent)*y,I=dt(w.extent)*y;x.drawImage(w.image,u,u,w.image.width-2*u,w.image.height-2*u,d?E:Math.round(E),d?C:Math.round(C),d?k:Math.round(E+k)-Math.round(E),d?I:Math.round(C+I)-Math.round(C)),w.clipExtent&&x.restore()}})}const b=ar(a);return o.getTriangles().forEach(function(w,N,S){const E=w.source,C=w.target;let k=E[0][0],I=E[0][1],A=E[1][0],D=E[1][1],O=E[2][0],W=E[2][1];const z=p((C[0][0]-b[0])/r),B=p(-(C[0][1]-b[1])/r),R=p((C[1][0]-b[0])/r),P=p(-(C[1][1]-b[1])/r),F=p((C[2][0]-b[0])/r),H=p(-(C[2][1]-b[1])/r),M=k,xe=I;k=0,I=0,A-=M,D-=xe,O-=M,W-=xe;const ae=[[A,D,0,0,R-z],[O,W,0,0,F-z],[0,0,A,D,P-B],[0,0,O,W,H-B]],oe=zN(ae);if(!oe)return;if(m.save(),m.beginPath(),BT()||!d){m.moveTo(R,P);const Pe=4,Rn=z-R,mn=B-P;for(let zt=0;zt<Pe;zt++)m.lineTo(R+p((zt+1)*Rn/Pe),P+p(zt*mn/(Pe-1))),zt!=Pe-1&&m.lineTo(R+p((zt+1)*Rn/Pe),P+p((zt+1)*mn/(Pe-1)));m.lineTo(F,H)}else m.moveTo(R,P),m.lineTo(z,B),m.lineTo(F,H);m.clip(),m.transform(oe[0],oe[2],oe[1],oe[3],z,B),m.translate(_[0]-M,_[3]-xe);let fe;if(x)fe=x.canvas,m.scale(v,-v);else{const Pe=l[0],Rn=Pe.extent;fe=Pe.image,m.scale(he(Rn)/fe.width,-dt(Rn)/fe.height)}m.drawImage(fe,0,0),m.restore()}),x&&(mh(x),Jr.push(x.canvas)),h&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,o.getTriangles().forEach(function(w,N,S){const E=w.target,C=(E[0][0]-b[0])/r,k=-(E[0][1]-b[1])/r,I=(E[1][0]-b[0])/r,A=-(E[1][1]-b[1])/r,D=(E[2][0]-b[0])/r,O=-(E[2][1]-b[1])/r;m.beginPath(),m.moveTo(I,A),m.lineTo(C,k),m.lineTo(D,O),m.closePath(),m.stroke()}),m.restore()),m.canvas}const UT=10,ny=.25;class GT{constructor(e,n,s,i,r,a,o){this.sourceProj_=e,this.targetProj_=n;let l={};const u=o?pC(v=>qe(o,Pm(v,this.targetProj_,this.sourceProj_))):pu(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){const b=v[0]+"/"+v[1];return l[b]||(l[b]=u(v)),l[b]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&he(i)>=he(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?he(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?he(this.targetProj_.getExtent()):null;const h=ar(s),d=ch(s),f=lh(s),g=oh(s),m=this.transformInv_(h),p=this.transformInv_(d),_=this.transformInv_(f),x=this.transformInv_(g),y=UT+(a?Math.max(0,Math.ceil(Math.log2($f(s)/(a*a*256*256)))):0);if(this.addQuad_(h,d,f,g,m,p,_,x,y),this.wrapsXInSource_){let v=1/0;this.triangles_.forEach(function(b,w,N){v=Math.min(v,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(b=>{if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-v>this.sourceWorldWidth_/2){const w=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];w[0][0]-v>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-v>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-v>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);const N=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-N<this.sourceWorldWidth_/2&&(b.source=w)}})}l={}}addTriangle_(e,n,s,i,r,a){this.triangles_.push({source:[i,r,a],target:[e,n,s]})}addQuad_(e,n,s,i,r,a,o,l,u){const h=e0([r,a,o,l]),d=this.sourceWorldWidth_?he(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&d>.5&&d<1;let m=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const _=e0([e,n,s,i]);m=he(_)/this.targetWorldWidth_>ny||m}!g&&this.sourceProj_.isGlobal()&&d&&(m=d>ny||m)}if(!m&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!Rt(h,this.maxSourceExtent_))return;let p=0;if(!m&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)m=!0;else if(p=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(u>0){if(!m){const _=[(e[0]+s[0])/2,(e[1]+s[1])/2],x=this.transformInv_(_);let y;g?y=(Kr(r[0],f)+Kr(o[0],f))/2-Kr(x[0],f):y=(r[0]+o[0])/2-x[0];const v=(r[1]+o[1])/2-x[1];m=y*y+v*v>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-s[0])<=Math.abs(e[1]-s[1])){const _=[(n[0]+s[0])/2,(n[1]+s[1])/2],x=this.transformInv_(_),y=[(i[0]+e[0])/2,(i[1]+e[1])/2],v=this.transformInv_(y);this.addQuad_(e,n,_,y,r,a,x,v,u-1),this.addQuad_(y,_,s,i,v,x,o,l,u-1)}else{const _=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(_),y=[(s[0]+i[0])/2,(s[1]+i[1])/2],v=this.transformInv_(y);this.addQuad_(e,_,y,i,r,x,v,l,u-1),this.addQuad_(_,n,s,y,x,a,o,v,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(e,s,i,r,o,l),p&14||this.addTriangle_(e,s,n,r,o,a),p&&(p&13||this.addTriangle_(n,i,e,a,l,r),p&7||this.addTriangle_(n,i,s,a,l,o))}calculateSourceExtent(){const e=hn();return this.triangles_.forEach(function(n,s,i){const r=n.source;So(e,r[0]),So(e,r[1]),So(e,r[2])}),e}getTriangles(){return this.triangles_}}const HT=.5;class hw extends qm{constructor(e,n,s,i,r,a,o,l,u,h,d,f){super(r,Y.IDLE,f),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=a||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=i.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const _=m?$i(g,m):g;if($f(_)===0){this.state=Y.EMPTY;return}const x=e.getExtent();x&&(p?p=$i(p,x):p=x);const y=i.getResolution(this.wrappedTileCoord_[0]),v=$T(e,s,_,y);if(!isFinite(v)||v<=0){this.state=Y.EMPTY;return}const b=h!==void 0?h:HT;if(this.triangulation_=new GT(e,s,_,p,v*b,y),this.triangulation_.getTriangles().length===0){this.state=Y.EMPTY;return}this.sourceZ_=n.getZForResolution(v);let w=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(w[1]=Ce(w[1],p[1],p[3]),w[3]=Ce(w[3],p[1],p[3])):w=$i(w,p)),!$f(w))this.state=Y.EMPTY;else{let N=0,S=0;e.canWrapX()&&(N=he(x),S=Math.floor((w[0]-x[0])/N)),ob(w.slice(),e,!0).forEach(C=>{const k=n.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let I=k.minX;I<=k.maxX;I++)for(let A=k.minY;A<=k.maxY;A++){const D=u(this.sourceZ_,I,A,o);if(D){const O=S*N;this.sourceTiles_.push({tile:D,offset:O})}}++S}),this.sourceTiles_.length===0&&(this.state=Y.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var i;const s=n.tile;if(s&&s.getState()==Y.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const a=(i=this.clipExtent_)==null?void 0:i.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),e.push({extent:r,clipExtent:a,image:s.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Y.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),i=typeof s=="number"?s:s[0],r=typeof s=="number"?s:s[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=VT(i,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Y.LOADED}this.changed()}load(){if(this.state==Y.IDLE){this.state=Y.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==Y.IDLE||s==Y.LOADING){e++;const i=re(n,q.CHANGE,r=>{const a=n.getState();(a==Y.LOADED||a==Y.ERROR||a==Y.EMPTY)&&(je(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,i){n.getState()==Y.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(je),this.sourcesListenerKeys_=null}release(){this.canvas_&&(mh(this.canvas_.getContext("2d")),Jr.push(this.canvas_),this.canvas_=null),super.release()}}class XT{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof sh&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const s=this.entries_[e];return de(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(e){const n=this.entries_[e];return de(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)e[n++]=s.key_;return e}getValues(){const e=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)e[n++]=s.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){de(!(e in this.entries_),"Tried to set a value for a key that is used already");const s={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[e]=s,++this.count_}setSize(e){this.highWaterMark=e}}function ju(t,e,n,s){return s!==void 0?(s[0]=t,s[1]=e,s[2]=n,s):[t,e,n]}function YT(t,e,n){return t+"/"+e+"/"+n}function KT(t){return ZT(t[0],t[1],t[2])}function ZT(t,e,n){return(e<<t)+n}function qT(t,e){const n=t[0],s=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return r?r.containsXY(s,i):!0}function Td(t,e,n,s){return`${t},${YT(e,n,s)}`}function Md(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const s=t[n],i=s.has(e);return i||s.add(e),!i}function JT(t,e,n){const s=t[n];return s?s.delete(e):!1}function sy(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=$i(e,Us(n.extent,t.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const i=s.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=$i(e,i))}return e}class QT extends Xb{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=hn(),this.tempTileRange_=new tp(0,0,0,0),this.tempTileCoord_=ju(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new XT(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,s,i){const r=this.tileCache_,o=this.getLayer().getSource(),l=Td(o.getKey(),e,n,s);let u;if(r.containsKey(l))u=r.get(l);else{if(u=o.getTile(e,n,s,i.pixelRatio,i.viewState.projection),!u)return null;r.set(l,u)}return u}getTile(e,n,s,i){const r=this.getOrCreateTile(e,n,s,i);return r||null}getData(e){const n=this.frameState;if(!n)return null;const s=this.getLayer(),i=qe(n.pixelToCoordinateTransform,e.slice()),r=s.getExtent();if(r&&!da(r,i))return null;const a=n.viewState,o=s.getRenderSource(),l=o.getTileGridForProjection(a.projection),u=o.getTilePixelRatio(n.pixelRatio);for(let h=l.getZForResolution(a.resolution);h>=l.getMinZoom();--h){const d=l.getTileCoordForCoordAndZ(i,h),f=this.getTile(h,d[1],d[2],n);if(!f||f.getState()!==Y.LOADED)continue;const g=l.getOrigin(h),m=Pt(l.getTileSize(h)),p=l.getResolution(h);let _;if(f instanceof iw||f instanceof hw)_=f.getImage();else if(f instanceof Q0){if(_=tg(f.getData()),!_)continue}else continue;const x=Math.floor(u*((i[0]-g[0])/p-d[1]*m[0])),y=Math.floor(u*((g[1]-i[1])/p-d[2]*m[1])),v=Math.round(u*o.getGutterForProjection(a.projection));return this.getImageData(_,x+v,y+v)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(e,n,s,i,r){const a=e.viewState,o=this.getLayer(),l=o.getRenderSource(),u=l.getTileGridForProjection(a.projection),h=ue(l);h in e.wantedTiles||(e.wantedTiles[h]={});const d=e.wantedTiles[h],f=o.getMapInternal(),g=Math.max(s-r,u.getMinZoom(),u.getZForResolution(Math.min(o.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),m=a.rotation,p=m?rb(a.center,a.resolution,m,e.size):void 0;for(let _=s;_>=g;--_){const x=u.getTileRangeForExtentAndZ(n,_,this.tempTileRange_),y=u.getResolution(_);for(let v=x.minX;v<=x.maxX;++v)for(let b=x.minY;b<=x.maxY;++b){if(m&&!u.tileCoordIntersectsViewport([_,v,b],p))continue;const w=this.getTile(_,v,b,e);if(!w||!Md(i,w,_))continue;const S=w.getKey();if(d[S]=!0,w.getState()===Y.IDLE&&!e.tileQueue.isKeyQueued(S)){const E=ju(_,v,b,this.tempTileCoord_);e.tileQueue.enqueue([w,h,u.getTileCoordCenter(E),y])}}}}findStaleTile_(e,n){const s=this.tileCache_,i=e[0],r=e[1],a=e[2],o=this.getStaleKeys();for(let l=0;l<o.length;++l){const u=Td(o[l],i,r,a);if(s.containsKey(u)){const h=s.peek(u);if(h.getState()===Y.LOADED)return h.endTransition(ue(this)),Md(n,h,i),!0}}return!1}findAltTiles_(e,n,s,i){const r=e.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!r)return!1;let a=!0;const o=this.tileCache_,u=this.getLayer().getRenderSource().getKey();for(let h=r.minX;h<=r.maxX;++h)for(let d=r.minY;d<=r.maxY;++d){const f=Td(u,s,h,d);let g=!1;if(o.containsKey(f)){const m=o.peek(f);m.getState()===Y.LOADED&&(Md(i,m,s),g=!0)}g||(a=!1)}return a}renderFrame(e,n){this.renderComplete=!0;const s=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,a=i.resolution,o=i.center,l=e.pixelRatio,u=this.getLayer(),h=u.getSource(),d=h.getTileGridForProjection(r),f=d.getZForResolution(a,h.zDirection),g=d.getResolution(f),m=h.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let p=e.extent;const _=h.getTilePixelRatio(l);this.prepareContainer(e,n);const x=this.context.canvas.width,y=this.context.canvas.height,v=s.extent&&Us(s.extent);v&&(p=$i(p,Us(s.extent)));const b=g*x/2/_,w=g*y/2/_,N=[o[0]-b,o[1]-w,o[0]+b,o[1]+w],S={};this.renderedTiles.length=0;const E=u.getPreload();if(e.nextExtent){const R=d.getZForResolution(i.nextResolution,h.zDirection),P=sy(e,e.nextExtent);this.enqueueTiles(e,P,R,S,E)}const C=sy(e,p);if(this.enqueueTiles(e,C,f,S,0),E>0&&setTimeout(()=>{this.enqueueTiles(e,C,f-1,S,E-1)},0),!(f in S))return this.container;const k=ue(this),I=e.time;for(const R of S[f]){const P=R.getState();if(P===Y.EMPTY)continue;const F=R.tileCoord;if(P===Y.LOADED&&R.getAlpha(k,I)===1){R.endTransition(k);continue}if(P!==Y.ERROR&&(this.renderComplete=!1),this.findStaleTile_(F,S)){JT(S,R,f),e.animate=!0;continue}if(this.findAltTiles_(d,F,f+1,S))continue;const xe=d.getMinZoom();for(let ae=f-1;ae>=xe&&!this.findAltTiles_(d,F,ae,S);--ae);}const A=g/a*l/_,D=this.getRenderContext(e);_s(this.tempTransform,x/2,y/2,A,A,0,-x/2,-y/2),s.extent&&this.clipUnrotated(D,e,v),h.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e);const O=Object.keys(S).map(Number);O.sort(hs);let W;const z=[],B=[];for(let R=O.length-1;R>=0;--R){const P=O[R],F=h.getTilePixelSize(P,l,r),M=d.getResolution(P)/g,xe=F[0]*M*A,ae=F[1]*M*A,oe=d.getTileCoordForCoordAndZ(ar(N),P),fe=d.getTileCoordExtent(oe),Pe=qe(this.tempTransform,[_*(fe[0]-N[0])/g,_*(N[3]-fe[3])/g]),Rn=_*h.getGutterForProjection(r);for(const mn of S[P]){if(mn.getState()!==Y.LOADED)continue;const zt=mn.tileCoord,Ml=oe[1]-zt[1],kh=Math.round(Pe[0]-(Ml-1)*xe),ka=oe[2]-zt[2],yi=Math.round(Pe[1]-(ka-1)*ae),Xt=Math.round(Pe[0]-Ml*xe),Tn=Math.round(Pe[1]-ka*ae),cr=kh-Xt,ur=yi-Tn,Ra=O.length===1;let _i=!1;W=[Xt,Tn,Xt+cr,Tn,Xt+cr,Tn+ur,Xt,Tn+ur];for(let hr=0,dr=z.length;hr<dr;++hr)if(!Ra&&P<B[hr]){const Ye=z[hr];Rt([Xt,Tn,Xt+cr,Tn+ur],[Ye[0],Ye[3],Ye[4],Ye[7]])&&(_i||(D.save(),_i=!0),D.beginPath(),D.moveTo(W[0],W[1]),D.lineTo(W[2],W[3]),D.lineTo(W[4],W[5]),D.lineTo(W[6],W[7]),D.moveTo(Ye[6],Ye[7]),D.lineTo(Ye[4],Ye[5]),D.lineTo(Ye[2],Ye[3]),D.lineTo(Ye[0],Ye[1]),D.clip())}z.push(W),B.push(P),this.drawTile(mn,e,Xt,Tn,cr,ur,Rn,Ra),_i&&D.restore(),this.renderedTiles.unshift(mn),this.updateUsedTiles(e.usedTiles,h,mn)}}if(this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!Ko(this.renderedExtent_,N),this.renderedExtent_=N,this.renderedPixelRatio=l,this.postRender(this.context,e),s.extent&&D.restore(),D.imageSmoothingEnabled=!0,this.renderComplete){const R=(P,F)=>{const H=ue(h),M=F.wantedTiles[H],xe=M?Object.keys(M).length:0;this.updateCacheSize(xe),this.tileCache_.expireCache()};e.postRenderFunctions.push(R)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,s,i,r,a,o,l){let u;if(e instanceof Q0){if(u=tg(e.getData()),!u)throw new Error("Rendering array data is not yet supported")}else u=this.getTileImage(e);if(!u)return;const h=this.getRenderContext(n),d=ue(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?e.getAlpha(d,n.time):1),m=g!==h.globalAlpha;m&&(h.save(),h.globalAlpha=g),h.drawImage(u,o,o,u.width-2*o,u.height-2*o,s,i,r,a),m&&h.restore(),g!==f.opacity?n.animate=!0:l&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,s){const i=ue(n);i in e||(e[i]={}),e[i][s.getKey()]=!0}}const lc={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class eM extends Sh{constructor(e){e=e||{};const n=Object.assign({},e),s=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(lc.PRELOAD)}setPreload(e){this.set(lc.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(lc.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(lc.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class tM extends eM{constructor(e){super(e)}createRenderer(){return new QT(this,{cacheSize:this.getCacheSize()})}}const vr=[0,0,0],Ms=5;class dw{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,de(kN(this.resolutions_,(i,r)=>r-i),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,de(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=e.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ar(s)),de(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,de(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Km,de(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,r)=>{const a=new tp(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(s){const o=this.getTileRangeForExtentAndZ(s,r);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):s&&this.calculateTileRanges_(s)}forEachTileCoord(e,n,s){const i=this.getTileRangeForExtentAndZ(e,n);for(let r=i.minX,a=i.maxX;r<=a;++r)for(let o=i.minY,l=i.maxY;o<=l;++o)s([n,r,o])}forEachTileCoordParentTileRange(e,n,s,i){let r,a,o,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),r=_r(a,a,o,o,s)):r=this.getTileRangeForExtentAndZ(l,u,s),n(u,r))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,s){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,a=e[2]*2;return _r(r,r+1,a,a+1,n)}const i=this.getTileCoordExtent(e,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],r=e[1],a=e[2];if(n===i)return _r(r,a,r,a,s);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),u=Math.floor(r*l),h=Math.floor(a*l);if(n<i)return _r(u,u,h,h,s);const d=Math.floor(l*(r+1))-1,f=Math.floor(l*(a+1))-1;return _r(u,d,h,f,s)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,s)}getTileRangeForExtentAndZ(e,n,s){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,vr);const i=vr[1],r=vr[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,vr);const a=vr[1],o=vr[2];return _r(i,a,r,o,s)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),s=this.getResolution(e[0]),i=Pt(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*s,n[1]-(e[2]+.5)*i[1]*s]}getTileCoordExtent(e,n){const s=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Pt(this.getTileSize(e[0]),this.tmpSize_),a=s[0]+e[1]*r[0]*i,o=s[1]-(e[2]+1)*r[1]*i,l=a+r[0]*i,u=o+r[1]*i;return hi(a,o,l,u,n)}getTileCoordForCoordAndResolution(e,n,s){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,s)}getTileCoordForXYAndResolution_(e,n,s,i,r){const a=this.getZForResolution(s),o=s/this.getResolution(a),l=this.getOrigin(a),u=Pt(this.getTileSize(a),this.tmpSize_);let h=o*(e-l[0])/s/u[0],d=o*(l[1]-n)/s/u[1];return i?(h=Ql(h,Ms)-1,d=Ql(d,Ms)-1):(h=Jl(h,Ms),d=Jl(d,Ms)),ju(a,h,d,r)}getTileCoordForXYAndZ_(e,n,s,i,r){const a=this.getOrigin(s),o=this.getResolution(s),l=Pt(this.getTileSize(s),this.tmpSize_);let u=(e-a[0])/o/l[0],h=(a[1]-n)/o/l[1];return i?(u=Ql(u,Ms)-1,h=Ql(h,Ms)-1):(u=Jl(u,Ms),h=Jl(h,Ms)),ju(s,u,h,r)}getTileCoordForCoordAndZ(e,n,s){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,s)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const s=vm(this.resolutions_,e,n||0);return Ce(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return Nb(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,s=new Array(n);for(let i=this.minZoom;i<n;++i)s[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=s}}function fw(t){let e=t.getDefaultTileGrid();return e||(e=rM(t),t.setDefaultTileGrid(e)),e}function nM(t,e,n){const s=e[0],i=t.getTileCoordCenter(e),r=np(n);if(!da(r,i)){const a=he(r),o=Math.ceil((r[0]-i[0])/a);return i[0]+=a*o,t.getTileCoordForCoordAndZ(i,s)}return e}function sM(t,e,n,s){s=s!==void 0?s:"top-left";const i=gw(t,e,n);return new dw({extent:t,origin:LN(t,s),resolutions:i,tileSize:n})}function iM(t){const e=t||{},n=e.extent||Ft("EPSG:3857").getExtent(),s={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:gw(n,e.maxZoom,e.tileSize,e.maxResolution)};return new dw(s)}function gw(t,e,n,s){e=e!==void 0?e:JR,n=Pt(n!==void 0?n:Km);const i=dt(t),r=he(t);s=s>0?s:Math.max(r/n[0],i/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=s/Math.pow(2,l);return o}function rM(t,e,n,s){const i=np(t);return sM(i,e,n,s)}function np(t){t=Ft(t);let e=t.getExtent();if(!e){const n=180*Nm.degrees/t.getMetersPerUnit();e=hi(-n,-n,n,n)}return e}const aM=/\{z\}/g,oM=/\{x\}/g,lM=/\{y\}/g,cM=/\{-y\}/g;function uM(t,e,n,s,i){return t.replace(aM,e.toString()).replace(oM,n.toString()).replace(lM,s.toString()).replace(cM,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-s).toString()})}function hM(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const s=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let r;for(r=s;r<=i;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const s=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=s;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}function dM(t,e){return function(n,s,i){if(!n)return;let r;const a=n[0];if(e){const o=e.getFullTileRange(a);o&&(r=o.getHeight()-1)}return uM(t,a,n[1],n[2],r)}}function fM(t,e){const n=t.length,s=new Array(n);for(let i=0;i<n;++i)s[i]=dM(t[i],e);return gM(s)}function gM(t){return t.length===1?t[0]:function(e,n,s){if(!e)return;const i=KT(e),r=Kr(i,t.length);return t[r](e,n,s)}}class mM extends $b{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Pt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||ue(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,s,i,r){return ie()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:fw(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,s){const i=this.getTileGridForProjection(s),r=this.getTilePixelRatio(n),a=Pt(i.getTileSize(e),this.tmpSize);return r==1?a:Fk(a,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const s=n!==void 0?n:this.getProjection(),i=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(e=nM(i,e,s)),qT(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class pM extends Es{constructor(e,n){super(e),this.tile=n}}const Id={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class sp extends mM{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===sp.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,s=ue(n),i=n.getState();let r;i==Y.LOADING?(this.tileLoadingKeys_[s]=!0,r=Id.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],r=i==Y.ERROR?Id.TILELOADERROR:i==Y.LOADED?Id.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new pM(r,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=hM(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(fM(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,s){}}class xM extends sp{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:yM,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:iw,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!ld(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ld(n,e)))return this.tileGrid;const s=ue(e);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=fw(e)),this.tileGridForProjection[s]}createTile_(e,n,s,i,r,a){const o=[e,n,s],l=this.getTileCoordForTileUrlFunction(o,r),u=l?this.tileUrlFunction(l,i,r):void 0,h=new this.tileClass(o,u!==void 0?Y.IDLE:Y.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=a,h.addEventListener(q.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,s,i,r){const a=this.getProjection();if(!a||!r||ld(a,r))return this.getTileInternal(e,n,s,i,a||r);const o=[e,n,s],l=this.getKey(),u=this.getTileGridForProjection(a),h=this.getTileGridForProjection(r),d=this.getTileCoordForTileUrlFunction(o,r),f=new hw(a,u,r,h,o,d,this.getTilePixelRatio(i),this.getGutter(),(g,m,p,_)=>this.getTileInternal(g,m,p,_,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,s,i,r){const a=this.getKey();return this.createTile_(e,n,s,i,r,a)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const s=Ft(e);if(s){const i=ue(s);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}}function yM(t,e){t.getImage().src=e}class _M extends xM{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",s=e.tileGrid!==void 0?e.tileGrid:iM({extent:np(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const vM='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class bM extends _M{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[vM];const s=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:s,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}const wM=()=>{const t=j.useRef(null),e=[{name:"Caracas",lonLat:[-66.9036,10.4806]},{name:"Maracay",lonLat:[-67.5918,10.2469]},{name:"Valencia",lonLat:[-67.9982,10.1626]},{name:"Guárico",lonLat:[-66.6167,8.6667]},{name:"Barinas",lonLat:[-70.2075,8.6226]}];return j.useEffect(()=>{if(!t.current)return;const n=new OT({target:t.current,layers:[new tM({source:new bM})],view:new zn({center:d0([-66.9036,9.4806]),zoom:6})}),s=new Ok,i=new iT({source:s});n.addLayer(i);const r=new ii({image:new Sl({src:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",scale:1})});return e.forEach(a=>{const o=new wm({geometry:new gh(d0(a.lonLat)),name:a.name});o.setStyle(r),s.addFeature(o)}),()=>n.setTarget(void 0)},[]),c.jsx("div",{ref:t,style:{width:"100%",height:"500px",border:"1px solid #ccc"}})},SM=({onLoginClick:t,onRegisterClick:e,onRestaurantLoginClick:n})=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(SN,{onLoginClick:t,onRegisterClick:e,onRestaurantLoginClick:n}),c.jsxs("main",{className:"",children:[c.jsx(Oj,{}),c.jsx(wM,{}),c.jsx(mN,{}),c.jsx(pN,{}),c.jsx(xN,{}),c.jsx(_N,{}),c.jsx(yN,{})]}),c.jsx(vN,{}),c.jsx(EN,{onLoginClick:t,onRegisterClick:e,onRestaurantLoginClick:n})]});let EM={data:""},jM=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||EM,NM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,CM=/\/\*[^]*?\*\/|  +/g,iy=/\n+/g,Bs=(t,e)=>{let n="",s="",i="";for(let r in t){let a=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+a+";":s+=r[1]=="f"?Bs(a,r):r+"{"+Bs(a,r[1]=="k"?"":e)+"}":typeof a=="object"?s+=Bs(a,e?e.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bs.p?Bs.p(r,a):r+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+s},qn={},mw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mw(t[n]);return e}return t},kM=(t,e,n,s,i)=>{let r=mw(t),a=qn[r]||(qn[r]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(r));if(!qn[a]){let l=r!==t?t:(u=>{let h,d,f=[{}];for(;h=NM.exec(u.replace(CM,""));)h[4]?f.shift():h[3]?(d=h[3].replace(iy," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(iy," ").trim();return f[0]})(t);qn[a]=Bs(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&qn.g?qn.g:null;return n&&(qn.g=qn[a]),((l,u,h,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(qn[a],e,s,o),a},RM=(t,e,n)=>t.reduce((s,i,r)=>{let a=e[r];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Bs(o,""):o===!1?"":o}return s+i+(a??"")},"");function Eh(t){let e=this||{},n=t.call?t(e.p):t;return kM(n.unshift?n.raw?RM(n,[].slice.call(arguments,1),e.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):n,jM(e.target),e.g,e.o,e.k)}let pw,ng,sg;Eh.bind({g:1});let vs=Eh.bind({k:1});function TM(t,e,n,s){Bs.p=e,pw=t,ng=n,sg=s}function xi(t,e){let n=this||{};return function(){let s=arguments;function i(r,a){let o=Object.assign({},r),l=o.className||i.className;n.p=Object.assign({theme:ng&&ng()},o),n.o=/ *go\d+/.test(l),o.className=Eh.apply(n,s)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),sg&&u[0]&&sg(o),pw(u,o)}return i}}var MM=t=>typeof t=="function",Nu=(t,e)=>MM(t)?t(e):t,IM=(()=>{let t=0;return()=>(++t).toString()})(),xw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),PM=20,yw=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,PM)};case 1:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return yw(t,{type:t.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},Lc=[],Fi={toasts:[],pausedAt:void 0},lr=t=>{Fi=yw(Fi,t),Lc.forEach(e=>{e(Fi)})},AM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LM=(t={})=>{let[e,n]=j.useState(Fi),s=j.useRef(Fi);j.useEffect(()=>(s.current!==Fi&&n(Fi),Lc.push(n),()=>{let r=Lc.indexOf(n);r>-1&&Lc.splice(r,1)}),[]);let i=e.toasts.map(r=>{var a,o,l;return{...t,...t[r.type],...r,removeDelay:r.removeDelay||((a=t[r.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:r.duration||((o=t[r.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||AM[r.type],style:{...t.style,...(l=t[r.type])==null?void 0:l.style,...r.style}}});return{...e,toasts:i}},DM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||IM()}),Cl=t=>(e,n)=>{let s=DM(e,t,n);return lr({type:2,toast:s}),s.id},yt=(t,e)=>Cl("blank")(t,e);yt.error=Cl("error");yt.success=Cl("success");yt.loading=Cl("loading");yt.custom=Cl("custom");yt.dismiss=t=>{lr({type:3,toastId:t})};yt.remove=t=>lr({type:4,toastId:t});yt.promise=(t,e,n)=>{let s=yt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let r=e.success?Nu(e.success,i):void 0;return r?yt.success(r,{id:s,...n,...n==null?void 0:n.success}):yt.dismiss(s),i}).catch(i=>{let r=e.error?Nu(e.error,i):void 0;r?yt.error(r,{id:s,...n,...n==null?void 0:n.error}):yt.dismiss(s)}),t};var OM=(t,e)=>{lr({type:1,toast:{id:t,height:e}})},FM=()=>{lr({type:5,time:Date.now()})},jo=new Map,zM=1e3,WM=(t,e=zM)=>{if(jo.has(t))return;let n=setTimeout(()=>{jo.delete(t),lr({type:4,toastId:t})},e);jo.set(t,n)},BM=t=>{let{toasts:e,pausedAt:n}=LM(t);j.useEffect(()=>{if(n)return;let r=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(r-o.createdAt);if(l<0){o.visible&&yt.dismiss(o.id);return}return setTimeout(()=>yt.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,n]);let s=j.useCallback(()=>{n&&lr({type:6,time:Date.now()})},[n]),i=j.useCallback((r,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:u}=a||{},h=e.filter(g=>(g.position||u)===(r.position||u)&&g.height),d=h.findIndex(g=>g.id===r.id),f=h.filter((g,m)=>m<d&&g.visible).length;return h.filter(g=>g.visible).slice(...o?[f+1]:[0,f]).reduce((g,m)=>g+(m.height||0)+l,0)},[e]);return j.useEffect(()=>{e.forEach(r=>{if(r.dismissed)WM(r.id,r.removeDelay);else{let a=jo.get(r.id);a&&(clearTimeout(a),jo.delete(r.id))}})},[e]),{toasts:e,handlers:{updateHeight:OM,startPause:FM,endPause:s,calculateOffset:i}}},$M=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,VM=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UM=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GM=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$M} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${VM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HM=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XM=xi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${HM} 1s linear infinite;
`,YM=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KM=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZM=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qM=xi("div")`
  position: absolute;
`,JM=xi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QM=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eI=xi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tI=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?j.createElement(eI,null,e):e:n==="blank"?null:j.createElement(JM,null,j.createElement(XM,{...s}),n!=="loading"&&j.createElement(qM,null,n==="error"?j.createElement(GM,{...s}):j.createElement(ZM,{...s})))},nI=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,iI="0%{opacity:0;} 100%{opacity:1;}",rI="0%{opacity:1;} 100%{opacity:0;}",aI=xi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,oI=xi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lI=(t,e)=>{let n=t.includes("top")?1:-1,[s,i]=xw()?[iI,rI]:[nI(n),sI(n)];return{animation:e?`${vs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cI=j.memo(({toast:t,position:e,style:n,children:s})=>{let i=t.height?lI(t.position||e||"top-center",t.visible):{opacity:0},r=j.createElement(tI,{toast:t}),a=j.createElement(oI,{...t.ariaProps},Nu(t.message,t));return j.createElement(aI,{className:t.className,style:{...i,...n,...t.style}},typeof s=="function"?s({icon:r,message:a}):j.createElement(j.Fragment,null,r,a))});TM(j.createElement);var uI=({id:t,className:e,style:n,onHeightUpdate:s,children:i})=>{let r=j.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;s(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return j.createElement("div",{ref:r,className:e,style:n},i)},hI=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...i}},dI=Eh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cc=16,fI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:i,containerStyle:r,containerClassName:a})=>{let{toasts:o,handlers:l}=BM(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:cc,left:cc,right:cc,bottom:cc,pointerEvents:"none",...r},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(u=>{let h=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),f=hI(h,d);return j.createElement(uI,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?dI:"",style:f},u.type==="custom"?Nu(u.message,u):i?i(u):j.createElement(cI,{toast:u,position:h}))}))},G=yt;class ip{async fetchWithAuth(e,n={}){const s=`${V.api.baseUrl}${e}`;let i={...n,headers:{"Content-Type":"application/json",...n.headers}};n.body&&(i.body=n.body),console.log(i);const r=await fetch(s,i);if(!r.ok){const a=await r.json();throw new Error(a.message||"An error occurred")}return r}async login(e,n){return await(await this.fetchWithAuth(V.api.endpoints.auth.login,{method:"POST",body:JSON.stringify({email:e,password:n})})).json()}async register(e,n,s){await this.fetchWithAuth(V.api.endpoints.auth.register,{method:"POST",body:JSON.stringify({email:e,password:n,name:s})})}async restaurantLogin(e){return await(await this.fetchWithAuth(V.api.endpoints.auth.restaurantLogin,{method:"POST",body:JSON.stringify({code:e})})).json()}async adminLogin(e,n){return await(await this.fetchWithAuth(V.api.endpoints.auth.adminLogin,{method:"POST",body:JSON.stringify({username:e,password:n})})).json()}async logout(){await this.fetchWithAuth(V.api.endpoints.auth.logout,{method:"POST"})}}const gI=({redirect:t,isOpen:e,onClose:n,onRegisterClick:s})=>{const[i,r]=j.useState({email:"",password:""}),[a,o]=j.useState({}),[l,u]=_e.useState(!1),h=t,d=new ip,f=async g=>{g.preventDefault(),u(!0);try{const m=await d.login(i.email,i.password);if(m.error||m.type==="error"){if(typeof m.message=="string")return G.error(m.message);m.message.forEach(p=>{G.error(p)});return}G.success(m.message),window.localStorage.setItem("comesaludable_token",m.token),window.localStorage.setItem("comesaludable_data",JSON.stringify(m.data)),h("/profile"),window.location.reload(),n()}finally{u(!1)}};return e?c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:n,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Welcome Back!"}),c.jsxs("form",{onSubmit:f,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Email"})}),c.jsx("input",{type:"email",onChange:g=>r({...i,email:g.target.value}),placeholder:"your@email.com",className:`input input-bordered ${a.email?"input-error":""}`}),a.email&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:a.email.message})})]}),c.jsxs("div",{className:"form-control mt-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Password"})}),c.jsx("input",{type:"password",onChange:g=>r({...i,password:g.target.value}),placeholder:"Enter your password",className:`input input-bordered ${a.password?"input-error":""}`}),a.password&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:a.password.message})})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-primary ${l?"loading":""}`,disabled:l||i.email.length<5||i.password.length<5,children:l?"Verifying...":"Access Dashboard"})})]}),c.jsx("div",{className:"divider",children:"OR"}),c.jsxs("p",{className:"text-center",children:["Don't have an account?"," ",c.jsx("button",{onClick:s,className:"link link-primary",children:"Sign up"})]})]})}):null};class rp{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(console.log(s),!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.user.create,{method:"POST"},JSON.stringify(e))).json()}catch(n){return console.log(n),{body:{},message:"Error al crear usuario",error:!0}}}async delete(e){try{return await(await this.fetchWith(V.api.endpoints.user.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar usuario",error:!0}}}async filter({skip:e,take:n,param:s}){try{return await(await this.fetchWith(`${V.api.endpoints.user.paginate}/?skip=${e}&take=${n}&param=${s}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar usuario",error:!0}}}async find(e){try{return await(await this.fetchWith(V.api.endpoints.user.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar usuario",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.user.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar usuario",error:!1}}}async updatePassword({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.user.updatePassword(n),{method:"PUT"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al actualizar contraseña.",error:!0}}}}const mI=({isOpen:t,onClose:e,onLoginClick:n})=>{const[s,i]=_e.useState({name:"",email:"",password:"",lastname:"",acceptEmail:"si",age:0}),[r,a]=_e.useState(!1),o=async u=>{u.preventDefault(),a(!0);try{const d=await new rp().create({data:s});return d.error?G.error("Error al crear la cuenta"):(console.log(d),n(),G.success(`Cuenta ${d.body.email} creada`))}finally{a(!1)}},l=u=>{i(h=>({...h,[u.target.name]:u.target.value}))};return t?c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Create an Account"}),c.jsxs("form",{onSubmit:o,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nomber"})}),c.jsx("input",{type:"text",name:"name",placeholder:"John Doe",className:"input input-bordered",value:s.name,onChange:l,required:!0})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Apellido"})}),c.jsx("input",{type:"text",name:"lastname",placeholder:"John Doe",className:"input input-bordered",value:s.lastname,onChange:l,required:!0})]}),c.jsxs("div",{className:"form-control mt-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Correo"})}),c.jsx("input",{type:"email",name:"email",placeholder:"tucorreo@dominio.com",className:"input input-bordered",value:s.email,onChange:l,required:!0})]}),c.jsxs("div",{className:"form-control mt-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Edad"})}),c.jsx("input",{type:"number",name:"age",placeholder:"tucorreo@dominio.com",className:"input input-bordered",value:s.age,onChange:l,required:!0})]}),c.jsxs("div",{className:"form-control mt-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Password"})}),c.jsx("input",{type:"password",name:"password",placeholder:"Create a password",className:"input input-bordered",value:s.password,onChange:l,required:!0})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-primary ${r?"loading":""}`,disabled:r,children:r?"Creating account...":"Sign Up"})})]}),c.jsx("div",{className:"divider",children:"OR"}),c.jsxs("p",{className:"text-center",children:["Already have an account?"," ",c.jsx("button",{onClick:n,className:"link link-primary",children:"Sign in"})]})]})}):null},pI=({redirect:t,isOpen:e,onClose:n})=>{const[s,i]=_e.useState(""),[r,a]=_e.useState(!1),o=t,l=new ip,u=async h=>{h.preventDefault(),a(!0);try{const d=await l.restaurantLogin(s);if(d.error||d.type==="error"){if(typeof d.message=="string")return G.error(d.message);d.message.forEach(f=>{G.error(f)});return}G.success(d.message),window.localStorage.setItem("comesaludable_token",d.token),window.localStorage.setItem("comesaludable_data",JSON.stringify(d.data)),o("/restaurant"),window.location.reload(),n()}finally{a(!1)}};return e?c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:n,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(zv,{className:"w-16 h-16 text-primary mx-auto mb-4"}),c.jsx("h3",{className:"font-bold text-lg",children:"Restaurant Login"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Enter your 7-digit restaurant code"})]}),c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("input",{type:"text",placeholder:"1234567",className:"input input-bordered text-center text-2xl tracking-wider",value:s,onChange:h=>i(h.target.value.slice(0,7)),pattern:"[0-9]{7}",maxLength:7,required:!0}),c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt",children:"Don't have a code? Contact our support team"})})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-primary ${r?"loading":""}`,disabled:r||s.length!==7,children:r?"Verifying...":"Access Dashboard"})})]})]})}):null},kn=()=>{const{user:t,logout:e}=it(),n=Ht();return c.jsxs("div",{className:"navbar bg-primary shadow-lg",children:[c.jsx("div",{className:"flex-1",children:c.jsx("a",{href:"/admin",className:"btn btn-ghost text-xl",children:"Panel"})}),c.jsx("div",{className:"flex-none gap-4",children:c.jsxs("div",{className:"dropdown dropdown-end",children:[c.jsxs("div",{tabIndex:0,role:"button",className:"btn btn-ghost gap-2",children:[c.jsx("div",{className:"avatar placeholder",children:c.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:c.jsx("span",{children:t.name.toUpperCase()})})}),c.jsx("span",{children:t==null?void 0:t.username})]}),c.jsxs("ul",{tabIndex:0,className:"mt-3 z-10 p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52 text-neutral",children:[c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/environment"),className:"text-",children:[c.jsx(xj,{size:16}),"Ambientes"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/category"),className:"text-",children:[c.jsx(dj,{size:16}),"Categorías"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/type"),className:"text-",children:[c.jsx(hj,{size:16}),"Tipos"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/restaurants"),className:"text-",children:[c.jsx(ci,{size:16}),"Restaurantes"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/menus"),className:"text-",children:[c.jsx(eh,{size:16}),"Menús"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/analytic"),className:"text-",children:[c.jsx(Pv,{size:16}),"Análisis"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/admin/report"),className:"text-",children:[c.jsx(Av,{size:16}),"Reporte"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/"),className:"text-",children:[c.jsx(th,{size:16}),"Inicio"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:e,className:"text-error",children:[c.jsx(pl,{size:16}),"Logout"]})})]})]})})]})};class _w{async fetchWith(e,n={}){const s=`${V.api.baseUrl}/dashboard/${e}`;let i={...n,headers:{token:`${window.localStorage.getItem("comesaludable_token")}`,...n.headers}};n.body&&(i.body=n.body);const r=await fetch(s,i);if(!r.ok){const a=await r.json();throw new Error(a.message||"An error occurred")}return r}async card(){return await(await this.fetchWith("card",{method:"GET"})).json()}async tables(){return await(await this.fetchWith("tables",{method:"GET"})).json()}async graphic(){}async staticthics(){return[{label:"",path:""}]}}const xI=({customClass:t,ico:e})=>{if(e==="user")return c.jsx(Et,{className:t});if(e==="apple")return c.jsx(ci,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t});if(e==="user")return c.jsx(Et,{className:t})},yI=({card:t})=>c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg",children:[c.jsx("div",{className:"stat-figure text-success",children:c.jsx(xI,{ico:t.ico,customClass:"w-8 h-8"})}),c.jsx("div",{className:"stat-title",children:t.label}),c.jsx("div",{className:"stat-value text-success",children:t.count}),t.content&&c.jsx("div",{className:"stat-desc",children:t.content})]}),_I=()=>{const t=new _w,[e,n]=j.useState([]);return j.useEffect(()=>{(async()=>{const s=await t.card();n(s)})()},[]),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(s=>c.jsx(yI,{card:s}))})},Pd=t=>t;function Is({label:t,extract:e}){if(!e)return c.jsx(c.Fragment,{children:t});if(e.type==="keywords")return t.map(n=>c.jsx("span",{className:"badge badge-sm bg-gray-400 text-white dark:badge-neutral select-none mr-1",children:n}));if(e.type==="date"){const n=new Date(t);return c.jsx("span",{children:`${Pd(n.getDate())} - ${Pd(n.getMonth()+1)} - ${Pd(n.getFullYear())}`})}else{if(e.type==="number")return c.jsx("span",{className:"font-mono",style:{letterSpacing:1},children:t});if(e.type==="tag"){let n="badge-ghost text-white";return t==="APROBADO"?n="badge-primary text-base":t==="RECHAZADO"?n="badge-warning":t==="CANCELADO"?n="badge-neutral":t==="Sí"?n="badge-primary":t==="NO"&&(n="badge-warning"),c.jsx("span",{className:`badge badge-sm text-xs font-bold py-2 ${n} select-none`,children:t})}else if(e.type==="username")return c.jsxs("span",{className:"",children:["@",t]})}return c.jsx(c.Fragment,{children:t})}function vt({extractBy:t,item:e}){const n=typeof t=="string";let s=[];n?s=t.split("."):s=t.stractBy.split(".");try{return s.length==1?c.jsx(Is,{item:e,label:e[s[0]],extract:n?void 0:t}):s.length==2?c.jsx(Is,{item:e,label:e[s[0]][s[1]],extract:n?void 0:t}):s.length==3?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]],extract:n?void 0:t}):s.length==4?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]][s[3]],extract:n?void 0:t}):s.length==5?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]][s[3]][s[4]],extract:n?void 0:t}):s.length==6?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]][s[3]][s[4]][s[5]],extract:n?void 0:t}):s.length==7?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]][s[3]][s[4]][s[5]][s[6]],extract:n?void 0:t}):s.length==8?c.jsx(Is,{item:e,label:e[s[0]][s[1]][s[2]][s[3]][s[4]][s[5]][s[6]][s[7]],extract:n?void 0:t}):""}catch{return""}}const vI=({table:t})=>c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg overflow-x-auto",children:[c.jsx("h2",{className:"font-black text-gray-600 text-xl",children:t.label}),c.jsx("table",{className:"table table-sm",children:c.jsxs("thead",{children:[c.jsx("tr",{children:t.header.map(e=>c.jsx("th",{children:e}))}),t.body.map(e=>c.jsx("tr",{children:t.extract.map(n=>c.jsx("td",{children:vt({extractBy:n,item:e})}))}))]})})]}),bI=()=>{const t=new _w,[e,n]=j.useState([]);return j.useEffect(()=>{(async()=>{const s=await t.tables();console.log(s),n(s)})()},[]),c.jsx("div",{className:"mt-3 grid grid-cols-1 lg:grid-cols-2 gap-6",children:e&&e.map(s=>c.jsx(vI,{table:s}))})},wI=()=>{const{user:t}=it();return console.log(t),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(kn,{}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsx(_I,{}),c.jsx(bI,{})]})]})},Gn=()=>{const{user:t,logout:e}=it(),n=Ht();return c.jsxs("div",{className:"navbar bg-primary shadow-lg",children:[c.jsx("div",{className:"flex-1",children:c.jsx("a",{href:"/restaurant",className:"btn btn-ghost text-xl",children:"Restaurante"})}),c.jsx("div",{className:"flex-none gap-4",children:c.jsxs("div",{className:"dropdown dropdown-end",children:[c.jsxs("div",{tabIndex:0,role:"button",className:"btn btn-ghost gap-2",children:[c.jsx("div",{className:"avatar placeholder",children:c.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:c.jsx("span",{children:t.name.toUpperCase()})})}),c.jsx("span",{children:t==null?void 0:t.username})]}),c.jsxs("ul",{tabIndex:0,className:"mt-3 z-10 p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52 text-neutral",children:[c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/restaurant/menus"),className:"text-",children:[c.jsx(ci,{size:16}),"Menús"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/restaurant/analytic"),className:"text-",children:[c.jsx(Pv,{size:16}),"Análisis"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/restaurant/report"),className:"text-",children:[c.jsx(Av,{size:16}),"Reporte"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/restaurant/profile"),className:"text-",children:[c.jsx(hu,{size:16}),"Perfil"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>n[1]("/"),className:"text-",children:[c.jsx(th,{size:16}),"Inicio"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:e,className:"text-error",children:[c.jsx(pl,{size:16}),"Logout"]})})]})]})})]})},SI=()=>c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(Gn,{}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg",children:[c.jsx("div",{className:"stat-figure text-primary",children:c.jsx(Aj,{className:"w-8 h-8"})}),c.jsx("div",{className:"stat-title",children:"Total Users"}),c.jsx("div",{className:"stat-value text-primary",children:"1,200"}),c.jsx("div",{className:"stat-desc",children:"↗︎ 14% (30 days)"})]}),c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg",children:[c.jsx("div",{className:"stat-figure text-secondary",children:c.jsx(zv,{className:"w-8 h-8"})}),c.jsx("div",{className:"stat-title",children:"Restaurants"}),c.jsx("div",{className:"stat-value text-secondary",children:"150"}),c.jsx("div",{className:"stat-desc",children:"↗︎ 8% (30 days)"})]}),c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg",children:[c.jsx("div",{className:"stat-figure text-accent",children:c.jsx(Lj,{className:"w-8 h-8"})}),c.jsx("div",{className:"stat-title",children:"Active Menus"}),c.jsx("div",{className:"stat-value text-accent",children:"450"}),c.jsx("div",{className:"stat-desc",children:"↗︎ 12% (30 days)"})]}),c.jsxs("div",{className:"stat bg-white shadow-lg rounded-lg",children:[c.jsx("div",{className:"stat-figure text-success",children:c.jsx(Zi,{className:"w-8 h-8"})}),c.jsx("div",{className:"stat-title",children:"Avg. Rating"}),c.jsx("div",{className:"stat-value text-success",children:"4.8"}),c.jsx("div",{className:"stat-desc",children:"↗︎ 0.2 (30 days)"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:"Recent Registrations"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table table-zebra",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"User"}),c.jsx("th",{children:"Type"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Status"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:"John Doe"}),c.jsx("td",{children:"Customer"}),c.jsx("td",{children:"2024-03-15"}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-success",children:"Active"})})]}),c.jsxs("tr",{children:[c.jsx("td",{children:"Green Garden"}),c.jsx("td",{children:"Restaurant"}),c.jsx("td",{children:"2024-03-14"}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-warning",children:"Pending"})})]}),c.jsxs("tr",{children:[c.jsx("td",{children:"Dr. Smith"}),c.jsx("td",{children:"Nutritionist"}),c.jsx("td",{children:"2024-03-13"}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-success",children:"Active"})})]})]})]})})]})}),c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:"Recent Reviews"}),c.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>c.jsxs("div",{className:"flex items-start gap-4 p-4 bg-base-100 rounded-lg",children:[c.jsx("div",{className:"avatar placeholder",children:c.jsx("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-12",children:c.jsx("span",{children:"JD"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium",children:"John Doe"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zi,{className:"w-4 h-4 text-yellow-400 fill-current"}),c.jsx("span",{className:"ml-1",children:"4.5"})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Great healthy options and excellent service!"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[c.jsx("span",{children:"Green Garden Restaurant"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"2 days ago"})]})]})]},t))})]})})]})]})]}),EI=()=>{const{user:t}=it(),[e,n]=j.useState({name:t.name,lastname:t.lastname,age:Number(t.age),email:t.email}),s=r=>{n({...e,[r.target.name]:r.target.value})},i=r=>{r.preventDefault();const a=new rp;(async()=>{const o=await a.update({data:e,id:t.id});if(console.log(o),o.error)return typeof o.message=="string"?G.error(o.message):o.message.forEach(u=>G.error(u));const l={...t,name:e.name,lastname:e.lastname,age:e.age,email:e.email};return window.localStorage.setItem("comesaludable_data",JSON.stringify(l)),typeof o.message=="string"?G.success(o.message):o.message.forEach(u=>G.success(u))})()};return c.jsx("form",{onSubmit:i,className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"card-title",children:"Personal Information"}),c.jsxs("button",{className:"btn btn-primary btn-sm",children:[c.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(hu,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,type:"text",value:e.name,name:"name",className:"input input-bordered w-full focus:outline-none"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Apellido"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(hu,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,type:"text",value:e.lastname,name:"lastname",className:"input input-bordered w-full focus:outline-none"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Email"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(Ov,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,type:"email",value:e.email,name:"email",className:"input input-bordered w-full focus:outline-none"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Edad"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(Ki,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,type:"number",value:e.age,name:"age",className:"input input-bordered w-full focus:outline-none"})]})]})]})]})})},jI=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title mb-4",children:"Recent Activity"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:c.jsx(Zi,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Reviewed Green Garden Restaurant"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Great healthy options and excellent service!"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs("div",{className:"rating rating-sm",children:[c.jsx("input",{type:"radio",className:"mask mask-star-2 bg-orange-400",checked:!0,readOnly:!0}),c.jsx("input",{type:"radio",className:"mask mask-star-2 bg-orange-400",checked:!0,readOnly:!0}),c.jsx("input",{type:"radio",className:"mask mask-star-2 bg-orange-400",checked:!0,readOnly:!0}),c.jsx("input",{type:"radio",className:"mask mask-star-2 bg-orange-400",checked:!0,readOnly:!0}),c.jsx("input",{type:"radio",className:"mask mask-star-2 bg-orange-400",checked:!0,readOnly:!0})]}),c.jsx("span",{className:"text-sm text-gray-500",children:"2 days ago"})]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"bg-accent/10 p-2 rounded-lg",children:c.jsx(eh,{className:"w-6 h-6 text-accent"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Added to Favorites"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Mediterranean Bowl from Vital Kitchen"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"1 week ago"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"bg-secondary/10 p-2 rounded-lg",children:c.jsx(Ho,{className:"w-6 h-6 text-secondary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Visited Restaurant"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Pure & Fresh"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"2 weeks ago"})]})]})]})]})}),c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title mb-4",children:"Favorite Restaurants"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(t=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-base-100 rounded-lg",children:[c.jsx("div",{className:"avatar",children:c.jsx("div",{className:"w-16 h-16 rounded-lg",children:c.jsx("img",{src:"https://images.pexels.com/photos/67468/pexels-photo-67468.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Restaurant"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Green Garden"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Organic • Vegan Options"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Zi,{className:"w-4 h-4 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm",children:"4.8"})]})]})]},t))})]})})]}),NI=({})=>{const{user:t}=it(),[e,n]=j.useState({oldPassword:"",password:""}),s=r=>{n({...e,[r.target.name]:r.target.value})},i=r=>{r.preventDefault(),(async()=>{const o=await new rp().updatePassword({data:e,id:t.id});return o.error?typeof o.message=="string"?G.error(o.message):o.message.forEach(l=>G.error(l)):typeof o.message=="string"?G.success(o.message):o.message.forEach(l=>G.success(l))})()};return c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"card-title mb-6",children:"Actualizar Contraseña"}),c.jsxs("form",{onSubmit:i,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Contraseña Actual"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(Hx,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,name:"oldPassword",type:"password",className:"input input-bordered w-full focus:outline-none"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Contraseña Nueva"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"border border-gray-500 text-gray-500 px-4 py-3 rounded-full",children:c.jsx(Hx,{className:"w-5 h-5"})}),c.jsx("input",{onChange:s,name:"password",type:"password",className:"input input-bordered w-full focus:outline-none"})]})]}),c.jsx("button",{type:"submit",className:"btn btn-success btn-sm",children:"Actualizar"})]})]})},CI=()=>c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title mb-6",children:"Configuraciones"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-base-100 rounde d-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive emails about your activity"})]}),c.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-base-100 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Permanently delete your account"})]}),c.jsx("button",{className:"btn btn-error btn-sm",children:"Delete"})]}),c.jsx("div",{className:"divider-horizontal"}),c.jsx(NI,{})]})]})}),kI=({})=>{const{user:t}=it();return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"avatar placeholder",children:c.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-24",children:c.jsx("span",{className:"text-3xl",children:t==null?void 0:t.name.charAt(0).toUpperCase()})})}),c.jsx("button",{className:"btn btn-circle btn-sm absolute bottom-0 right-0",children:c.jsx(gm,{className:"w-4 h-4"})})]})},Ad=({change:t,tab:e,label:n,ico:s})=>c.jsxs("button",{className:`btn btn-block mb-2 ${e==="profile"?"btn-primary":"btn-ghost"}`,onClick:t,children:[s,n]}),RI=()=>{const{user:t,logout:e}=it(),[n,s]=j.useState("profile"),i=Ht();return c.jsxs("div",{className:"min-h-screen",children:[c.jsxs("div",{className:"navbar bg-primary shadow-lg",children:[c.jsx("div",{className:"flex-1",children:c.jsx("a",{className:"btn btn-ghost text-xl",children:"Mi Perfíl"})}),c.jsxs("div",{className:"flex-none",children:[c.jsxs("button",{onClick:()=>i[1]("/"),className:"btn btn-ghost gap-2",children:[c.jsx(th,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:block",children:"Inicio"})]}),c.jsxs("button",{onClick:e,className:"btn btn-ghost gap-2",children:[c.jsx(pl,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:block",children:"Logout"})]})]})]}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body items-center text-center",children:[c.jsx(kI,{}),c.jsxs("h2",{className:"card-title mt-4",children:[t==null?void 0:t.name," ",t==null?void 0:t.lastname]}),c.jsx("div",{className:"divider"}),c.jsxs("div",{className:"w-full",children:[c.jsx(Ad,{ico:c.jsx(Et,{}),change:()=>s("profile"),label:"Perfil",tab:"profile"}),c.jsx(Ad,{ico:c.jsx(fj,{}),change:()=>s("activity"),label:"Actividad",tab:"activity"}),c.jsx(Ad,{ico:c.jsx(Tj,{}),change:()=>s("settings"),label:"Configuraciones",tab:"settings"})]})]})})}),c.jsxs("div",{className:"lg:col-span-3",children:[n==="profile"&&c.jsx(EI,{}),n==="activity"&&c.jsx(jI,{}),n==="settings"&&c.jsx(CI,{})]})]})})]})},TI=()=>{const[t,e]=j.useState(""),[n,s]=j.useState("restaurants"),[i,r]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState(!1),h=async()=>{u(!0);try{}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-base-100",children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Search Healthy Options"}),c.jsxs("div",{className:"tabs tabs-boxed mb-6",children:[c.jsx("button",{className:`tab ${n==="restaurants"?"tab-active":""}`,onClick:()=>s("restaurants"),children:"Restaurants"}),c.jsx("button",{className:`tab ${n==="menus"?"tab-active":""}`,onClick:()=>s("menus"),children:"Menus"})]}),c.jsxs("div",{className:"join w-full max-w-2xl",children:[c.jsx("input",{type:"text",placeholder:"Search by name, location, or cuisine...",className:"input input-bordered join-item flex-1",value:t,onChange:d=>e(d.target.value)}),c.jsxs("button",{className:"btn btn-primary join-item",onClick:h,disabled:l,children:[c.jsx(mm,{className:"w-5 h-5"}),"Search"]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{className:"btn btn-outline btn-sm",children:[c.jsx(Lv,{className:"w-4 h-4"}),"Filters"]}),c.jsxs("button",{className:"btn btn-outline btn-sm",children:[c.jsx(Ho,{className:"w-4 h-4"}),"Near Me"]})]})]}),l?c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"loading loading-spinner loading-lg"})}):n==="restaurants"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(d=>c.jsxs("div",{className:"card bg-base-100 shadow-xl",children:[c.jsx("figure",{children:c.jsx("img",{src:d.image,alt:d.name,className:"h-48 w-full object-cover"})}),c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:d.name}),c.jsx("p",{className:"text-sm text-gray-600",children:d.description}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx(Ho,{className:"w-4 h-4"}),d.location]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.tags.map((f,g)=>c.jsx("span",{className:"badge badge-outline",children:f},g))}),c.jsx("div",{className:"card-actions justify-end mt-4",children:c.jsx("button",{className:"btn btn-primary btn-sm",children:"View Details"})})]})]},d.id))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(d=>c.jsxs("div",{className:"card bg-base-100 shadow-xl",children:[c.jsx("figure",{children:c.jsx("img",{src:d.image,alt:d.name,className:"h-48 w-full object-cover"})}),c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:d.name}),c.jsx("p",{className:"text-sm text-gray-600",children:d.description}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 my-3",children:[c.jsxs("div",{className:"stat bg-base-200 rounded-lg p-2",children:[c.jsx("div",{className:"stat-title text-xs",children:"Calories"}),c.jsx("div",{className:"stat-value text-primary text-lg",children:d.calories})]}),c.jsxs("div",{className:"stat bg-base-200 rounded-lg p-2",children:[c.jsx("div",{className:"stat-title text-xs",children:"Protein"}),c.jsx("div",{className:"stat-value text-accent text-lg",children:d.protein})]}),c.jsxs("div",{className:"stat bg-base-200 rounded-lg p-2",children:[c.jsx("div",{className:"stat-title text-xs",children:"Price"}),c.jsxs("div",{className:"stat-value text-secondary text-lg",children:["$",d.price]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((f,g)=>c.jsx("span",{className:"badge badge-outline badge-sm",children:f},g))}),c.jsx("div",{className:"card-actions justify-end mt-4",children:c.jsx("button",{className:"btn btn-primary btn-sm",children:"Order Now"})})]})]},d.id))})]})})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ig.apply(this,arguments)}var ry;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ry||(ry={}));function gs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vw(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}var ay;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ay||(ay={}));function MI(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?vw(t):t;return{pathname:n?n.startsWith("/")?n:II(n,e):e,search:LI(s),hash:DI(i)}}function II(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ld(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bw(t,e){let n=PI(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ww(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=vw(t):(i=ig({},t),gs(!i.pathname||!i.pathname.includes("?"),Ld("?","pathname","search",i)),gs(!i.pathname||!i.pathname.includes("#"),Ld("#","pathname","hash",i)),gs(!i.search||!i.search.includes("#"),Ld("#","search","hash",i)));let r=t===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!s&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=MI(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const AI=t=>t.join("/").replace(/\/\/+/g,"/"),LI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Sw=["post","put","patch","delete"];new Set(Sw);const OI=["get",...Sw];new Set(OI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rg.apply(this,arguments)}const Ew=j.createContext(null),ap=j.createContext(null),jw=j.createContext(null),jh=j.createContext({outlet:null,matches:[],isDataRoute:!1});function op(){return j.useContext(jw)!=null}function Nw(){return op()||gs(!1),j.useContext(jw).location}function Cw(t){j.useContext(ap).static||j.useLayoutEffect(t)}function FI(){let{isDataRoute:t}=j.useContext(jh);return t?VI():zI()}function zI(){op()||gs(!1);let t=j.useContext(Ew),{basename:e,future:n,navigator:s}=j.useContext(ap),{matches:i}=j.useContext(jh),{pathname:r}=Nw(),a=JSON.stringify(bw(i,n.v7_relativeSplatPath)),o=j.useRef(!1);return Cw(()=>{o.current=!0}),j.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let d=ww(u,JSON.parse(a),r,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:AI([e,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[e,s,a,r,t])}var kw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kw||{}),Rw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rw||{});function WI(t){let e=j.useContext(Ew);return e||gs(!1),e}function BI(t){let e=j.useContext(jh);return e||gs(!1),e}function $I(t){let e=BI(),n=e.matches[e.matches.length-1];return n.route.id||gs(!1),n.route.id}function VI(){let{router:t}=WI(kw.UseNavigateStable),e=$I(Rw.UseNavigateStable),n=j.useRef(!1);return Cw(()=>{n.current=!0}),j.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rg({fromRouteId:e},r)))},[t,e])}function UI(t){let{to:e,replace:n,state:s,relative:i}=t;op()||gs(!1);let{future:r,static:a}=j.useContext(ap),{matches:o}=j.useContext(jh),{pathname:l}=Nw(),u=FI(),h=ww(e,bw(o,r.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return j.useEffect(()=>u(JSON.parse(d),{replace:n,state:s,relative:i}),[u,d,i,n,s]),null}new Promise(()=>{});var Be=(t=>(t.ADMIN="admin",t.RESTAURANT="restaurant",t.CUSTOMER="customer",t))(Be||{});const ot=({children:t,role:e})=>{const{isAuthenticated:n,user:s}=it(),i=Ht();if(!n||!s)return i[1]("/");if(e===Be.ADMIN){if(!s.email)return i[1]("/restaurant");if(s.email!=="comesaludable2025")return i[1]("/profile")}return e===Be.RESTAURANT&&s.email?c.jsx(UI,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:t})},GI=({profileImage:t,restaurant:e,update:n,openModalDelete:s})=>c.jsx("div",{className:"relative -mt-24 mb-8",children:c.jsx("div",{className:"bg-white rounded-xl shadow-xl p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:t,alt:"Restaurant Logo",className:"w-32 h-32 rounded-xl object-cover shadow-lg"}),n&&c.jsx("button",{className:"btn btn-circle btn-sm absolute top-0 right-0",children:c.jsx(gm,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:e.name}),c.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mt-2",children:[c.jsx(Vx,{className:"w-5 h-5"}),e.address]}),c.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mt-2",children:[c.jsx(Vx,{className:"w-5 h-5"}),e.horario]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn-sm btn btn-primary",children:[c.jsx(Gx,{className:"w-5 h-5"}),"Share Profile"]}),n&&c.jsxs(c.Fragment,{children:[c.jsxs(Oe,{href:`/admin/restaurant/${e.id}/menu/create`,className:"btn-sm btn btn-success",children:[c.jsx(ci,{className:"w-5 h-5"}),"Crear Menú"]}),c.jsxs(Oe,{href:`/admin/restaurant/update/${e.id}`,className:"btn-sm btn btn-info",children:[c.jsx(Ej,{className:"w-5 h-5"}),"Actualizar"]}),c.jsxs("button",{onClick:s,className:"btn-sm btn btn-error",children:[c.jsx(gj,{className:"w-5 h-5"}),"Eliminar"]})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.typeReference&&c.jsx("div",{className:"badge badge-lg",children:e.typeReference.name}),e.environmentReference&&c.jsx("div",{className:"badge badge-lg",children:e.environmentReference.name})]}),c.jsx("div",{className:"flex",children:c.jsxs("p",{className:"text-gray-600 flex items-center gap-5 mt-2",children:[c.jsx(vj,{className:"w-5 h-5"}),e.about]})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("h2",{className:"card-title",children:[c.jsx(Gx,{className:"w-5 h-5 text-primary"}),"Redes Sociales"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("a",{className:"btn btn-outline btn-primary btn-sm",children:c.jsx("img",{src:"/fb.svg",className:"w-5 h-5"})}),c.jsx("a",{className:"btn btn-outline btn-primary btn-sm",children:c.jsx("img",{src:"/ig.svg",className:"w-5 h-5"})}),c.jsx("a",{className:"btn btn-outline btn-primary btn-sm",children:c.jsx("img",{src:"/tk.svg",className:"w-5 h-5"})})]})]})]})]})})}),HI=({coverImage:t,update:e})=>c.jsxs("div",{className:"relative h-64 md:h-96 w-full",children:[c.jsx("img",{src:t,alt:"Restaurant Cover",className:"w-full h-full object-cover"}),e&&c.jsx("button",{className:"btn btn-circle absolute bottom-4 right-4",children:c.jsx(gm,{className:"w-5 h-5"})})]}),Ea=({viewType:t,onChange:e})=>c.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>e("table"),className:`px-3 py-1.5 rounded flex items-center ${t==="table"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx(Sj,{className:"h-4 w-4 mr-1.5"}),c.jsx("span",{className:"text-sm",children:"Tabla"})]}),c.jsxs("button",{onClick:()=>e("cards"),className:`px-3 py-1.5 rounded flex items-center ${t==="cards"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx(yj,{className:"h-4 w-4 mr-1.5"}),c.jsx("span",{className:"text-sm",children:"Tarjetas"})]})]}),Je=({title:t,children:e,className:n="",action:s})=>c.jsxs("div",{className:`card bg-white h-auto ${n}`,children:[(t||s)&&c.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[t&&c.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:t}),s&&c.jsx("div",{children:s})]}),c.jsx("div",{className:"p-6",children:e})]}),Tw=({menus:t,HandleDelete:e,HandleFicha:n,HandleUpdate:s})=>c.jsx("div",{className:"overflow-x-auto -mx-6 -mb-6",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costo"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"h-10 w-10 skeleton flex-shrink-0 rounded-md overflow-hidden"})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:i.name})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[i.price," $"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.categoryReference.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.restauranteReference.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n&&c.jsx("button",{onClick:()=>n(i.id),className:"p-1 rounded-full hover:bg-gray-100",children:c.jsx(mj,{className:"h-4 w-4 text-gray-400"})}),s&&c.jsx("button",{onClick:()=>s(i.id),className:"p-1 rounded-full hover:bg-gray-100",children:c.jsx(Fv,{className:"h-4 w-4 text-blue-500"})}),e&&c.jsx("button",{onClick:()=>e(i.id),className:"p-1 rounded-full hover:bg-gray-100",children:c.jsx(Ij,{className:"h-4 w-4 text-red-500"})})]})})]},i.id))})]})}),Mw=({menus:t})=>c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:t.map(e=>c.jsxs(Oe,{href:`/admin/menus/${e.id}`,className:"card overflow-hidden transition-all duration-300 hover:shadow-md hover:translate-y-[-4px]",children:[c.jsx("div",{className:"relative skeleton"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:e.name}),c.jsxs("span",{className:"text-xs",children:["(para ",e.forPeople," personas)"]}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.categoryReference.name})]}),c.jsxs("div",{className:"bg-primary-50 text-primary-700 px-2 py-1 rounded font-medium",children:["$",e.price]})]}),c.jsx("p",{className:"text-gray-600 text-sm mt-3 line-clamp-2",children:e.about}),c.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-center text-xs",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Alergenos ",c.jsxs("span",{className:"font-black text-xs",children:["(",e.allergens.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e&&e.allergens.map(n=>c.jsx("span",{className:"badge badge-xs",children:n}))})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Ingredientes ",c.jsxs("span",{className:"font-black text-xs",children:["(",e.ingredients.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e&&e.ingredients.map(n=>c.jsx("span",{className:"badge badge-xs",children:n}))})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Etiquetas ",c.jsxs("span",{className:"font-black text-xs",children:["(",e.tags.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e&&e.tags.map(n=>c.jsx("span",{className:"badge badge-xs",children:n}))})]})]})]})]},e.id))}),ja=({children:t,create:e,openModal:n,param:s,reload:i,setParam:r,setTake:a,take:o,setSkip:l,skip:u,pagination:h,createLink:d})=>c.jsxs("div",{className:"mb-6 flex justify-between gap-4",children:[c.jsxs("div",{className:"flex-3 relative gap-3 flex",children:[t,c.jsx("input",{onChange:f=>r(f.target.value),type:"text",value:s,placeholder:"Buscar...",className:"w-full input input-sm pr-10 focus:outline-none"}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),h?c.jsxs("ul",{className:"flex justify-end gap-2 items-center flex-1",children:[h.hasPreviousPage?c.jsx("button",{onClick:()=>l(u-o),className:"btn btn-sm btn-primary",children:c.jsx(Wx,{})}):c.jsx("span",{className:"text-gray-800 bg-gray-300 px-3 py-1 rounded",children:c.jsx(Wx,{})}),c.jsxs("span",{className:"text-gray-800 bg-gray-300 px-3 py-1 rounded",children:[h.currentPage,"/",h.totalPages]}),h.hasNextPage?c.jsx("button",{onClick:()=>l(u+o),className:"btn btn-sm btn-primary",children:c.jsx(Bx,{})}):c.jsx("span",{className:"text-gray-800 bg-gray-300 px-3 py-1 rounded",children:c.jsx(Bx,{})})]}):c.jsx(c.Fragment,{}),c.jsxs("ul",{className:"hidden lg:flex justify-end gap-2 items-center flex-1",children:[e&&c.jsxs("button",{onClick:n,className:"btn btn-sm btn-success text-white",children:[c.jsx(Ux,{})," Crear"]}),d&&c.jsxs(Oe,{href:d,className:"btn btn-sm btn-success text-white",children:[c.jsx(Ux,{})," Crear"]}),c.jsx("button",{onClick:i,className:"btn btn-sm btn-ghost text-gray-700",children:c.jsx(kj,{})}),c.jsxs("select",{onChange:f=>a(Number(f.target.value)),className:"select select-sm focus:outline-none",children:[c.jsx("option",{selected:!0,children:o}),c.jsx("option",{children:5}),c.jsx("option",{children:10}),c.jsx("option",{children:15}),c.jsx("option",{children:20})]})]})]});class XI{async fetchWith(e,n={}){var r;const s=`${V.api.baseUrl}${e}`;if(!n||((r=n.method)==null?void 0:r.toUpperCase())=="GET"){const a=await fetch(s,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!a.ok){const o=await a.json();throw new Error(o.message||"An error occurred")}return a}const i=await fetch(s,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!i.ok){const a=await i.json();throw new Error(a.message||"An error occurred")}return i}async filter({param:e,enpoint:n}){try{return await(await this.fetchWith(`${n}/?param=${e}`,{method:"GET"})).json()}catch{return{body:null,message:"Error al buscar",error:!0}}}}const dn=({path:t,setValue:e,uniqueId:n,toastShow:s,text:i})=>{const[r,a]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(null),[d,f]=j.useState(!0),[g,m]=j.useState(!1),[p,_]=j.useState();return j.useEffect(()=>{const x=async()=>{f(!0);const v=await new XI().filter({param:r,enpoint:t});if(v.error)return l(`no hay resultados para ${r}`),f(!1),s?G.error("No se obtuvieron resultados"):null;h(v.body),f(!1)};(async()=>setTimeout(async()=>await x(),400))()},[r]),c.jsxs("label",{htmlFor:n,className:"relative border rounded-lg h-full",children:[c.jsx("input",{onChange:()=>m(!0),id:n,type:"checkbox",className:"hidden h-0 w-0"}),c.jsx("input",{placeholder:i,onClick:()=>m(!0),onChange:x=>a(x.target.value),type:"text",value:p&&p.label,className:"input input-sm w-full h-full"}),c.jsx("button",{type:"button",onClick:()=>m(!1),className:"absolute p-2 text-red-500 z-10 top-0 right-0",children:g&&"X"}),g&&c.jsx("div",{className:"w-full absolute top-10 bg-white rounded-b-lg border overflow-y-auto h- max-h-40",children:d?c.jsx("div",{className:"w-full flex justify-center",children:c.jsx("span",{className:"loading loading-spinner"})}):o&&!u?c.jsx("p",{className:"text-xs font-semibold text-gray-600",children:o}):u&&c.jsx("div",{className:"grid grid-cols-1 gapy-1",children:u.map(x=>c.jsxs("label",{className:"py-2 hover:bg-blue-100 duration-200 px-4",children:[c.jsx("input",{onChange:()=>{e(x.value.toString()),_(x),m(!1)},value:x.value,type:"checkbox",className:"hidden"}),c.jsx("span",{className:"text-sm font-semibold",children:x.label})]}))})})]})};function YI({id:t,onClose:e,reload:n}){const s=async()=>{const r=await new ui().delete({id:t});if(r.error)return e(),G.error(`${r.message}`);n(),e()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs(Je,{title:"Confimación",children:[c.jsx("h2",{children:"¿Seguro que desea eliminar el menú?"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-ghost",children:"Cancelar"}),c.jsx("button",{onClick:s,className:"btn btn-sm btn-error",children:"Eliminar"})]})]})})}function Iw({id:t,onClose:e,openModalDelete:n,redirectUpdate:s}){const[i,r]=j.useState(null),a=async()=>{const l=await new ui().find({id:t});if(l.error)return e(),G.error(`${l.message}`);r(l.body)};return j.useEffect(()=>{a()},[]),c.jsx("div",{className:"modal modal-open",children:c.jsx(Je,{className:"max-w-xl",title:i?i.name:"Cargando",children:i&&c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("div",{className:"relative skeleton"}),c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs",children:["(para ",i.forPeople," personas)"]}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.categoryReference.name})]}),c.jsxs("div",{className:"bg-primary-50 text-primary-700 px-2 py-1 rounded font-medium",children:["$",i.price]})]}),c.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:i.about}),c.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-center text-xs",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Alergenos ",c.jsxs("span",{className:"font-black text-xs",children:["(",i.allergens.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:i&&i.allergens.map(o=>c.jsx("span",{className:"badge badge-xs",children:o}))})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Ingredientes ",c.jsxs("span",{className:"font-black text-xs",children:["(",i.ingredients.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:i&&i.ingredients.map(o=>c.jsx("span",{className:"badge badge-xs",children:o}))})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-500",children:["Etiquetas ",c.jsxs("span",{className:"font-black text-xs",children:["(",i.tags.length,")"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:i&&i.tags.map(o=>c.jsx("span",{className:"badge badge-xs",children:o}))})]})]}),c.jsxs("div",{className:"flex justify-end items-center gap-3 mt-3",children:[n&&c.jsx("button",{onClick:n,className:"btn btn-sm btn-error",children:"Eliminar"}),s&&c.jsx("button",{onClick:s,className:"btn btn-sm btn-info",children:"Actualizar"}),c.jsx("button",{onClick:e,className:"btn btn-sm btn-ghost",children:"Cerrar"})]})]})]},i.id)})})}const Pw=({restaurant:t})=>{const[e,n]=j.useState([]),[s,i]=j.useState({}),[r,a]=j.useState(!1),[o,l]=j.useState(!1),{user:u}=it(),[h,d]=j.useState("table"),[f,g]=j.useState(null),[m,p]=j.useState(null),[_,x]=j.useState(""),[y,v]=j.useState(null),b=Ht(),[w,N]=j.useState(!1),[S,E]=j.useState(0),[C,k]=j.useState(10),I=async O=>{v(O),a(!0)},A=async O=>b[1](`/admin/menus/${O}`),D=async O=>{v(O),l(!0)};return j.useEffect(()=>{(async()=>{const W=await new ui().filter({skip:S,take:C,param:_,categoryId:f||"",typeId:m||""});if(W.error)return G.error("No se obtuvieron resultados");console.log(W),n(W.body.data),i(W.body.pagination)})()},[_,m,f,w]),c.jsxs("div",{className:`${t?"bg-white":"bg-base-100 min-h-screen"}`,children:[y&&o&&c.jsx(Iw,{openModalDelete:()=>a(!0),redirectUpdate:()=>b[1](`/admin/menus/${y}`),id:y,isOpen:o,onClose:()=>l(!1),reload:()=>N(!w)}),y&&r&&c.jsx(YI,{id:y,isOpen:r,onClose:()=>a(!1),reload:()=>N(!w)}),!t&&c.jsx(c.Fragment,{children:u.access?c.jsx(Gn,{}):c.jsx(kn,{})}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Menus"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx(Ea,{viewType:h,onChange:d})})]}),c.jsxs(Je,{children:[c.jsxs(ja,{create:!1,openModal:()=>{},param:_,setParam:x,take:C,setTake:k,skip:S,setSkip:E,reload:()=>N(!w),pagination:s,children:[c.jsx(dn,{text:"Tipo",path:V.api.endpoints.search.type,setValue:O=>p(O),uniqueId:"filterTypeMenuPage"}),c.jsx(dn,{text:"Categoría",path:V.api.endpoints.search.category,setValue:O=>g(O),uniqueId:"filterCategoryMenuPage"})]}),h==="table"?c.jsx(Tw,{HandleDelete:I,HandleFicha:D,HandleUpdate:A,reload:()=>{},menus:e}):c.jsx(Mw,{menus:e})]})]})]})};function KI({id:t,onClose:e,reload:n}){const s=async()=>{const r=await new qi().delete({id:t});if(r.error)return e(),G.error(`${r.message}`);n(),e()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs(Je,{title:"Confimación",children:[c.jsx("h2",{children:"¿Seguro que desea eliminar el restaurant?"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-ghost",children:"Cancelar"}),c.jsx("button",{onClick:s,className:"btn btn-sm btn-error",children:"Eliminar"})]})]})})}const Aw=({id:t,update:e})=>{const{user:n}=it(),[s,i]=j.useState(null),[r]=j.useState("https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg"),[a]=j.useState("https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg"),[o]=j.useState(["https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg"]),[l,u]=j.useState(!1),h=Ht();return j.useEffect(()=>{(async()=>{const f=await new qi().find({id:t});i(f.body)})()},[]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[t&&l&&c.jsx(KI,{id:t,isOpen:l,onClose:()=>u(!1),reload:()=>h[1]("/admin/restaurants")}),n.access?c.jsx(Gn,{}):c.jsx(kn,{}),s?c.jsxs(c.Fragment,{children:[c.jsx(HI,{update:e,coverImage:r}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(GI,{openModalDelete:()=>u(!0),restaurant:s,profileImage:a}),c.jsx("div",{className:"card bg-white shadow-xl mb-3",children:c.jsx("div",{className:"card-body",children:c.jsx(Pw,{restaurant:!0})})}),c.jsx("div",{className:"card bg-white shadow-xl",children:c.jsxs("div",{className:"card-body",children:[c.jsxs("h2",{className:"card-title",children:[c.jsx(_j,{className:"w-5 h-5 text-primary"}),"Galería"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:o.map((d,f)=>c.jsx("div",{className:"relative aspect-square",children:c.jsx("img",{src:d,alt:`Gallery ${f+1}`,className:"w-full h-full object-cover rounded-xl"})},f))})]})})]})]}):c.jsx(c.Fragment,{children:"No exite tal restaurante"})]})},ZI=()=>{const{user:t}=it();return console.log(t),c.jsx("div",{className:"min-h-screen bg-base-100",children:c.jsx(Aw,{id:t.id})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kl(t){return t+.5|0}const Hs=(t,e,n)=>Math.max(Math.min(t,n),e);function lo(t){return Hs(kl(t*2.55),0,255)}function ri(t){return Hs(kl(t*255),0,255)}function as(t){return Hs(kl(t/2.55)/100,0,1)}function oy(t){return Hs(kl(t*100),0,100)}const Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ag=[..."0123456789ABCDEF"],qI=t=>ag[t&15],JI=t=>ag[(t&240)>>4]+ag[t&15],uc=t=>(t&240)>>4===(t&15),QI=t=>uc(t.r)&&uc(t.g)&&uc(t.b)&&uc(t.a);function eP(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Jt[t[1]]*17,g:255&Jt[t[2]]*17,b:255&Jt[t[3]]*17,a:e===5?Jt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Jt[t[1]]<<4|Jt[t[2]],g:Jt[t[3]]<<4|Jt[t[4]],b:Jt[t[5]]<<4|Jt[t[6]],a:e===9?Jt[t[7]]<<4|Jt[t[8]]:255})),n}const tP=(t,e)=>t<255?e(t):"";function nP(t){var e=QI(t)?qI:JI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+tP(t.a,e):void 0}const sP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lw(t,e,n){const s=e*Math.min(n,1-n),i=(r,a=(r+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function iP(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function rP(t,e,n){const s=Lw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function aP(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function lp(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),a=Math.min(n,s,i),o=(r+a)/2;let l,u,h;return r!==a&&(h=r-a,u=o>.5?h/(2-r-a):h/(r+a),l=aP(n,s,i,h,r),l=l*60+.5),[l|0,u||0,o]}function cp(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(ri)}function up(t,e,n){return cp(Lw,t,e,n)}function oP(t,e,n){return cp(rP,t,e,n)}function lP(t,e,n){return cp(iP,t,e,n)}function Dw(t){return(t%360+360)%360}function cP(t){const e=sP.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?lo(+e[5]):ri(+e[5]));const i=Dw(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=oP(i,r,a):e[1]==="hsv"?s=lP(i,r,a):s=up(i,r,a),{r:s[0],g:s[1],b:s[2],a:n}}function uP(t,e){var n=lp(t);n[0]=Dw(n[0]+e),n=up(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hP(t){if(!t)return;const e=lp(t),n=e[0],s=oy(e[1]),i=oy(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${as(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const ly={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dP(){const t={},e=Object.keys(cy),n=Object.keys(ly);let s,i,r,a,o;for(s=0;s<e.length;s++){for(a=o=e[s],i=0;i<n.length;i++)r=n[i],o=o.replace(r,ly[r]);r=parseInt(cy[a],16),t[o]=[r>>16&255,r>>8&255,r&255]}return t}let hc;function fP(t){hc||(hc=dP(),hc.transparent=[0,0,0,0]);const e=hc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const gP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mP(t){const e=gP.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?lo(a):Hs(a*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?lo(s):Hs(s,0,255)),i=255&(e[4]?lo(i):Hs(i,0,255)),r=255&(e[6]?lo(r):Hs(r,0,255)),{r:s,g:i,b:r,a:n}}}function pP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${as(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Dd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,br=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function xP(t,e,n){const s=br(as(t.r)),i=br(as(t.g)),r=br(as(t.b));return{r:ri(Dd(s+n*(br(as(e.r))-s))),g:ri(Dd(i+n*(br(as(e.g))-i))),b:ri(Dd(r+n*(br(as(e.b))-r))),a:t.a+n*(e.a-t.a)}}function dc(t,e,n){if(t){let s=lp(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=up(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Ow(t,e){return t&&Object.assign(e||{},t)}function uy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ri(t[3]))):(e=Ow(t,{r:0,g:0,b:0,a:1}),e.a=ri(e.a)),e}function yP(t){return t.charAt(0)==="r"?mP(t):cP(t)}class rl{constructor(e){if(e instanceof rl)return e;const n=typeof e;let s;n==="object"?s=uy(e):n==="string"&&(s=eP(e)||fP(e)||yP(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ow(this._rgb);return e&&(e.a=as(e.a)),e}set rgb(e){this._rgb=uy(e)}rgbString(){return this._valid?pP(this._rgb):void 0}hexString(){return this._valid?nP(this._rgb):void 0}hslString(){return this._valid?hP(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=s.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=a*s.a+(1-a)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=xP(this._rgb,e._rgb,n)),this}clone(){return new rl(this.rgb)}alpha(e){return this._rgb.a=ri(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=kl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dc(this._rgb,2,e),this}darken(e){return dc(this._rgb,2,-e),this}saturate(e){return dc(this._rgb,1,e),this}desaturate(e){return dc(this._rgb,1,-e),this}rotate(e){return uP(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jn(){}const _P=(()=>{let t=0;return()=>t++})();function ye(t){return t==null}function Ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function fn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Pn(t,e){return fn(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const vP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Fw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function we(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function me(t,e,n,s){let i,r,a;if(Ue(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(se(t))for(a=Object.keys(t),r=a.length,i=0;i<r;i++)e.call(n,t[a[i]],a[i])}function Cu(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ku(t){if(Ue(t))return t.map(ku);if(se(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=ku(t[n[i]]);return e}return t}function zw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function bP(t,e,n,s){if(!zw(t))return;const i=e[t],r=n[t];se(i)&&se(r)?al(i,r,s):e[t]=ku(r)}function al(t,e,n){const s=Ue(e)?e:[e],i=s.length;if(!se(t))return t;n=n||{};const r=n.merger||bP;let a;for(let o=0;o<i;++o){if(a=s[o],!se(a))continue;const l=Object.keys(a);for(let u=0,h=l.length;u<h;++u)r(l[u],t,a,n)}return t}function No(t,e){return al(t,e,{merger:wP})}function wP(t,e,n){if(!zw(t))return;const s=e[t],i=n[t];se(s)&&se(i)?No(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ku(i))}const hy={"":t=>t,x:t=>t.x,y:t=>t.y};function SP(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function EP(t){const e=SP(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function tr(t,e){return(hy[e]||(hy[e]=EP(e)))(t)}function hp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ol=t=>typeof t<"u",di=t=>typeof t=="function",dy=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function jP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const We=Math.PI,ze=2*We,Ru=Number.POSITIVE_INFINITY,NP=We/180,He=We/2,Si=We/4,fy=We*2/3,og=Math.log10,ai=Math.sign;function Dc(t,e,n){return Math.abs(t-e)<n}function gy(t){const e=Math.round(t);t=Dc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(og(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function CP(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function kP(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Tu(t){return!kP(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function RP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TP(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function cs(t){return t*(We/180)}function MP(t){return t*(180/We)}function my(t){if(!fn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ww(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*We&&(r+=ze),{angle:r,distance:i}}function IP(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ei(t){return(t%ze+ze)%ze}function Mu(t,e,n,s){const i=Ei(t),r=Ei(e),a=Ei(n),o=Ei(r-i),l=Ei(a-i),u=Ei(i-r),h=Ei(i-a);return i===r||i===a||s&&r===a||o>l&&u<h}function At(t,e,n){return Math.max(e,Math.min(n,t))}function PP(t){return At(t,-32768,32767)}function zi(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function dp(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const lg=(t,e,n,s)=>dp(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),AP=(t,e,n)=>dp(t,n,s=>t[s][e]>=n);function LP(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Bw=["push","pop","shift","splice","unshift"];function DP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bw.forEach(n=>{const s="_onData"+hp(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return t._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...r)}),a}})})}function py(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Bw.forEach(r=>{delete t[r]}),delete t._chartjs)}function $w(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Uw(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Vw.call(window,()=>{s=!1,t.apply(e,n)}))}}function OP(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const fp=t=>t==="start"?"left":t==="end"?"right":"center",ct=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,FP=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,fc=t=>t===0||t===1,xy=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ze/n)),yy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ze/n)+1,Co={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*He)+1,easeOutSine:t=>Math.sin(t*He),easeInOutSine:t=>-.5*(Math.cos(We*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fc(t)?t:xy(t,.075,.3),easeOutElastic:t=>fc(t)?t:yy(t,.075,.3),easeInOutElastic(t){return fc(t)?t:t<.5?.5*xy(t*2,.1125,.45):.5+.5*yy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Co.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Co.easeInBounce(t*2)*.5:Co.easeOutBounce(t*2-1)*.5+.5};function Gw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _y(t){return Gw(t)?t:new rl(t)}function Od(t){return Gw(t)?t:new rl(t).saturate(.5).darken(.1).hexString()}const zP=["x","y","borderWidth","radius","tension"],WP=["color","borderColor","backgroundColor"];function BP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:WP},numbers:{type:"number",properties:zP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $P(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vy=new Map;function VP(t,e){e=e||{};const n=t+JSON.stringify(e);let s=vy.get(n);return s||(s=new Intl.NumberFormat(t,e),vy.set(n,s)),s}function gp(t,e,n){return VP(e,n).format(t)}const Hw={values(t){return Ue(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=UP(t,n)}const a=og(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),gp(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(og(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?Hw.numeric.call(this,t,e,n):""}};function UP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Xw={formatters:Hw};function GP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nr=Object.create(null),cg=Object.create(null);function ko(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Fd(t,e,n){return typeof e=="string"?al(ko(t,e),n):al(ko(t,""),e)}class HP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Od(i.backgroundColor),this.hoverBorderColor=(s,i)=>Od(i.borderColor),this.hoverColor=(s,i)=>Od(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Fd(this,e,n)}get(e){return ko(this,e)}describe(e,n){return Fd(cg,e,n)}override(e,n){return Fd(nr,e,n)}route(e,n,s,i){const r=ko(this,e),a=ko(this,s),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[i];return se(l)?Object.assign({},u,l):ce(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Le=new HP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BP,$P,GP]);function XP(t){return!t||ye(t.size)||ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function by(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function ji(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function wy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sy(t,e,n,s){Yw(t,e,n,s,null)}function Yw(t,e,n,s,i){let r,a,o,l,u,h,d,f;const g=e.pointStyle,m=e.rotation,p=e.radius;let _=(m||0)*NP;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,s,i/2,p,0,0,ze):t.arc(n,s,p,0,ze),t.closePath();break;case"triangle":h=i?i/2:p,t.moveTo(n+Math.sin(_)*h,s-Math.cos(_)*p),_+=fy,t.lineTo(n+Math.sin(_)*h,s-Math.cos(_)*p),_+=fy,t.lineTo(n+Math.sin(_)*h,s-Math.cos(_)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,a=Math.cos(_+Si)*l,d=Math.cos(_+Si)*(i?i/2-u:l),o=Math.sin(_+Si)*l,f=Math.sin(_+Si)*(i?i/2-u:l),t.arc(n-d,s-o,u,_-We,_-He),t.arc(n+f,s-a,u,_-He,_),t.arc(n+d,s+o,u,_,_+He),t.arc(n-f,s+a,u,_+He,_+We),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,h=i?i/2:l,t.rect(n-h,s-l,2*h,2*l);break}_+=Si;case"rectRot":d=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-d,s-o),t.lineTo(n+f,s-a),t.lineTo(n+d,s+o),t.lineTo(n-f,s+a),t.closePath();break;case"crossRot":_+=Si;case"cross":d=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-d,s-o),t.lineTo(n+d,s+o),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a);break;case"star":d=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-d,s-o),t.lineTo(n+d,s+o),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a),_+=Si,d=Math.cos(_)*(i?i/2:p),a=Math.cos(_)*p,o=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-d,s-o),t.lineTo(n+d,s+o),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a);break;case"line":a=i?i/2:Math.cos(_)*p,o=Math.sin(_)*p,t.moveTo(n-a,s-o),t.lineTo(n+a,s+o);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:p),s+Math.sin(_)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Kw(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function mp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pp(t){t.restore()}function YP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KP(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,h=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(o,h),t.stroke()}}function ZP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ll(t,e,n,s,i,r={}){const a=Ue(e)?e:[e],o=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,YP(t,r),l=0;l<a.length;++l)u=a[l],r.backdrop&&ZP(t,r.backdrop),o&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ye(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),KP(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function Iu(t,e){const{x:n,y:s,w:i,h:r,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*We,We,!0),t.lineTo(n,s+r-a.bottomLeft),t.arc(n+a.bottomLeft,s+r-a.bottomLeft,a.bottomLeft,We,He,!0),t.lineTo(n+i-a.bottomRight,s+r),t.arc(n+i-a.bottomRight,s+r-a.bottomRight,a.bottomRight,He,0,!0),t.lineTo(n+i,s+a.topRight),t.arc(n+i-a.topRight,s+a.topRight,a.topRight,0,-He,!0),t.lineTo(n+a.topLeft,s)}const qP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QP(t,e){const n=(""+t).match(qP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eA=t=>+t||0;function xp(t,e){const n={},s=se(e),i=s?Object.keys(e):e,r=se(t)?s?a=>ce(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=eA(r(a));return n}function Zw(t){return xp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qr(t){return xp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(t){const e=Zw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ft(t,e){t=t||{},e=e||Le.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ce(t.style,e.style);s&&!(""+s).match(JP)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ce(t.family,e.family),lineHeight:QP(ce(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ce(t.weight,e.weight),string:""};return i.string=XP(i),i}function gc(t,e,n,s){let i,r,a;for(i=0,r=t.length;i<r;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function tA(t,e,n){const{min:s,max:i}=t,r=Fw(e,(i-s)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(s,-Math.abs(r)),max:a(i,r)}}function Na(t,e){return Object.assign(Object.create(t),e)}function yp(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=e2("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:o=>yp([o,...t],e,r,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Jw(o,l,()=>cA(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return jy(o).includes(l)},ownKeys(o){return jy(o)},set(o,l,u){const h=o._storage||(o._storage=i());return o[l]=h[l]=u,delete o._keys,!0}})}function xa(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:qw(t,s),setContext:r=>xa(t,r,n,s),override:r=>xa(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,o){return Jw(r,a,()=>sA(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,o){return t[a]=o,delete r[a],!0}})}function qw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:di(n)?n:()=>n,isIndexable:di(s)?s:()=>s}}const nA=(t,e)=>t?t+hp(e):e,_p=(t,e)=>se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Jw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function sA(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:a}=t;let o=s[e];return di(o)&&a.isScriptable(e)&&(o=iA(e,o,t,n)),Ue(o)&&o.length&&(o=rA(e,o,t,a.isIndexable)),_p(e,o)&&(o=xa(o,i,r&&r[e],a)),o}function iA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(r,a||s);return o.delete(t),_p(t,l)&&(l=vp(i._scopes,i,t,l)),l}function rA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(se(e[0])){const l=e,u=i._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=vp(u,i,t,h);e.push(xa(d,r,a&&a[t],o))}}return e}function Qw(t,e,n){return di(t)?t(e,n):t}const aA=(t,e)=>t===!0?e:typeof t=="string"?tr(e,t):void 0;function oA(t,e,n,s,i){for(const r of e){const a=aA(n,r);if(a){t.add(a);const o=Qw(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function vp(t,e,n,s){const i=e._rootScopes,r=Qw(e._fallback,n,s),a=[...t,...i],o=new Set;o.add(s);let l=Ey(o,a,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Ey(o,a,r,l,s),l===null)?!1:yp(Array.from(o),[""],i,r,()=>lA(e,n,s))}function Ey(t,e,n,s,i){for(;n;)n=oA(t,e,n,s,i);return n}function lA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Ue(i)&&se(n)?n:i||{}}function cA(t,e,n,s){let i;for(const r of e)if(i=e2(nA(r,t),n),typeof i<"u")return _p(t,i)?vp(n,s,t,i):i}function e2(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function jy(t){let e=t._keys;return e||(e=t._keys=uA(t._scopes)),e}function uA(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function bp(){return typeof window<"u"&&typeof document<"u"}function wp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pu(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Nh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function hA(t,e){return Nh(t).getPropertyValue(e)}const dA=["top","right","bottom","left"];function Vi(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=dA[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const fA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function gA(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let a=!1,o,l;if(fA(i,r,t.target))o=i,l=r;else{const u=e.getBoundingClientRect();o=s.clientX-u.left,l=s.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Ti(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Nh(n),r=i.boxSizing==="border-box",a=Vi(i,"padding"),o=Vi(i,"border","width"),{x:l,y:u,box:h}=gA(t,n),d=a.left+(h&&o.left),f=a.top+(h&&o.top);let{width:g,height:m}=e;return r&&(g-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/g*n.width/s),y:Math.round((u-f)/m*n.height/s)}}function mA(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&wp(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),o=Nh(r),l=Vi(o,"border","width"),u=Vi(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,s=Pu(o.maxWidth,r,"clientWidth"),i=Pu(o.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Ru,maxHeight:i||Ru}}const mc=t=>Math.round(t*10)/10;function pA(t,e,n,s){const i=Nh(t),r=Vi(i,"margin"),a=Pu(i.maxWidth,t,"clientWidth")||Ru,o=Pu(i.maxHeight,t,"clientHeight")||Ru,l=mA(t,e,n);let{width:u,height:h}=l;if(i.boxSizing==="content-box"){const f=Vi(i,"border","width"),g=Vi(i,"padding");u-=g.width+f.width,h-=g.height+f.height}return u=Math.max(0,u-r.width),h=Math.max(0,s?u/s:h-r.height),u=mc(Math.min(u,a,l.maxWidth)),h=mc(Math.min(h,o,l.maxHeight)),u&&!h&&(h=mc(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&h>l.height&&(h=l.height,u=mc(Math.floor(h*s))),{width:u,height:h}}function Ny(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==i||a.width!==r?(t.currentDevicePixelRatio=s,a.height=i,a.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const xA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Cy(t,e){const n=hA(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const yA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},_A=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ea(t,e,n){return t?yA(e,n):_A()}function t2(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function n2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function pc(t,e,n){return t.options.clip?t[n]:e[n]}function vA(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:pc(n,e,"left"),right:pc(n,e,"right"),top:pc(s,e,"top"),bottom:pc(s,e,"bottom")}:e}function bA(t,e){const n=e._clip;if(n.disabled)return!1;const s=vA(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],a=n.duration;r.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Vw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ts=new wA;const ky="transparent",SA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=_y(t||ky),i=s.valid&&_y(e||ky);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class EA{constructor(e,n,s,i){const r=n[s];i=gc([e.to,i,r,e.from]);const a=gc([e.from,r,i]);this._active=!0,this._fn=e.fn||SA[e.type||typeof a],this._easing=Co[e.easing]||Co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,a=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=gc([e.to,n,i,e.from]),this._from=gc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<s),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class s2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!se(e))return;const n=Object.keys(Le.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!se(r))return;const a={};for(const o of n)a[o]=r[o];(Ue(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!s.has(o))&&s.set(o,a)})})}_animateOptions(e,n){const s=n.options,i=NA(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&jA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[u];let d=r[u];const f=s.get(u);if(d)if(f&&d.active()){d.update(f,h,o);continue}else d.cancel();if(!f||!f.duration){e[u]=h;continue}r[u]=d=new EA(f,e,u,h),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ts.add(this._chart,s),!0}}function jA(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function NA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ry(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function CA(t,e,n){if(n===!1)return!1;const s=Ry(t,n),i=Ry(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function kA(t){let e,n,s,i;return se(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function i2(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Ty(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let a,o,l,u;if(e===null)return;let h=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(h=!0,s.all)continue;break}u=t.values[l],fn(u)&&(r||e===0||ai(e)===ai(u))&&(e+=u)}return!h&&!s.all?0:e}function RA(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,h;for(l=0,u=a.length;l<u;++l)h=a[l],o[l]={[i]:h,[r]:t[h]};return o}function zd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function TA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function MA(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function IA(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function My(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Iy(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=s,l=r.axis,u=a.axis,h=TA(r,a,s),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:p,[u]:_}=m,x=m._stacks||(m._stacks={});f=x[u]=IA(i,h,p),f[o]=_,f._top=My(f,a,!0,s.type),f._bottom=My(f,a,!1,s.type);const y=f._visualValues||(f._visualValues={});y[o]=_}}function Wd(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function PA(t,e){return Na(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AA(t,e,n){return Na(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ga(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Bd=t=>t==="reset"||t==="none",Py=(t,e)=>e?t:Object.assign({},t),LA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:i2(n,!0),values:null};class ta{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=zd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ga(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,r=n.xAxisID=ce(s.xAxisID,Wd(e,"x")),a=n.yAxisID=ce(s.yAxisID,Wd(e,"y")),o=n.rAxisID=ce(s.rAxisID,Wd(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,r,a,o),h=n.vAxisID=i(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&py(this._data,this),e._stacked&&Ga(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(se(n)){const i=this._cachedMeta;this._data=RA(n,i)}else if(s!==n){if(s){py(s,this);const i=this._cachedMeta;Ga(i),i._parsed=[]}n&&Object.isExtensible(n)&&DP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=zd(n.vScale,n),n.stack!==s.stack&&(i=!0,Ga(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(Iy(this,n._parsed),n._stacked=zd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:a}=s,o=r.axis;let l=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],h,d,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Ue(i[e])?f=this.parseArrayData(s,i,e,n):se(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const g=()=>d[o]===null||u&&d[o]<u[o];for(h=0;h<n;++h)s._parsed[h+e]=d=f[h],l&&(g()&&(l=!1),u=d);s._sorted=l}a&&Iy(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:a}=e,o=r.axis,l=a.axis,u=r.getLabels(),h=r===a,d=new Array(i);let f,g,m;for(f=0,g=i;f<g;++f)m=f+s,d[f]={[o]:h||r.parse(u[m],m),[l]:a.parse(n[m],m)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:a}=e,o=new Array(i);let l,u,h,d;for(l=0,u=i;l<u;++l)h=l+s,d=n[h],o[l]={x:r.parse(d[0],h),y:a.parse(d[1],h)};return o}parseObjectData(e,n,s,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let h,d,f,g;for(h=0,d=i;h<d;++h)f=h+s,g=n[f],u[h]={x:r.parse(tr(g,o),f),y:a.parse(tr(g,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,a=n[e.axis],o={keys:i2(i,!0),values:n._stacks[e.axis]._visualValues};return Ty(o,a,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let a=r===null?NaN:r;const o=i&&s._stacks[n.axis];i&&o&&(i.values=o,a=Ty(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,a=i.length,o=this._getOtherScale(e),l=LA(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=MA(o);let f,g;function m(){g=i[f];const p=g[o.axis];return!fn(g[e.axis])||h>p||d<p}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,e,g,l),r));++f);if(r){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,a;for(i=0,r=n.length;i<r;++i)a=n[i][e.axis],fn(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=kA(ce(this.options.clip,CA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(e,r,o,l),h=o;h<o+l;++h){const d=i[h];d.hidden||(d.active&&u?a.push(d):d.draw(e,r))}for(h=0;h<a.length;++h)a[h].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=AA(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=PA(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,a=e+"-"+n,o=r[a],l=this.enableOptionSharing&&ol(s);if(o)return Py(o,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),h),g=Object.keys(Le.elements[e]),m=()=>this.getContext(s,i,n),p=u.resolveNamedOptions(f,g,m,d);return p.$shared&&(p.$shared=l,r[a]=Object.freeze(Py(p,l))),p}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(i.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,s,n))}const u=new s2(i,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Bd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:a}}updateElement(e,n,s,i){Bd(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Bd(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=s.length,r=n.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Ga(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(ta,"defaults",{}),K(ta,"datasetElementType",null),K(ta,"dataElementType",null);function DA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=$w(s.sort((i,r)=>i-r))}return t._cache.$bar}function OA(t){const e=t.iScale,n=DA(e,t.type);let s=e._length,i,r,a,o;const l=()=>{a===32767||a===-32768||(ol(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),l();return s}function FA(t,e,n,s){const i=n.barThickness;let r,a;return ye(i)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=i*s,a=1),{chunk:r/s,ratio:a,start:e.pixels[t]-r/2}}function zA(t,e,n,s){const i=e.pixels,r=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;a===null&&(a=r-(o===null?e.end-e.start:o-r)),o===null&&(o=r+r-a);const u=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/s,ratio:n.barPercentage,start:u}}function WA(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),a=Math.min(i,r),o=Math.max(i,r);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:r,min:a,max:o}}function r2(t,e,n,s){return Ue(t)?WA(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Ay(t,e,n,s){const i=t.iScale,r=t.vScale,a=i.getLabels(),o=i===r,l=[];let u,h,d,f;for(u=n,h=n+s;u<h;++u)f=e[u],d={},d[i.axis]=o||i.parse(a[u],u),l.push(r2(f,d,r,u));return l}function $d(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function BA(t,e,n){return t!==0?ai(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function $A(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function VA(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:h}=$A(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=h:(r[Ly(h,a,o,l)]=!0,i=u)),r[Ly(i,a,o,l)]=!0,t.borderSkipped=r}function Ly(t,e,n,s){return s?(t=UA(t,e,n),t=Dy(t,n,e)):t=Dy(t,e,n),t}function UA(t,e,n){return t===e?n:t===n?e:t}function Dy(t,e,n){return t==="start"?e:t==="end"?n:t}function GA(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Oc extends ta{parsePrimitiveData(e,n,s,i){return Ay(e,n,s,i)}parseArrayData(e,n,s,i){return Ay(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?o:l,h=a.axis==="x"?o:l,d=[];let f,g,m,p;for(f=s,g=s+i;f<g;++f)p=n[f],m={},m[r.axis]=r.parse(tr(p,u),f),d.push(r2(tr(p,h),m,a,f));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),a=r._custom,o=$d(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+s;g++){const m=this.getParsed(g),p=r||ye(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),_=this._calculateBarIndexPixels(g,h),x=(m._stacks||{})[o.axis],y={horizontal:u,base:p.base,enableBorderRadius:!x||$d(m._custom)||a===x._top||a===x._bottom,x:u?p.head:_.center,y:u?_.center:p.head,height:u?_.size:Math.abs(p.size),width:u?Math.abs(p.size):_.size};f&&(y.options=d||this.resolveDataElementOptions(g,e[g].active?"active":i));const v=y.options||e[g].options;VA(y,v,x,a),GA(y,v,h.ratio),this.updateElement(e[g],g,y,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=s.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[s.axis],u=h=>{const d=h._parsed.find(g=>g[s.axis]===l),f=d&&d[h.vScale.axis];if(ye(f)||isNaN(f))return!0};for(const h of i)if(!(n!==void 0&&u(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,a;for(r=0,a=n.data.length;r<a;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const o=e.barThickness;return{min:o||OA(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:a}}=this,o=r||0,l=this.getParsed(e),u=l._custom,h=$d(u);let d=l[n.axis],f=0,g=s?this.applyStack(n,l,s):d,m,p;g!==d&&(f=g-d,g=d),h&&(d=u.barStart,g=u.barEnd-u.barStart,d!==0&&ai(d)!==ai(u.barEnd)&&(f=0),f+=d);const _=!ye(r)&&!h?r:f;let x=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(f+g):m=x,p=m-x,Math.abs(p)<a){p=BA(p,n,o)*a,d===o&&(x-=p/2);const y=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),b=Math.min(y,v),w=Math.max(y,v);x=Math.max(Math.min(x,w),b),m=x+p,s&&!h&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(x))}if(x===n.getPixelForValue(o)){const y=ai(p)*n.getLineWidthForValue(o)/2;x+=y,p-=y}return{size:p,base:x,head:m,center:m+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,a=ce(i.maxBarThickness,1/0);let o,l;if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?zA(e,n,i,u):FA(e,n,i,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=h.start+h.chunk*d+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}K(Oc,"id","bar"),K(Oc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(Oc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function HA(t,e,n){let s=1,i=1,r=0,a=0;if(e<ze){const o=t,l=o+e,u=Math.cos(o),h=Math.sin(o),d=Math.cos(l),f=Math.sin(l),g=(v,b,w)=>Mu(v,o,l,!0)?1:Math.max(b,b*n,w,w*n),m=(v,b,w)=>Mu(v,o,l,!0)?-1:Math.min(b,b*n,w,w*n),p=g(0,u,d),_=g(He,h,f),x=m(We,u,d),y=m(We+He,h,f);s=(p-x)/2,i=(_-y)/2,r=-(p+x)/2,a=-(_+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:a}}class co extends ta{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(se(s[e])){const{key:l="value"}=this._parsing;r=u=>+tr(s[u],l)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=r(a)}}_getRotation(){return cs(this.options.rotation-90)}_getCircumference(){return cs(this.options.circumference)}_getRotationExtents(){let e=ze,n=-ze;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min(vP(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:m,offsetY:p}=HA(d,h,l),_=(s.width-a)/f,x=(s.height-a)/g,y=Math.max(Math.min(_,x)/2,0),v=Fw(this.options.radius,y),b=Math.max(v*l,0),w=(v-b)/this._getVisibleDatasetWeightTotal();this.offsetX=m*v,this.offsetY=p*v,i.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/ze)}updateElements(e,n,s,i){const r=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,h=(o.left+o.right)/2,d=(o.top+o.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(n,i);let x=this._getRotation(),y;for(y=0;y<n;++y)x+=this._circumference(y,r);for(y=n;y<n+s;++y){const v=this._circumference(y,r),b=e[y],w={x:h+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:m,innerRadius:g};_&&(w.options=p||this.resolveDataElementOptions(y,b.active?"active":i)),x+=v,this.updateElement(b,y,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ze*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=gp(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,a,o,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){a=s.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(co,"id","doughnut"),K(co,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(co,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),K(co,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class ug extends co{}K(ug,"id","pie"),K(ug,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ni(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sp{constructor(e){K(this,"options");this.options=e||{}}static override(e){Object.assign(Sp.prototype,e)}init(){}formats(){return Ni()}parse(){return Ni()}format(){return Ni()}add(){return Ni()}diff(){return Ni()}startOf(){return Ni()}endOf(){return Ni()}}var XA={_date:Sp};function YA(t,e,n,s){const{controller:i,data:r,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&r.length){const u=o._reversePixels?AP:lg;if(s){if(i._sharedOptions){const h=r[0],d=typeof h.getRange=="function"&&h.getRange(e);if(d){const f=u(r,e,n-d),g=u(r,e,n+d);return{lo:f.lo,hi:g.hi}}}}else{const h=u(r,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,h.lo+1).reverse().findIndex(p=>!ye(p[d.axis]));h.lo-=Math.max(0,g);const m=f.slice(h.hi).findIndex(p=>!ye(p[d.axis]));h.hi+=Math.max(0,m)}return h}}return{lo:0,hi:r.length-1}}function Rl(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=r.length;o<l;++o){const{index:u,data:h}=r[o],{lo:d,hi:f}=YA(r[o],e,a,i);for(let g=d;g<=f;++g){const m=h[g];m.skip||s(m,u,g)}}}function KA(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,a=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Vd(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Rl(t,n,e,function(o,l,u){!i&&!Kw(o,t.chartArea,0)||o.inRange(e.x,e.y,s)&&r.push({element:o,datasetIndex:l,index:u})},!0),r}function ZA(t,e,n,s){let i=[];function r(a,o,l){const{startAngle:u,endAngle:h}=a.getProps(["startAngle","endAngle"],s),{angle:d}=Ww(a,{x:e.x,y:e.y});Mu(d,u,h)&&i.push({element:a,datasetIndex:o,index:l})}return Rl(t,n,e,r),i}function qA(t,e,n,s,i,r){let a=[];const o=KA(n);let l=Number.POSITIVE_INFINITY;function u(h,d,f){const g=h.inRange(e.x,e.y,i);if(s&&!g)return;const m=h.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!g)return;const _=o(e,m);_<l?(a=[{element:h,datasetIndex:d,index:f}],l=_):_===l&&a.push({element:h,datasetIndex:d,index:f})}return Rl(t,n,e,u),a}function Ud(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?ZA(t,e,n,i):qA(t,e,n,s,i,r)}function Oy(t,e,n,s,i){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Rl(t,n,e,(l,u,h)=>{l[a]&&l[a](e[n],i)&&(r.push({element:l,datasetIndex:u,index:h}),o=o||l.inRange(e.x,e.y,i))}),s&&!o?[]:r}var JA={evaluateInteractionItems:Rl,modes:{index(t,e,n,s){const i=Ti(e,t),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Vd(t,i,r,s,a):Ud(t,i,r,!1,s,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=o[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,n,s){const i=Ti(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Vd(t,i,r,s,a):Ud(t,i,r,!1,s,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let h=0;h<u.length;++h)o.push({element:u[h],datasetIndex:l,index:h})}return o},point(t,e,n,s){const i=Ti(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return Vd(t,i,r,s,a)},nearest(t,e,n,s){const i=Ti(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return Ud(t,i,r,n.intersect,s,a)},x(t,e,n,s){const i=Ti(e,t);return Oy(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Ti(e,t);return Oy(t,i,"y",n.intersect,s)}}};const a2=["left","top","right","bottom"];function Ha(t,e){return t.filter(n=>n.pos===e)}function Fy(t,e){return t.filter(n=>a2.indexOf(n.pos)===-1&&n.box.axis===e)}function Xa(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function QA(t){const e=[];let n,s,i,r,a,o;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:o});return e}function eL(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!a2.includes(i))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function tL(t,e){const n=eL(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,a,o;for(r=0,a=t.length;r<a;++r){o=t[r];const{fullSize:l}=o.box,u=n[o.stack],h=u&&o.stackWeight/u.weight;o.horizontal?(o.width=h?h*s:l&&e.availableWidth,o.height=i):(o.width=s,o.height=h?h*i:l&&e.availableHeight)}return n}function nL(t){const e=QA(t),n=Xa(e.filter(u=>u.box.fullSize),!0),s=Xa(Ha(e,"left"),!0),i=Xa(Ha(e,"right")),r=Xa(Ha(e,"top"),!0),a=Xa(Ha(e,"bottom")),o=Fy(e,"x"),l=Fy(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Ha(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(a).concat(o)}}function zy(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function o2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sL(t,e,n,s){const{pos:i,box:r}=n,a=t.maxPadding;if(!se(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&o2(a,r.getPadding());const o=Math.max(0,e.outerWidth-zy(a,t,"left","right")),l=Math.max(0,e.outerHeight-zy(a,t,"top","bottom")),u=o!==t.w,h=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:h}:{same:h,other:u}}function iL(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function rL(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return s(t?["left","right"]:["top","bottom"])}function uo(t,e,n,s){const i=[];let r,a,o,l,u,h;for(r=0,a=t.length,u=0;r<a;++r){o=t[r],l=o.box,l.update(o.width||e.w,o.height||e.h,rL(o.horizontal,e));const{same:d,other:f}=sL(e,n,o,s);u|=d&&i.length,h=h||f,l.fullSize||i.push(o)}return u&&uo(i,e,n,s)||h}function xc(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Wy(t,e,n,s){const i=n.padding;let{x:r,y:a}=e;for(const o of t){const l=o.box,u=s[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/u.weight||1;if(o.horizontal){const d=e.w*h,f=u.size||l.height;ol(u.start)&&(a=u.start),l.fullSize?xc(l,i.left,a,n.outerWidth-i.right-i.left,f):xc(l,e.left+u.placed,a,d,f),u.start=a,u.placed+=d,a=l.bottom}else{const d=e.h*h,f=u.size||l.width;ol(u.start)&&(r=u.start),l.fullSize?xc(l,r,i.top,f,n.outerHeight-i.bottom-i.top):xc(l,r,e.top+u.placed,f,d),u.start=r,u.placed+=d,r=l.right}}e.x=r,e.y=a}var an={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=gn(t.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=nL(t.boxes),l=o.vertical,u=o.horizontal;me(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,_)=>_.box.options&&_.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),f=Object.assign({},i);o2(f,gn(s));const g=Object.assign({maxPadding:f,w:r,h:a,x:i.left,y:i.top},i),m=tL(l.concat(u),d);uo(o.fullSize,g,d,m),uo(l,g,d,m),uo(u,g,d,m)&&uo(l,g,d,m),iL(g),Wy(o.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,Wy(o.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},me(o.chartArea,p=>{const _=p.box;Object.assign(_,t.chartArea),_.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class l2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class aL extends l2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fc="$chartjs",oL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},By=t=>t===null||t==="";function lL(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Fc]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",By(i)){const r=Cy(t,"width");r!==void 0&&(t.width=r)}if(By(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Cy(t,"height");r!==void 0&&(t.height=r)}return t}const c2=xA?{passive:!0}:!1;function cL(t,e,n){t&&t.addEventListener(e,n,c2)}function uL(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,c2)}function hL(t,e){const n=oL[t.type]||t.type,{x:s,y:i}=Ti(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Au(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function dL(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Au(o.addedNodes,s),a=a&&!Au(o.removedNodes,s);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function fL(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Au(o.removedNodes,s),a=a&&!Au(o.addedNodes,s);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const cl=new Map;let $y=0;function u2(){const t=window.devicePixelRatio;t!==$y&&($y=t,cl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function gL(t,e){cl.size||window.addEventListener("resize",u2),cl.set(t,e)}function mL(t){cl.delete(t),cl.size||window.removeEventListener("resize",u2)}function pL(t,e,n){const s=t.canvas,i=s&&wp(s);if(!i)return;const r=Uw((o,l)=>{const u=i.clientWidth;n(o,l),u<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||r(u,h)});return a.observe(i),gL(t,r),a}function Gd(t,e,n){n&&n.disconnect(),e==="resize"&&mL(t)}function xL(t,e,n){const s=t.canvas,i=Uw(r=>{t.ctx!==null&&n(hL(r,t))},t);return cL(s,e,i),i}class yL extends l2{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(lL(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Fc])return!1;const s=n[Fc].initial;["height","width"].forEach(r=>{const a=s[r];ye(a)?n.removeAttribute(r):n.setAttribute(r,a)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Fc],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:dL,detach:fL,resize:pL}[n]||xL;i[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Gd,detach:Gd,resize:Gd}[n]||uL)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return pA(e,n,s,i)}isAttached(e){const n=e&&wp(e);return!!(n&&n.isConnected)}}function _L(t){return!bp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aL:yL}class bs{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Tu(this.x)&&Tu(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}K(bs,"defaults",{}),K(bs,"defaultRoutes");function vL(t,e){const n=t.options.ticks,s=bL(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?SL(e):[],a=r.length,o=r[0],l=r[a-1],u=[];if(a>i)return EL(e,u,r,a/i),u;const h=wL(r,e,i);if(a>0){let d,f;const g=a>1?Math.round((l-o)/(a-1)):null;for(yc(e,u,h,ye(g)?0:o-g,o),d=0,f=a-1;d<f;d++)yc(e,u,h,r[d],r[d+1]);return yc(e,u,h,l,ye(g)?e.length:l+g),u}return yc(e,u,h),u}function bL(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function wL(t,e,n){const s=jL(t),i=e.length/n;if(!s)return Math.max(i,1);const r=CP(s);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>i)return l}return Math.max(i,1)}function SL(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function EL(t,e,n,s){let i=0,r=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===r&&(e.push(t[a]),i++,r=n[i*s])}function yc(t,e,n,s,i){const r=ce(s,0),a=Math.min(ce(i,t.length),t.length);let o=0,l,u,h;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),h=r;h<0;)o++,h=Math.round(r+o*n);for(u=Math.max(r,0);u<a;u++)u===h&&(e.push(t[u]),o++,h=Math.round(r+o*n))}function jL(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const NL=t=>t==="left"?"right":t==="right"?"left":t,Vy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Uy=(t,e)=>Math.min(e||t,t);function Gy(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function CL(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(l-r,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<r-o||l>a+o)))return l}function kL(t,e){me(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Ya(t){return t.drawTicks?t.tickLength:0}function Hy(t,e){if(!t.display)return 0;const n=ft(t.font,e),s=gn(t.padding);return(Ue(t.text)?t.text.length:1)*n.lineHeight+s.height}function RL(t,e){return Na(t,{scale:e,type:"scale"})}function TL(t,e,n){return Na(t,{tick:n,index:e,type:"tick"})}function ML(t,e,n){let s=fp(t);return(n&&e!=="right"||!n&&e==="right")&&(s=NL(s)),s}function IL(t,e,n,s){const{top:i,left:r,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,f,g,m;const p=a-i,_=o-r;if(t.isHorizontal()){if(g=ct(s,r,o),se(n)){const x=Object.keys(n)[0],y=n[x];m=h[x].getPixelForValue(y)+p-e}else n==="center"?m=(u.bottom+u.top)/2+p-e:m=Vy(t,n,e);f=o-r}else{if(se(n)){const x=Object.keys(n)[0],y=n[x];g=h[x].getPixelForValue(y)-_+e}else n==="center"?g=(u.left+u.right)/2-_+e:g=Vy(t,n,e);m=ct(s,a,i),d=n==="left"?-He:He}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class Ca extends bs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Pn(e,Number.POSITIVE_INFINITY),n=Pn(n,Number.NEGATIVE_INFINITY),s=Pn(s,Number.POSITIVE_INFINITY),i=Pn(i,Number.NEGATIVE_INFINITY),{min:Pn(e,s),max:Pn(n,i),minDefined:fn(e),maxDefined:fn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),r||(s=Math.max(s,a.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Pn(n,Pn(s,n)),max:Pn(s,Pn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tA(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Gy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=vL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),we(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=we(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Uy(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=At(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/s:g/(s-1),d+6>o&&(o=g/(s-(e.offset?.5:1)),l=this.maxHeight-Ya(e.grid)-n.padding-Hy(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),a=MP(Math.min(Math.asin(At((h.highest.height+6)/o,-1,1)),Math.asin(At(l/u,-1,1))-Math.asin(At(f/u,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Hy(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Ya(r)+l):(e.height=this.maxHeight,e.width=Ya(r)+l),s.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:f}=this._getLabelSizes(),g=s.padding*2,m=cs(this.labelRotation),p=Math.cos(m),_=Math.sin(m);if(o){const x=s.mirror?0:_*d.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+x+g)}else{const x=s.mirror?0:p*d.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+x+g)}this._calculatePadding(u,h,_,p)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?u?(f=i*e.width,g=s*n.height):(f=s*e.height,g=i*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+a)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;r==="start"?(h=0,d=e.height):r==="end"&&(h=n.height,d=0),this.paddingTop=h+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ye(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Gy(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/Uy(n,s));let u=0,h=0,d,f,g,m,p,_,x,y,v,b,w;for(d=0;d<n;d+=l){if(m=e[d].label,p=this._resolveTickFontOptions(d),i.font=_=p.string,x=r[_]=r[_]||{data:{},gc:[]},y=p.lineHeight,v=b=0,!ye(m)&&!Ue(m))v=by(i,x.data,x.gc,v,m),b=y;else if(Ue(m))for(f=0,g=m.length;f<g;++f)w=m[f],!ye(w)&&!Ue(w)&&(v=by(i,x.data,x.gc,v,w),b+=y);a.push(v),o.push(b),u=Math.max(v,u),h=Math.max(b,h)}kL(r,n);const N=a.indexOf(u),S=o.indexOf(h),E=C=>({width:a[C]||0,height:o[C]||0});return{first:E(0),last:E(n-1),widest:E(N),highest:E(S),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PP(this._alignToPixels?ji(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=TL(this.getContext(),e,s))}return this.$context||(this.$context=RL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cs(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*s>o*i?o/s:l/i:l*i<o*s?l/s:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:a,border:o}=i,l=r.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Ya(r),g=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,_=p/2,x=function(z){return ji(s,z,p)};let y,v,b,w,N,S,E,C,k,I,A,D;if(a==="top")y=x(this.bottom),S=this.bottom-f,C=y-_,I=x(e.top)+_,D=e.bottom;else if(a==="bottom")y=x(this.top),I=e.top,D=x(e.bottom)-_,S=y+_,C=this.top+f;else if(a==="left")y=x(this.right),N=this.right-f,E=y-_,k=x(e.left)+_,A=e.right;else if(a==="right")y=x(this.left),k=e.left,A=x(e.right)-_,N=y+_,E=this.left+f;else if(n==="x"){if(a==="center")y=x((e.top+e.bottom)/2+.5);else if(se(a)){const z=Object.keys(a)[0],B=a[z];y=x(this.chart.scales[z].getPixelForValue(B))}I=e.top,D=e.bottom,S=y+_,C=S+f}else if(n==="y"){if(a==="center")y=x((e.left+e.right)/2);else if(se(a)){const z=Object.keys(a)[0],B=a[z];y=x(this.chart.scales[z].getPixelForValue(B))}N=y-_,E=N-f,k=e.left,A=e.right}const O=ce(i.ticks.maxTicksLimit,d),W=Math.max(1,Math.ceil(d/O));for(v=0;v<d;v+=W){const z=this.getContext(v),B=r.setContext(z),R=o.setContext(z),P=B.lineWidth,F=B.color,H=R.dash||[],M=R.dashOffset,xe=B.tickWidth,ae=B.tickColor,oe=B.tickBorderDash||[],fe=B.tickBorderDashOffset;b=CL(this,v,l),b!==void 0&&(w=ji(s,b,P),u?N=E=k=A=w:S=C=I=D=w,g.push({tx1:N,ty1:S,tx2:E,ty2:C,x1:k,y1:I,x2:A,y2:D,width:P,color:F,borderDash:H,borderDashOffset:M,tickWidth:xe,tickColor:ae,tickBorderDash:oe,tickBorderDashOffset:fe}))}return this._ticksLength=d,this._borderValue=y,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=r,f=Ya(s.grid),g=f+h,m=d?-h:g,p=-cs(this.labelRotation),_=[];let x,y,v,b,w,N,S,E,C,k,I,A,D="middle";if(i==="top")N=this.bottom-m,S=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+m,S=this._getXAxisLabelAlignment();else if(i==="left"){const W=this._getYAxisLabelAlignment(f);S=W.textAlign,w=W.x}else if(i==="right"){const W=this._getYAxisLabelAlignment(f);S=W.textAlign,w=W.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+g;else if(se(i)){const W=Object.keys(i)[0],z=i[W];N=this.chart.scales[W].getPixelForValue(z)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-g;else if(se(i)){const W=Object.keys(i)[0],z=i[W];w=this.chart.scales[W].getPixelForValue(z)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const O=this._getLabelSizes();for(x=0,y=o.length;x<y;++x){v=o[x],b=v.label;const W=r.setContext(this.getContext(x));E=this.getPixelForTick(x)+r.labelOffset,C=this._resolveTickFontOptions(x),k=C.lineHeight,I=Ue(b)?b.length:1;const z=I/2,B=W.color,R=W.textStrokeColor,P=W.textStrokeWidth;let F=S;a?(w=E,S==="inner"&&(x===y-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?u==="near"||p!==0?A=-I*k+k/2:u==="center"?A=-O.highest.height/2-z*k+k:A=-O.highest.height+k/2:u==="near"||p!==0?A=k/2:u==="center"?A=O.highest.height/2-z*k:A=O.highest.height-I*k,d&&(A*=-1),p!==0&&!W.showLabelBackdrop&&(w+=k/2*Math.sin(p))):(N=E,A=(1-I)*k/2);let H;if(W.showLabelBackdrop){const M=gn(W.backdropPadding),xe=O.heights[x],ae=O.widths[x];let oe=A-M.top,fe=0-M.left;switch(D){case"middle":oe-=xe/2;break;case"bottom":oe-=xe;break}switch(S){case"center":fe-=ae/2;break;case"right":fe-=ae;break;case"inner":x===y-1?fe-=ae:x>0&&(fe-=ae/2);break}H={left:fe,top:oe,width:ae+M.width,height:xe+M.height,color:W.backdropColor}}_.push({label:b,font:C,textOffset:A,options:{rotation:p,color:B,strokeColor:R,strokeWidth:P,textAlign:F,textBaseline:D,translation:[w,N],backdrop:H}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cs(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),o=e+r,l=a.widest.width;let u,h;return n==="left"?i?(h=this.right+r,s==="near"?u="left":s==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-o,s==="near"?u="right":s==="center"?(u="center",h-=l/2):(u="left",h=this.left)):n==="right"?i?(h=this.left+r,s==="near"?u="right":s==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+o,s==="near"?u="left":s==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(l,u,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,a=i.length;r<a;++r){const l=i[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),a=s.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,f;this.isHorizontal()?(u=ji(e,this.left,a)-a/2,h=ji(e,this.right,o)+o/2,d=f=l):(d=ji(e,this.top,a)-a/2,f=ji(e,this.bottom,o)+o/2,u=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&mp(s,i);const r=this.getLabelItems(e);for(const a of r){const o=a.options,l=a.font,u=a.label,h=a.textOffset;ll(s,u,0,h,l,o)}i&&pp(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ft(s.font),a=gn(s.padding),o=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||se(n)?(l+=a.bottom,Ue(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:u,titleY:h,maxWidth:d,rotation:f}=IL(this,l,n,o);ll(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:f,textAlign:ML(o,n,i),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ce(e.grid&&e.grid.z,-1),i=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ca.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[s]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ft(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _c{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;LL(n)&&(s=this.register(n));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,PL(e,a,s),this.override&&Le.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in Le[i]&&(delete Le[i][s],this.override&&delete nr[s])}}function PL(t,e,n){const s=al(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,s),t.defaultRoutes&&AL(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function AL(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Le.route(r,i,l,o)})}function LL(t){return"id"in t&&"defaults"in t}class DL{constructor(){this.controllers=new _c(ta,"datasets",!0),this.elements=new _c(bs,"elements"),this.plugins=new _c(Object,"plugins"),this.scales=new _c(Ca,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):me(i,a=>{const o=s||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,s){const i=hp(e);we(s["before"+i],[],s),n[e](s),we(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Dn=new DL;class OL{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,i){i=i||{};for(const r of e){const a=r.plugin,o=a[s],l=[n,i,r.options];if(we(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ce(s.options&&s.options.plugins,{}),r=FL(s);return i===!1&&!n?[]:WL(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function FL(t){const e={},n=[],s=Object.keys(Dn.plugins.items);for(let r=0;r<s.length;r++)n.push(Dn.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function zL(t,e){return!e&&t===!1?null:t===!0?{}:t}function WL(t,{plugins:e,localIds:n},s,i){const r=[],a=t.getContext();for(const o of e){const l=o.id,u=zL(s[l],i);u!==null&&r.push({plugin:o,options:BL(t.config,{plugin:o,local:n[l]},u,a)})}return r}function BL(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(s,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hg(t,e){const n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $L(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function VL(t,e){return t===e?"_index_":"_value_"}function Xy(t){if(t==="x"||t==="y"||t==="r")return t}function UL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dg(t,...e){if(Xy(t))return t;for(const n of e){const s=n.axis||UL(n.position)||t.length>1&&Xy(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Yy(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function GL(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Yy(t,"x",n[0])||Yy(t,"y",n[0])}return{}}function HL(t,e){const n=nr[t.type]||{scales:{}},s=e.scales||{},i=hg(t.type,e),r=Object.create(null);return Object.keys(s).forEach(a=>{const o=s[a];if(!se(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=dg(a,o,GL(a,t),Le.scales[o.type]),u=VL(l,i),h=n.scales||{};r[a]=No(Object.create(null),[{axis:l},o,h[l],h[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||hg(o,e),h=(nr[o]||{}).scales||{};Object.keys(h).forEach(d=>{const f=$L(d,l),g=a[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),No(r[g],[{axis:f},s[g],h[d]])})}),Object.keys(r).forEach(a=>{const o=r[a];No(o,[Le.scales[o.type],Le.scale])}),r}function h2(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=HL(t,e)}function d2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function XL(t){return t=t||{},t.data=d2(t.data),h2(t),t}const Ky=new Map,f2=new Set;function vc(t,e){let n=Ky.get(t);return n||(n=e(),Ky.set(t,n),f2.add(n)),n}const Ka=(t,e,n)=>{const s=tr(e,n);s!==void 0&&t.add(s)};class YL{constructor(e){this._config=XL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=d2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),h2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return vc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,a=this._cachedScopes(e,s),o=a.get(n);if(o)return o;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>Ka(l,e,d))),h.forEach(d=>Ka(l,i,d)),h.forEach(d=>Ka(l,nr[r]||{},d)),h.forEach(d=>Ka(l,Le,d)),h.forEach(d=>Ka(l,cg,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),f2.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,nr[n]||{},Le.datasets[n]||{},{type:n},Le,cg]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=Zy(this._resolverCache,e,i);let l=a;if(ZL(a,n)){r.$shared=!1,s=di(s)?s():s;const u=this.createResolver(e,s,o);l=xa(a,s,u)}for(const u of n)r[u]=l[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Zy(this._resolverCache,e,s);return se(n)?xa(r,n,void 0,i):r}}function Zy(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:yp(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(i,r)),r}const KL=t=>se(t)&&Object.getOwnPropertyNames(t).some(e=>di(t[e]));function ZL(t,e){const{isScriptable:n,isIndexable:s}=qw(t);for(const i of e){const r=n(i),a=s(i),o=(a||r)&&t[i];if(r&&(di(o)||KL(o))||a&&Ue(o))return!0}return!1}var qL="4.4.9";const JL=["top","bottom","left","right","chartArea"];function qy(t,e){return t==="top"||t==="bottom"||JL.indexOf(t)===-1&&e==="x"}function Jy(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Qy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),we(n&&n.onComplete,[t],e)}function QL(t){const e=t.chart,n=e.options.animation;we(n&&n.onProgress,[t],e)}function g2(t){return bp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const zc={},e_=t=>{const e=g2(t);return Object.values(zc).filter(n=>n.canvas===e).pop()};function eD(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const a=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=a)}}}function tD(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Ps;let Tl=(Ps=class{static register(...e){Dn.add(...e),t_()}static unregister(...e){Dn.remove(...e),t_()}constructor(e,n){const s=this.config=new YL(n),i=g2(e),r=e_(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||_L(i)),this.platform.updateConfig(s);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,h=l&&l.width;if(this.id=_P(),this.ctx=o,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OP(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],zc[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ts.listen(this,"complete",Qy),ts.listen(this,"progress",QL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return ye(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ny(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wy(this.canvas,this.ctx),this}stop(){return ts.stop(this),this}resize(e,n){ts.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,r),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ny(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),we(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};me(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=dg(a,o),u=l==="r",h=l==="x";return{options:o,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),me(r,a=>{const o=a.options,l=o.id,u=dg(l,o),h=ce(o.type,a.dtype);(o.position===void 0||qy(o.position,u)!==qy(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===h)d=s[l];else{const f=Dn.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(o,e)}),me(i,(a,o)=>{a||delete s[o]}),me(s,a=>{an.configure(this,a,a.options),an.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Jy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let a=this.getDatasetMeta(s);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=o,a.indexAxis=r.indexAxis||hg(o,this.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=Dn.getController(o),{datasetElementType:u,dataElementType:h}=Le.datasets[o];Object.assign(l,{dataElementType:Dn.getElement(h),datasetElementType:u&&Dn.getElement(u)}),a.controller=new l(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),i||me(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jy("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){me(this.scales,e=>{an.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!dy(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const a=s==="_removeElements"?-r:r;eD(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!dy(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],me(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,di(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ts.has(this)?this.attached&&!ts.running(this)&&ts.start(this):(this.draw(),Qy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const a=n[i];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=bA(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&mp(n,i),e.controller.draw(),i&&pp(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Kw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=JA.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Na(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);ol(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(r,{visible:s}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ts.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete zc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},i=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};me(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!Cu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),a=r(n,e),o=s?e:r(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,a=n,o=this._getActiveElements(e,i,s,a),l=jP(e),u=tD(e,this._lastEvent,s,l);s&&(this._lastEvent=null,we(r.onHover,[e,o,this],this),l&&we(r.onClick,[e,o,this],this));const h=!Cu(o,i);return(h||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,h}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},K(Ps,"defaults",Le),K(Ps,"instances",zc),K(Ps,"overrides",nr),K(Ps,"registry",Dn),K(Ps,"version",qL),K(Ps,"getChart",e_),Ps);function t_(){return me(Tl.instances,t=>t._plugins.invalidate())}function nD(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:a,outerRadius:o,innerRadius:l}=e;let u=i/o;t.beginPath(),t.arc(r,a,o,s-u,n+u),l>i?(u=i/l,t.arc(r,a,l,n+u,s-u,!0)):t.arc(r,a,i,n+He,s-He),t.closePath(),t.clip()}function sD(t){return xp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iD(t,e,n,s){const i=sD(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,s*e/2),o=l=>{const u=(n-Math.min(r,l))*s/2;return At(l,0,Math.min(r,u))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:At(i.innerStart,0,a),innerEnd:At(i.innerEnd,0,a)}}function wr(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Lu(t,e,n,s,i,r){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:h}=e,d=Math.max(e.outerRadius+s+n-u,0),f=h>0?h+s+n+u:0;let g=0;const m=i-l;if(s){const W=h>0?h-s:0,z=d>0?d-s:0,B=(W+z)/2,R=B!==0?m*B/(B+s):m;g=(m-R)/2}const p=Math.max(.001,m*d-n/We)/d,_=(m-p)/2,x=l+_+g,y=i-_-g,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:N}=iD(e,f,d,y-x),S=d-v,E=d-b,C=x+v/S,k=y-b/E,I=f+w,A=f+N,D=x+w/I,O=y-N/A;if(t.beginPath(),r){const W=(C+k)/2;if(t.arc(a,o,d,C,W),t.arc(a,o,d,W,k),b>0){const P=wr(E,k,a,o);t.arc(P.x,P.y,b,k,y+He)}const z=wr(A,y,a,o);if(t.lineTo(z.x,z.y),N>0){const P=wr(A,O,a,o);t.arc(P.x,P.y,N,y+He,O+Math.PI)}const B=(y-N/f+(x+w/f))/2;if(t.arc(a,o,f,y-N/f,B,!0),t.arc(a,o,f,B,x+w/f,!0),w>0){const P=wr(I,D,a,o);t.arc(P.x,P.y,w,D+Math.PI,x-He)}const R=wr(S,x,a,o);if(t.lineTo(R.x,R.y),v>0){const P=wr(S,C,a,o);t.arc(P.x,P.y,v,x-He,C)}}else{t.moveTo(a,o);const W=Math.cos(C)*d+a,z=Math.sin(C)*d+o;t.lineTo(W,z);const B=Math.cos(k)*d+a,R=Math.sin(k)*d+o;t.lineTo(B,R)}t.closePath()}function rD(t,e,n,s,i){const{fullCircles:r,startAngle:a,circumference:o}=e;let l=e.endAngle;if(r){Lu(t,e,n,s,l,i);for(let u=0;u<r;++u)t.fill();isNaN(o)||(l=a+(o%ze||ze))}return Lu(t,e,n,s,l,i),t.fill(),l}function aD(t,e,n,s,i){const{fullCircles:r,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let m=e.endAngle;if(r){Lu(t,e,n,s,m,i);for(let p=0;p<r;++p)t.stroke();isNaN(o)||(m=a+(o%ze||ze))}g&&nD(t,e,m),r||(Lu(t,e,n,s,m,i),t.stroke())}class ho extends bs{constructor(n){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:a,distance:o}=Ww(r,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,m=ce(f,u-l),p=Mu(a,l,u)&&l!==u,_=m>=ze||p,x=zi(o,h+g,d+g);return _&&x}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,d=(r+a)/2,f=(o+l+h+u)/2;return{x:s+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,a=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>ze?Math.floor(i/ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(We,i||0)),h=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,rD(n,this,h,a,o),aD(n,this,h,a,o),n.restore()}}K(ho,"id","arc"),K(ho,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),K(ho,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(ho,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function m2(t,e){const{x:n,y:s,base:i,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,h,d;return t.horizontal?(d=a/2,o=Math.min(n,i),l=Math.max(n,i),u=s-d,h=s+d):(d=r/2,o=n-d,l=n+d,u=Math.min(s,i),h=Math.max(s,i)),{left:o,top:u,right:l,bottom:h}}function Xs(t,e,n,s){return t?0:At(e,n,s)}function oD(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Zw(s);return{t:Xs(i.top,r.top,0,n),r:Xs(i.right,r.right,0,e),b:Xs(i.bottom,r.bottom,0,n),l:Xs(i.left,r.left,0,e)}}function lD(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Qr(i),a=Math.min(e,n),o=t.borderSkipped,l=s||se(i);return{topLeft:Xs(!l||o.top||o.left,r.topLeft,0,a),topRight:Xs(!l||o.top||o.right,r.topRight,0,a),bottomLeft:Xs(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:Xs(!l||o.bottom||o.right,r.bottomRight,0,a)}}function cD(t){const e=m2(t),n=e.right-e.left,s=e.bottom-e.top,i=oD(t,n/2,s/2),r=lD(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Hd(t,e,n,s){const i=e===null,r=n===null,o=t&&!(i&&r)&&m2(t,s);return o&&(i||zi(e,o.left,o.right))&&(r||zi(n,o.top,o.bottom))}function uD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function hD(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xd(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+a,radius:t.radius}}class Wc extends bs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:a}=cD(this),o=uD(a.radius)?Iu:hD;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),o(e,Xd(a,n,r)),e.clip(),o(e,Xd(r,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),o(e,Xd(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Hd(this,e,n,s)}inXRange(e,n){return Hd(this,e,null,n)}inYRange(e,n){return Hd(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}K(Wc,"id","bar"),K(Wc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(Wc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const n_=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},dD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class s_ extends bs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=we(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=ft(s.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=n_(s,r);let u,h;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(a,r,o,l)+10):(h=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=i+o;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((m,p)=>{const _=s+n/2+r.measureText(m.text).width;(p===0||u[u.length-1]+_+2*o>a)&&(d+=h,u[u.length-(p>0?0:1)]=0,g+=h,f++),l[p]={left:0,top:g,row:f,width:_,height:i},u[u.length-1]+=_+o}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=a-e;let d=o,f=0,g=0,m=0,p=0;return this.legendItems.forEach((_,x)=>{const{itemWidth:y,itemHeight:v}=fD(s,n,r,_,i);x>0&&g+v+2*o>h&&(d+=f+o,u.push({width:f,height:g}),m+=f+o,p++,f=g=0),l[x]={left:m,top:g,col:p,width:y,height:v},f=Math.max(f,y),g+=v+o}),d+=f,u.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,a=ea(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=ct(s,this.left+i,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=ct(s,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=ct(s,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=ct(s,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;mp(e,this),this._draw(),pp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:a}=e,o=Le.color,l=ea(e.rtl,this.left,this.width),u=ft(a.font),{padding:h}=a,d=u.size,f=d/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:m,boxHeight:p,itemHeight:_}=n_(a,d),x=function(N,S,E){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const C=ce(E.lineWidth,1);if(i.fillStyle=ce(E.fillStyle,o),i.lineCap=ce(E.lineCap,"butt"),i.lineDashOffset=ce(E.lineDashOffset,0),i.lineJoin=ce(E.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=ce(E.strokeStyle,o),i.setLineDash(ce(E.lineDash,[])),a.usePointStyle){const k={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:C},I=l.xPlus(N,m/2),A=S+f;Yw(i,k,I,A,a.pointStyleWidth&&m)}else{const k=S+Math.max((d-p)/2,0),I=l.leftForLtr(N,m),A=Qr(E.borderRadius);i.beginPath(),Object.values(A).some(D=>D!==0)?Iu(i,{x:I,y:k,w:m,h:p,radius:A}):i.rect(I,k,m,p),i.fill(),C!==0&&i.stroke()}i.restore()},y=function(N,S,E){ll(i,E.text,N,S+_/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},v=this.isHorizontal(),b=this._computeTitleHeight();v?g={x:ct(r,this.left+h,this.right-s[0]),y:this.top+h+b,line:0}:g={x:this.left+h,y:ct(r,this.top+b+h,this.bottom-n[0].height),line:0},t2(this.ctx,e.textDirection);const w=_+h;this.legendItems.forEach((N,S)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const E=i.measureText(N.text).width,C=l.textAlign(N.textAlign||(N.textAlign=a.textAlign)),k=m+f+E;let I=g.x,A=g.y;l.setWidth(this.width),v?S>0&&I+k+h>this.right&&(A=g.y+=w,g.line++,I=g.x=ct(r,this.left+h,this.right-s[g.line])):S>0&&A+w>this.bottom&&(I=g.x=I+n[g.line].width+h,g.line++,A=g.y=ct(r,this.top+b+h,this.bottom-n[g.line].height));const D=l.x(I);if(x(D,A,N),I=FP(C,I+m+f,v?I+k:this.right,e.rtl),y(l.x(I),A,N),v)g.x+=k+h;else if(typeof N.text!="string"){const O=u.lineHeight;g.y+=p2(N,O)+h}else g.y+=w}),n2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ft(n.font),i=gn(n.padding);if(!n.display)return;const r=ea(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=s.size/2,u=i.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,d=ct(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((p,_)=>Math.max(p,_.height),0);h=u+ct(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=ct(o,d,d+f);a.textAlign=r.textAlign(fp(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,ll(a,n.text,g,h,s)}_computeTitleHeight(){const e=this.options.title,n=ft(e.font),s=gn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(zi(e,this.left,this.right)&&zi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],zi(e,i.left,i.left+i.width)&&zi(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!pD(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=dD(i,s);i&&!r&&we(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&we(n.onHover,[e,s,this],this)}else s&&we(n.onClick,[e,s,this],this)}}function fD(t,e,n,s,i){const r=gD(s,t,e,n),a=mD(i,s,e.lineHeight);return{itemWidth:r,itemHeight:a}}function gD(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+s.measureText(i).width}function mD(t,e,n){let s=t;return typeof e.text!="string"&&(s=p2(e,n)),s}function p2(t,e){const n=t.text?t.text.length:0;return e*n}function pD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var x2={id:"legend",_element:s_,start(t,e,n){const s=t.legend=new s_({ctx:t.ctx,options:n,chart:t});an.configure(t,s,n),an.addBox(t,s)},stop(t){an.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;an.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),h=gn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class y2 extends bs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ue(s.text)?s.text.length:1;this._padding=gn(s.padding);const r=i*ft(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:a}=this,o=a.align;let l=0,u,h,d;return this.isHorizontal()?(h=ct(o,s,r),d=n+e,u=r-s):(a.position==="left"?(h=s+e,d=ct(o,i,n),l=We*-.5):(h=r-e,d=ct(o,n,i),l=We*.5),u=i-n),{titleX:h,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ft(n.font),r=s.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(r);ll(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:fp(n.align),textBaseline:"middle",translation:[a,o]})}}function xD(t,e){const n=new y2({ctx:t.ctx,options:e,chart:t});an.configure(t,n,e),an.addBox(t,n),t.titleBlock=n}var yD={id:"title",_element:y2,start(t,e,n){xD(t,n)},stop(t){const e=t.titleBlock;an.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;an.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fo={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((o,l)=>o+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=t.length;r<a;++r){const l=t[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=IP(e,u);h<i&&(i=h,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function An(t,e){return e&&(Ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ns(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _D(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:a,value:o}=r.getLabelAndValue(i);return{chart:t,label:a,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:o,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function i_(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:a,boxHeight:o}=e,l=ft(e.bodyFont),u=ft(e.titleFont),h=ft(e.footerFont),d=r.length,f=i.length,g=s.length,m=gn(e.padding);let p=m.height,_=0,x=s.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const b=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=g*b+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let y=0;const v=function(b){_=Math.max(_,n.measureText(b).width+y)};return n.save(),n.font=u.string,me(t.title,v),n.font=l.string,me(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?a+2+e.boxPadding:0,me(s,b=>{me(b.before,v),me(b.lines,v),me(b.after,v)}),y=0,n.font=h.string,me(t.footer,v),n.restore(),_+=m.width,{width:_,height:p}}function vD(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function bD(t,e,n,s){const{x:i,width:r}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&i+r+a>e.width||t==="right"&&i-r-a<0)return!0}function wD(t,e,n,s){const{x:i,width:r}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return s==="center"?u=i<=(o+l)/2?"left":"right":i<=r/2?u="left":i>=a-r/2&&(u="right"),bD(u,t,e,n)&&(u="center"),u}function r_(t,e,n){const s=n.yAlign||e.yAlign||vD(t,n);return{xAlign:n.xAlign||e.xAlign||wD(t,e,n,s),yAlign:s}}function SD(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function ED(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function a_(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=i+r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Qr(a);let m=SD(e,o);const p=ED(e,l,u);return l==="center"?o==="left"?m+=u:o==="right"&&(m-=u):o==="left"?m-=Math.max(h,f)+i:o==="right"&&(m+=Math.max(d,g)+i),{x:At(m,0,s.width-e.width),y:At(p,0,s.height-e.height)}}function bc(t,e,n){const s=gn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function o_(t){return An([],ns(t))}function jD(t,e,n){return Na(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function l_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _2={beforeTitle:Jn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function St(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?_2[e].call(n,s):i}class fg extends bs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new s2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=jD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=St(s,"beforeTitle",this,e),r=St(s,"title",this,e),a=St(s,"afterTitle",this,e);let o=[];return o=An(o,ns(i)),o=An(o,ns(r)),o=An(o,ns(a)),o}getBeforeBody(e,n){return o_(St(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return me(e,r=>{const a={before:[],lines:[],after:[]},o=l_(s,r);An(a.before,ns(St(o,"beforeLabel",this,r))),An(a.lines,St(o,"label",this,r)),An(a.after,ns(St(o,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,n){return o_(St(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=St(s,"beforeFooter",this,e),r=St(s,"footer",this,e),a=St(s,"afterFooter",this,e);let o=[];return o=An(o,ns(i)),o=An(o,ns(r)),o=An(o,ns(a)),o}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(_D(this.chart,n[l]));return e.filter&&(o=o.filter((h,d,f)=>e.filter(h,d,f,s))),e.itemSort&&(o=o.sort((h,d)=>e.itemSort(h,d,s))),me(o,h=>{const d=l_(e.callbacks,h);i.push(St(d,"labelColor",this,h)),r.push(St(d,"labelPointStyle",this,h)),a.push(St(d,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const o=fo[s.position].call(this,i,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const l=this._size=i_(this,s),u=Object.assign({},o,l),h=r_(this.chart,s,u),d=a_(s,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=s,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=Qr(o),{x:f,y:g}=e,{width:m,height:p}=n;let _,x,y,v,b,w;return r==="center"?(b=g+p/2,i==="left"?(_=f,x=_-a,v=b+a,w=b-a):(_=f+m,x=_+a,v=b-a,w=b+a),y=_):(i==="left"?x=f+Math.max(l,h)+a:i==="right"?x=f+m-Math.max(u,d)-a:x=this.caretX,r==="top"?(v=g,b=v-a,_=x-a,y=x+a):(v=g+p,b=v+a,_=x+a,y=x-a),w=v),{x1:_,x2:x,x3:y,y1:v,y2:b,y3:w}}drawTitle(e,n,s){const i=this.title,r=i.length;let a,o,l;if(r){const u=ea(s.rtl,this.x,this.width);for(e.x=bc(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",a=ft(s.titleFont),o=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,l=0;l<r;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===r&&(e.y+=s.titleMarginBottom-o)}}_drawColorBox(e,n,s,i,r){const a=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=r,h=ft(r.bodyFont),d=bc(this,"left",r),f=i.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,m=n.y+g;if(r.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},_=i.leftForLtr(f,u)+u/2,x=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Sy(e,p,_,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Sy(e,p,_,x)}else{e.lineWidth=se(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(f,u),_=i.leftForLtr(i.xPlus(f,1),u-2),x=Qr(a.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Iu(e,{x:p,y:m,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Iu(e,{x:_,y:m+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,m,u,l),e.strokeRect(p,m,u,l),e.fillStyle=a.backgroundColor,e.fillRect(_,m+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:h}=s,d=ft(s.bodyFont);let f=d.lineHeight,g=0;const m=ea(s.rtl,this.x,this.width),p=function(E){n.fillText(E,m.x(e.x+g),e.y+f/2),e.y+=f+r},_=m.textAlign(a);let x,y,v,b,w,N,S;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=bc(this,_,s),n.fillStyle=s.bodyColor,me(this.beforeBody,p),g=o&&_!=="right"?a==="center"?u/2+h:u+2+h:0,b=0,N=i.length;b<N;++b){for(x=i[b],y=this.labelTextColors[b],n.fillStyle=y,me(x.before,p),v=x.lines,o&&v.length&&(this._drawColorBox(n,e,b,m,s),f=Math.max(d.lineHeight,l)),w=0,S=v.length;w<S;++w)p(v[w]),f=d.lineHeight;me(x.after,p)}g=0,f=d.lineHeight,me(this.afterBody,p),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let a,o;if(r){const l=ea(s.rtl,this.x,this.width);for(e.x=bc(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",a=ft(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:h}=s,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=Qr(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,s,i),n.lineTo(o+u-f,l),n.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(o+u,l+h-m),n.quadraticCurveTo(o+u,l+h,o+u-m,l+h),a==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(o+g,l+h),n.quadraticCurveTo(o,l+h,o,l+h-g),a==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const a=fo[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=i_(this,e),l=Object.assign({},a,this._size),u=r_(n,e,l),h=a_(e,l,u,n);(i._to!==h.x||r._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=gn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),t2(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),n2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),r=!Cu(s,i),a=this._positionChanged(i,n);(r||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,s),o=this._positionChanged(a,e),l=n||!Cu(a,r)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,a=fo[r.position].call(this,e,n);return a!==!1&&(s!==a.x||i!==a.y)}}K(fg,"positioners",fo);var v2={id:"tooltip",_element:fg,positioners:fo,afterInit(t,e,n){n&&(t.tooltip=new fg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ND=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function CD(t,e,n,s){const i=t.indexOf(e);if(i===-1)return ND(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const kD=(t,e)=>t===null?null:At(Math.round(t),0,e);function c_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gg extends Ca{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ye(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:CD(s,e,ce(n,e),this._addedLabels),kD(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return c_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}K(gg,"id","category"),K(gg,"defaults",{ticks:{callback:c_}});function RD(t,e){const n=[],{bounds:i,step:r,min:a,max:o,precision:l,count:u,maxTicks:h,maxDigits:d,includeBounds:f}=t,g=r||1,m=h-1,{min:p,max:_}=e,x=!ye(a),y=!ye(o),v=!ye(u),b=(_-p)/(d+1);let w=gy((_-p)/m/g)*g,N,S,E,C;if(w<1e-14&&!x&&!y)return[{value:p},{value:_}];C=Math.ceil(_/w)-Math.floor(p/w),C>m&&(w=gy(C*w/m/g)*g),ye(l)||(N=Math.pow(10,l),w=Math.ceil(w*N)/N),i==="ticks"?(S=Math.floor(p/w)*w,E=Math.ceil(_/w)*w):(S=p,E=_),x&&y&&r&&RP((o-a)/r,w/1e3)?(C=Math.round(Math.min((o-a)/w,h)),w=(o-a)/C,S=a,E=o):v?(S=x?a:S,E=y?o:E,C=u-1,w=(E-S)/C):(C=(E-S)/w,Dc(C,Math.round(C),w/1e3)?C=Math.round(C):C=Math.ceil(C));const k=Math.max(my(w),my(S));N=Math.pow(10,ye(l)?k:l),S=Math.round(S*N)/N,E=Math.round(E*N)/N;let I=0;for(x&&(f&&S!==a?(n.push({value:a}),S<a&&I++,Dc(Math.round((S+I*w)*N)/N,a,u_(a,b,t))&&I++):S<a&&I++);I<C;++I){const A=Math.round((S+I*w)*N)/N;if(y&&A>o)break;n.push({value:A})}return y&&f&&E!==o?n.length&&Dc(n[n.length-1].value,o,u_(o,b,t))?n[n.length-1].value=o:n.push({value:o}):(!y||E===o)&&n.push({value:E}),n}function u_(t,e,{horizontal:n,minRotation:s}){const i=cs(s),r=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class TD extends Ca{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const a=l=>i=n?i:l,o=l=>r=s?r:l;if(e){const l=ai(i),u=ai(r);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);o(r+l),e||a(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=RD(i,r);return e.bounds==="ticks"&&TP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return gp(e,this.chart.options.locale,this.options.ticks.format)}}class mg extends TD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=fn(e)?e:0,this.max=fn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=cs(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}K(mg,"id","linear"),K(mg,"defaults",{ticks:{callback:Xw.formatters.numeric}});const Ch={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(Ch);function h_(t,e){return t-e}function d_(t,e){if(ye(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),fn(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Tu(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,i)),+a)}function f_(t,e,n,s){const i=Mt.length;for(let r=Mt.indexOf(t);r<i-1;++r){const a=Ch[Mt[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=s)return Mt[r]}return Mt[i-1]}function MD(t,e,n,s,i){for(let r=Mt.length-1;r>=Mt.indexOf(n);r--){const a=Mt[r];if(Ch[a].common&&t._adapter.diff(i,s,a)>=e-1)return a}return Mt[n?Mt.indexOf(n):0]}function ID(t){for(let e=Mt.indexOf(t)+1,n=Mt.length;e<n;++e)if(Ch[Mt[e]].common)return Mt[e]}function g_(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=dp(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function PD(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),a=e[e.length-1].value;let o,l;for(o=r;o<=a;o=+i.add(o,1,s))l=n[o],l>=0&&(e[l].major=!0);return e}function m_(t,e,n){const s=[],i={},r=e.length;let a,o;for(a=0;a<r;++a)o=e[a],i[o]=a,s.push({value:o,major:!1});return r===0||!n?s:PD(t,s,i,n)}class Du extends Ca{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new XA._date(e.adapters.date);i.init(n),No(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:d_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=fn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=fn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,o=LP(i,r,a);return this._unit=n.unit||(s.autoSkip?f_(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):MD(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:ID(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),m_(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=At(n,0,a),s=At(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,a=r.unit||f_(r.minUnit,n,s,this._getLabelCapacity(n)),o=ce(i.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,u=Tu(l)||l===!0,h={};let d=n,f,g;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":a),e.diff(s,n,a)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<s;f=+e.add(f,o,a),g++)g_(h,f,m);return(f===s||i.bounds==="ticks"||g===1)&&g_(h,f,m),Object.keys(h).sort(h_).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,a=n||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,i){const r=this.options,a=r.ticks.callback;if(a)return we(a,[e,n,s],this);const o=r.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&o[l],d=u&&o[u],f=s[n],g=u&&d&&f&&f.major;return this._adapter.format(e,i||(g?d:h))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=cs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:s*r+o*a,h:s*a+o*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,m_(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(d_(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $w(e.sort(h_))}}K(Du,"id","time"),K(Du,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wc(t,e,n){let s=0,i=t.length-1,r,a,o,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=lg(t,"pos",e)),{pos:r,time:o}=t[s],{pos:a,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=lg(t,"time",e)),{time:r,pos:o}=t[s],{time:a,pos:l}=t[i]);const u=a-r;return u?o+(l-o)*(e-r)/u:o}class p_ extends Du{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=wc(n,this.min),this._tableRange=wc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let a,o,l,u,h;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,o=i.length;a<o;++a)h=i[a+1],l=i[a-1],u=i[a],Math.round((h+l)/2)!==u&&r.push({time:u,pos:a/(o-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(wc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return wc(this._table,s*this._tableRange+this._minPos,!0)}}K(p_,"id","timeseries"),K(p_,"defaults",Du.defaults);const b2="label";function x_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function AD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function w2(t,e){t.labels=e}function S2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b2;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(a=>a[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function LD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b2;const n={labels:[],datasets:[]};return w2(n,t.labels),S2(n,t.datasets,e),n}function DD(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,g=j.useRef(null),m=j.useRef(null),p=()=>{g.current&&(m.current=new Tl(g.current,{type:a,data:LD(o,r),options:l&&{...l},plugins:u}),x_(e,m.current))},_=()=>{x_(e,null),m.current&&(m.current.destroy(),m.current=null)};return j.useEffect(()=>{!i&&m.current&&l&&AD(m.current,l)},[i,l]),j.useEffect(()=>{!i&&m.current&&w2(m.current.config.data,o.labels)},[i,o.labels]),j.useEffect(()=>{!i&&m.current&&o.datasets&&S2(m.current.config.data,o.datasets,r)},[i,o.datasets]),j.useEffect(()=>{m.current&&(i?(_(),setTimeout(p)):m.current.update(d))},[i,l,o.labels,o.datasets,d]),j.useEffect(()=>{m.current&&(_(),setTimeout(p))},[a]),j.useEffect(()=>(p(),()=>_()),[]),_e.createElement("canvas",{ref:g,role:"img",height:n,width:s,...f},h)}const OD=j.forwardRef(DD);function E2(t,e){return Tl.register(e),j.forwardRef((n,s)=>_e.createElement(OD,{...n,ref:s,type:t}))}const FD=E2("bar",Oc),zD=E2("pie",ug),y_=[{name:"Mediterranean Bowl",price:12.99,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",createdAt:"2023-01-15",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Avocado Toast",price:9.99,image:"https://images.pexels.com/photos/1351238/pexels-photo-1351238.jpeg",createdAt:"2023-02-03",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Protein Powerhouse",price:13.99,image:"https://images.pexels.com/photos/361184/asparagus-steak-veal-steak-veal-361184.jpeg",createdAt:"2023-02-15",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Green Detox Smoothie",price:7.99,image:"https://images.pexels.com/photos/1346347/pexels-photo-1346347.jpeg",createdAt:"2023-03-01",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Salmon Poke Bowl",price:14.99,image:"https://images.pexels.com/photos/842571/pexels-photo-842571.jpeg",createdAt:"2023-03-10",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Vegan Caesar Salad",price:11.99,image:"https://images.pexels.com/photos/406152/pexels-photo-406152.jpeg",createdAt:"2023-03-18",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Berry Breakfast Bowl",price:8.99,image:"https://images.pexels.com/photos/1092730/pexels-photo-1092730.jpeg",createdAt:"2023-04-05",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]},{name:"Thai Chicken Wrap",price:10.99,image:"https://images.pexels.com/photos/2338407/pexels-photo-2338407.jpeg",createdAt:"2023-04-12",about:"",allergens:[],categoryReference:{id:"",name:""},forPeople:2,id:"",ingredients:[],restauranteReference:{id:"",name:""},tags:[]}],__=[{id:3,menuId:2,userName:"Emma L.",text:"Best avocado toast in town! The microgreens add such a nice touch.",rating:5,isPositive:!0,createdAt:"2023-04-15"},{id:4,menuId:3,userName:"Jason K.",text:"The chicken was dry and overcooked. Disappointing.",rating:2,isPositive:!1,createdAt:"2023-04-22"},{id:5,menuId:4,userName:"Linda M.",text:"Perfect post-workout drink! Love the protein boost.",rating:5,isPositive:!0,createdAt:"2023-04-10"},{id:6,menuId:5,userName:"David W.",text:"Fresh fish and great sauce. Could use a bit more avocado though.",rating:4,isPositive:!0,createdAt:"2023-04-21"},{id:7,menuId:6,userName:"Rachel P.",text:"As a vegan, I appreciate the effort but the dressing lacked flavor.",rating:3,isPositive:!1,createdAt:"2023-04-16"},{id:8,menuId:4,userName:"Thomas B.",text:"Way too sweet for my taste. Needs more greens and less banana.",rating:2,isPositive:!1,createdAt:"2023-04-18"}],WD=()=>({labels:y_.slice(0,5).map(t=>t.name),datasets:[{label:"Views",data:y_.slice(0,5).map(t=>t.price),backgroundColor:["rgba(34, 197, 94, 0.7)","rgba(249, 115, 22, 0.7)","rgba(59, 130, 246, 0.7)","rgba(168, 85, 247, 0.7)","rgba(236, 72, 153, 0.7)"],borderWidth:1}]}),BD=()=>{const t=__.filter(n=>n.isPositive).length,e=__.filter(n=>!n.isPositive).length;return{labels:["Positive","Negative"],datasets:[{data:[t,e],backgroundColor:["rgba(34, 197, 94, 0.7)","rgba(239, 68, 68, 0.7)"],borderWidth:1}]}};Tl.register(ho,v2,x2);const $D=()=>{const t=BD(),e={responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(n){const s=n.label||"",i=n.raw||0,a=n.dataset.data.reduce((l,u)=>l+u,0),o=Math.round(i/a*100);return`${s}: ${i} (${o}%)`}}}}};return c.jsxs("div",{className:"max-h-80 w-full flex justify-center",children:[c.jsx(zD,{data:t,options:e}),c.jsx("div",{className:"mt-4 grid grid-cols-2 gap-4 text-center"})]})};Tl.register(gg,mg,Wc,yD,v2,x2);const VD=()=>{const t=WD(),e={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(n){const s=n.dataset.label||"",i=n.raw||0;return`${s}: ${i.toLocaleString()} views`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Views"},ticks:{callback:function(n){return n>=1e3?(n/1e3).toFixed(1)+"k":n}}},x:{ticks:{maxRotation:45,minRotation:45}}}};return c.jsx(FD,{data:t,options:e})},UD=()=>c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(Gn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Análisis"}),c.jsx("div",{children:c.jsxs("button",{className:"btn btn-primary",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Export Data"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Je,{title:"Análisis de comentarios",action:c.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:c.jsx($x,{className:"h-4 w-4"})}),children:c.jsx($D,{})}),c.jsx(Je,{title:"Menu Views Comparison",action:c.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:c.jsx($x,{className:"h-4 w-4"})}),children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx(VD,{})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Je,{title:"Customer Insights",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Most Viewed By"}),c.jsx("span",{className:"text-sm text-gray-500",children:"Past 30 days"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Female (25-34)"}),c.jsx("span",{className:"text-sm font-medium",children:"32%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"32%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Male (25-34)"}),c.jsx("span",{className:"text-sm font-medium",children:"28%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"28%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Female (18-24)"}),c.jsx("span",{className:"text-sm font-medium",children:"18%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"18%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Male (18-24)"}),c.jsx("span",{className:"text-sm font-medium",children:"15%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"15%"}})})]})]})]})}),c.jsx(Je,{title:"Popular Keywords",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"From Comments"}),c.jsx("span",{className:"text-sm text-gray-500",children:"Past 30 days"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"fresh"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"delicious"}),c.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-800 rounded-full text-sm",children:"healthy"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"tasty"}),c.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-800 rounded-full text-sm",children:"nutritious"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"flavorful"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"filling"}),c.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-800 rounded-full text-sm",children:"protein"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"satisfying"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"quick"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"colorful"}),c.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-800 rounded-full text-sm",children:"organic"}),c.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:"clean"})]}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Negative Keywords"}),c.jsx("span",{className:"text-sm text-gray-500",children:"5% of comments"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:"expensive"}),c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:"dry"}),c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:"bland"}),c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:"small portion"})]})]})})]})]})]}),Za=({title:t,changeTemplate:e})=>c.jsxs("button",{onClick:e,className:"w-full flex items-center justify-between hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(rr,{className:"h-4 w-4 text-blue-600"})}),c.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:t})]}),c.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:c.jsx(Lv,{className:"h-4 w-4"})})]}),GD=()=>c.jsx(Je,{title:"Plantillas",className:"mt-6",children:c.jsxs("div",{className:"space-y-3 w-full",children:[c.jsx(Za,{title:"Análisis Diario",changeTemplate:()=>{}}),c.jsx(Za,{title:"Análisis Mensual",changeTemplate:()=>{}}),c.jsx(Za,{title:"Menús Populares",changeTemplate:()=>{}}),c.jsx(Za,{title:"Comentarios Positivos",changeTemplate:()=>{}}),c.jsx(Za,{title:"Comentarios Negativos",changeTemplate:()=>{}})]})}),HD=({setReportBy:t})=>c.jsx(Je,{title:"Tipo de reporte",className:"mb-3",children:c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsx("button",{className:"btn btn-outline flex-1 btn-sm btn-primary",onClick:()=>t("MENU"),children:"Único Menú"}),c.jsx("button",{className:"btn btn-outline flex-1 btn-sm btn-primary",onClick:()=>t("MENUS"),children:"Todos Menús"}),c.jsx("button",{className:"btn btn-outline flex-1 btn-sm btn-primary",onClick:()=>t("RESTAURANT"),children:"Restaurante"})]})}),XD=new Date,pg=new Date;pg.setMonth(pg.getMonth()-1);const YD=({})=>{const[t,e]=j.useState({startDate:pg.toISOString().split("T")[0],endDate:XD.toISOString().split("T")[0],includeViews:!0,includeSales:!0,includeComments:!0}),n=i=>{const{name:r,value:a,type:o}=i.target;e({...t,[r]:o==="checkbox"?i.target.checked:a})},s=i=>{i.preventDefault(),console.log("Generating report with params:",t)};return c.jsx(Je,{title:"Reporte por menú",children:c.jsx("form",{onSubmit:s,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Reporte"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeViews",name:"includeViews",checked:t.includeViews,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeViews",className:"ml-2 text-sm text-gray-700",children:"Datos de vistas"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeComments",name:"includeComments",checked:t.includeComments,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeComments",className:"ml-2 text-sm text-gray-700",children:"Datos de comentarios"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),c.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[c.jsx(pm,{className:"h-4 w-4 mr-2"}),"Schedule Report"]})]})]})})})},KD=new Date,xg=new Date;xg.setMonth(xg.getMonth()-1);const ZD=({})=>{const[t,e]=j.useState({startDate:xg.toISOString().split("T")[0],endDate:KD.toISOString().split("T")[0],includeViews:!0,includeSales:!0,includeComments:!0}),n=i=>{const{name:r,value:a,type:o}=i.target;e({...t,[r]:o==="checkbox"?i.target.checked:a})},s=i=>{i.preventDefault(),console.log("Generating report with params:",t)};return c.jsx(Je,{title:"Reporte de todos los menús",children:c.jsx("form",{onSubmit:s,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Reporte"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeViews",name:"includeViews",checked:t.includeViews,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeViews",className:"ml-2 text-sm text-gray-700",children:"Datos de vistas"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeComments",name:"includeComments",checked:t.includeComments,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeComments",className:"ml-2 text-sm text-gray-700",children:"Datos de comentarios"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),c.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[c.jsx(pm,{className:"h-4 w-4 mr-2"}),"Schedule Report"]})]})]})})})},qD=new Date,yg=new Date;yg.setMonth(yg.getMonth()-1);const JD=({})=>{const[t,e]=j.useState({startDate:yg.toISOString().split("T")[0],endDate:qD.toISOString().split("T")[0],includeViews:!0,includeSales:!0,includeComments:!0}),n=i=>{const{name:r,value:a,type:o}=i.target;e({...t,[r]:o==="checkbox"?i.target.checked:a})},s=i=>{i.preventDefault(),console.log("Generating report with params:",t)};return c.jsx(Je,{title:"Reporte del restaurante",children:c.jsx("form",{onSubmit:s,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:n,className:"input pl-10",required:!0}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ki,{className:"h-5 w-5 text-gray-400"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Reporte"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeViews",name:"includeViews",checked:t.includeViews,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeViews",className:"ml-2 text-sm text-gray-700",children:"Datos de vistas"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"includeComments",name:"includeComments",checked:t.includeComments,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"includeComments",className:"ml-2 text-sm text-gray-700",children:"Datos de comentarios"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),c.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[c.jsx(pm,{className:"h-4 w-4 mr-2"}),"Schedule Report"]})]})]})})})},QD=()=>{const[t,e]=j.useState(null);return c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(Gn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),c.jsx("div",{children:c.jsxs("button",{className:"btn btn-primary",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Saved Reports"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(HD,{setReportBy:e}),t==="MENU"?c.jsx(YD,{}):t==="MENUS"?c.jsx(ZD,{}):t==="RESTAURANT"?c.jsx(JD,{}):c.jsx(c.Fragment,{})]}),c.jsx(GD,{})]})]})]})},eO=()=>{const[t,e]=j.useState("table"),[n,s]=j.useState([]),[i,r]=j.useState({}),[a,o]=j.useState(null),[l,u]=j.useState(null),[h,d]=j.useState(""),[f,g]=j.useState(!1),[m,p]=j.useState(0),[_,x]=j.useState(10),[y,v]=j.useState(null),[b,w]=j.useState(!1),N=async S=>{v(S),w(!0)};return j.useEffect(()=>{(async()=>{const E=await new ui().filter({skip:m,take:_,param:h,categoryId:a||"",typeId:l||""});if(E.error)return G.error("No se obtuvieron resultados");console.log(E),s(E.body.data),r(E.body.pagination)})()},[h,l,a,f]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[y&&b&&c.jsx(Iw,{id:y,isOpen:b,onClose:()=>w(!1),reload:()=>g(!f)}),c.jsx(Gn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Menus"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ea,{viewType:t,onChange:e}),c.jsxs("button",{className:"btn btn-outline",children:[c.jsx(rr,{className:"h-4 w-4 mr-2"}),"Export"]}),c.jsxs("button",{className:"btn btn-primary",children:[c.jsx(Nj,{className:"h-4 w-4 mr-2"}),"Add Menu"]})]})]}),c.jsxs(Je,{children:[c.jsxs(ja,{create:!1,openModal:()=>{},param:h,setParam:d,take:_,setTake:x,skip:m,setSkip:p,reload:()=>g(!f),pagination:i,children:[c.jsx(dn,{text:"Tipo",path:V.api.endpoints.search.type,setValue:S=>u(S),uniqueId:"filterTypeMenuPage"}),c.jsx(dn,{text:"Categoría",path:V.api.endpoints.search.category,setValue:S=>o(S),uniqueId:"filterCategoryMenuPage"})]}),t==="table"?c.jsx(Tw,{reload:()=>g(!f),HandleFicha:N,menus:n}):c.jsx(Mw,{menus:n})]})]})]})},tO=()=>c.jsx("div",{className:"flex items-center justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center shadow-lg",children:c.jsx(Mj,{className:"w-10 h-10 text-white"})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"A"})})]})}),nO=({})=>{const[t,e]=j.useState({username:"",password:""}),n=Ht(),s=r=>{e(a=>({...a,[r.target.name]:r.target.value}))},i=r=>{if(r.preventDefault(),!t.username)return G.error("Campo usuario requerido");if(!t.password)return G.error("Campo contraseña requerido");(async()=>{const o=await new ip().adminLogin(t.username,t.password);return o&&o.error?G.error("Error al iniciar como admin"):o&&o.type==="error"||o&&o.code===401?G.error(o.message):(window.localStorage.setItem("comesaludable_token",o.token),window.localStorage.setItem("comesaludable_data",JSON.stringify(o.data)),n[1]("/admin"),G.success(o.message))})()};return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(tO,{}),c.jsx("h1",{className:"mt-4 text-3xl font-bold text-primary-800",children:"Admin Dashboard"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Sign in to access the admin panel"})]}),c.jsx("div",{className:"card bg-white shadow-xl rounded-xl animate-fade-in",children:c.jsxs("form",{onSubmit:i,className:"card-body p-6 sm:p-8",children:[c.jsxs("label",{children:[c.jsx("span",{className:"text-sm text-gray-600 font-semibold",children:"Correo/Usuario"}),c.jsx("input",{name:"username",onChange:s,type:"text",value:t.username,className:"w-full border focus:outline-none px-3 py-1 rounded"})]}),c.jsxs("label",{children:[c.jsx("span",{className:"text-sm text-gray-600 font-semibold",children:"Contraseña"}),c.jsx("input",{name:"password",onChange:s,type:"password",value:t.password,className:"w-full border focus:outline-none px-3 py-1 rounded"})]}),c.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:"Entrar"})]})}),c.jsx("div",{className:"mt-8 text-center text-sm text-secondary-500",children:c.jsx("p",{children:"Protected dashboard. Authorized personnel only."})})]})})},sO=({restaurant:t,openModalFicha:e})=>c.jsx("div",{className:"bg-base-100",children:c.jsxs("table",{className:"table table-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-black",children:"Code"}),c.jsx("th",{className:"text-black",children:"Nombre"}),c.jsx("th",{className:"text-black",children:"F. Creación"}),c.jsx("th",{className:"text-black",children:"U. actualización"})]})}),c.jsx("tbody",{children:t.map(n=>c.jsxs("tr",{className:"group",onClick:()=>e(n),children:[c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:n.access}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:n.name}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"updateAt"},item:n})}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"createAt"},item:n})})]}))})]})}),iO=({restaurant:t})=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>c.jsx("div",{className:"card bg-white border-t shadow-xl",children:c.jsx("div",{className:"card-body",children:c.jsxs("h3",{className:"card-title",children:[c.jsx(ba,{className:"w-5 h-5 text-green-500"}),e.name]})})},e.id))}),rO=()=>{const t=new qi,[e,n]=j.useState([]),{user:s}=it(),[i,r]=j.useState("table"),[a,o]=j.useState(""),[l,u]=j.useState({}),[h,d]=j.useState(!1),f=Ht(),[g,m]=j.useState(0),[p,_]=j.useState(10),x=y=>{f[1](`/admin/restaurants/${y.id}`)};return j.useEffect(()=>{(async()=>{const y=await t.filter({skip:g,take:p,param:a});n(y.body.data),u(y.body.pagination)})()},[a,h,g,p]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[s.access?c.jsx(Gn,{}):c.jsx(kn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Restaurantes"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx(Ea,{viewType:i,onChange:r})})]}),c.jsxs(Je,{children:[c.jsx(ja,{create:!1,openModal:()=>{},param:a,setParam:o,take:p,setTake:_,skip:g,setSkip:m,reload:()=>d(!h),pagination:l,createLink:"/admin/restaurant/create"}),i==="table"?c.jsx(sO,{openModalFicha:x,restaurant:e}):c.jsx(iO,{restaurant:e})]})]})]})},aO=({category:t,openModalFicha:e})=>c.jsx("div",{className:"bg-base-100",children:c.jsxs("table",{className:"table table-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-black",children:"Nombre"}),c.jsx("th",{className:"text-black",children:"F. Creación"}),c.jsx("th",{className:"text-black",children:"U. actualización"})]})}),c.jsx("tbody",{children:t.map(n=>c.jsxs("tr",{className:"group",onClick:()=>e(n),children:[c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:n.name}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"updateAt"},item:n})}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"createAt"},item:n})})]}))})]})}),oO=({category:t})=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>c.jsx("div",{className:"card bg-white border-t shadow-xl",children:c.jsx("div",{className:"card-body",children:c.jsxs("h3",{className:"card-title",children:[c.jsx(ba,{className:"w-5 h-5 text-green-500"}),e.name]})})},e.id))});class ul{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.core.category.create,{method:"POST"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al crear Categoría",error:!0}}}async delete({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.category.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar Categoría",error:!0}}}async filter({skip:e,take:n,param:s}){try{return await(await this.fetchWith(`${V.api.endpoints.core.category.paginate}/?skip=${e}&take=${n}&param=${s}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar Categoría",error:!0}}}async find({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.category.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar Categoría",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.core.category.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar Categoría",error:!1}}}}const lO=({reload:t,onClose:e})=>{const[n,s]=j.useState({name:""}),[i,r]=j.useState({}),[a,o]=_e.useState(!1),l=u=>{if(u.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const d=await new ul().create({data:n});return d.error?G.error(typeof d.message=="string"?d.message:d.message[0]):(e(),t(),G.success(typeof d.message=="string"?d.message:d.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Categoría"}),c.jsxs("form",{onSubmit:l,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",onChange:u=>s({name:u.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a||n.name.length<2,children:a?"Creando...":"Crear"})})]})]})})},cO=({reload:t,onClose:e,customData:n})=>{const[s,i]=j.useState(n),[r,a]=j.useState({}),[o,l]=_e.useState(null),u=d=>{if(d.preventDefault(),l("update"),!s.name)return a({name:{message:"Nombre requerido"}});(async()=>{const g=await new ul().update({data:s,id:n.id});return g.error?G.error(typeof g.message=="string"?g.message:g.message[0]):(e(),t(),G.success(typeof g.message=="string"?g.message:g.message[0]))})()},h=()=>{l("_delete"),(async()=>{const f=await new ul().delete({id:n.id});return f.error?G.error(typeof f.message=="string"?f.message:f.message[0]):(e(),t(),G.success(typeof f.message=="string"?f.message:f.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:o==="delete"?`Eliminar "${s.name}"`:o==="update"?`Actualizar "${s.name}"`:`Ficha "${s.name}"`}),o==="delete"||o==="_delete"?c.jsxs("div",{className:"grid place-content-center place-items-center",children:[c.jsxs("h4",{className:"text-xl font-bold text-gray-600",children:['¿Seguro que desea eliminar "',s.name,'"?']}),c.jsx("h6",{className:"text-sm font-bold text-gray-500",children:"luego de eliminarlo no se podrá recuperar"}),c.jsx("button",{onClick:h,type:"button",className:`mt-3 btn btn-sm btn-outline btn-error ${o==="_delete"?"loading":""}`,children:o==="_delete"?"Eliminando...":"Eliminar"})]}):c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",value:s.name,onChange:d=>i({name:d.target.value}),placeholder:"Nombre",className:`input input-bordered ${r.name?"input-error":""}`}),r.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:r.name.message})})]}),c.jsxs("div",{className:"form-control mt-6 grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>l("delete"),type:"button",className:` btn btn-sm btn-outline btn-error ${o?"loading":""}`,children:o?"Eliminando...":"Eliminar"}),c.jsx("button",{type:"submit",className:` btn btn-sm btn-primary ${o?"loading":""}`,disabled:o&&o==="update"||s.name.length<2,children:o?"Actualizando...":"Actualizar"})]})]}),c.jsxs("ul",{className:"px-5 mt-4",children:[c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Creación: ",vt({extractBy:{stractBy:"createAt",type:"date"},item:n})]}),c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Actualización: ",vt({extractBy:{stractBy:"updateAt",type:"date"},item:n})]})]})]})})},uO=()=>{const[t,e]=_e.useState(!1),[n,s]=_e.useState(!1),i=new ul,[r,a]=j.useState([]),{user:o}=it(),[l,u]=j.useState("table"),[h,d]=j.useState(""),[f,g]=j.useState({}),[m,p]=j.useState(!1),[_,x]=j.useState(null),[y,v]=j.useState(0),[b,w]=j.useState(10),N=S=>{x(S),s(!0)};return j.useEffect(()=>{(async()=>{const S=await i.filter({skip:y,take:b,param:h});a(S.body.data),g(S.body.pagination)})()},[h,m,y,b]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[t&&c.jsx(lO,{isOpen:t,onClose:()=>e(!1),reload:()=>p(!m)}),n&&c.jsx(cO,{isOpen:t,customData:_,onClose:()=>s(!1),reload:()=>p(!m)}),o.access?c.jsx(Gn,{}):c.jsx(kn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categorías"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx(Ea,{viewType:l,onChange:u})})]}),c.jsxs(Je,{children:[c.jsx(ja,{create:!0,openModal:()=>e(!0),param:h,setParam:d,take:b,setTake:w,skip:y,setSkip:v,reload:()=>p(!m),pagination:f}),l==="table"?c.jsx(aO,{openModalFicha:N,category:r}):c.jsx(oO,{category:r})]})]})]})},hO=({type:t,openModalFicha:e})=>c.jsx("div",{className:"bg-base-100",children:c.jsxs("table",{className:"table table-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-black",children:"Nombre"}),c.jsx("th",{className:"text-black",children:"F. Creación"}),c.jsx("th",{className:"text-black",children:"U. actualización"})]})}),c.jsx("tbody",{children:t.map(n=>c.jsxs("tr",{className:"group",onClick:()=>e(n),children:[c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:n.name}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"updateAt"},item:n})}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"createAt"},item:n})})]}))})]})}),dO=({type:t})=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>c.jsx("div",{className:"card bg-white border-t shadow-xl",children:c.jsx("div",{className:"card-body",children:c.jsxs("h3",{className:"card-title",children:[c.jsx(ba,{className:"w-5 h-5 text-green-500"}),e.name]})})},e.id))}),fO=({onClose:t,reload:e})=>{const[n,s]=j.useState({name:""}),[i,r]=j.useState({}),[a,o]=_e.useState(!1),l=u=>{if(u.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const d=await new ul().create({data:n});return d.error?G.error(typeof d.message=="string"?d.message:d.message[0]):(t(),e(),G.success(typeof d.message=="string"?d.message:d.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:t,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Categoría"}),c.jsxs("form",{onSubmit:l,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",onChange:u=>s({name:u.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a||n.name.length<2,children:a?"Creando...":"Crear"})})]})]})})};class _g{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.core.type.create,{method:"POST"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al crear tipo",error:!0}}}async delete({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.type.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar tipo",error:!0}}}async filter({skip:e,take:n,param:s}){try{return await(await this.fetchWith(`${V.api.endpoints.core.type.paginate}/?skip=${e}&take=${n}&param=${s}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar tipo",error:!0}}}async find({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.type.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar tipo",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.core.type.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar tipo",error:!1}}}}const gO=({reload:t,onClose:e,customData:n})=>{const[s,i]=j.useState(n),[r,a]=j.useState({}),[o,l]=_e.useState(null),u=d=>{if(d.preventDefault(),l("update"),!s.name)return a({name:{message:"Nombre requerido"}});(async()=>{const g=await new _g().update({data:s,id:n.id});return g.error?G.error(typeof g.message=="string"?g.message:g.message[0]):(e(),t(),G.success(typeof g.message=="string"?g.message:g.message[0]))})()},h=()=>{l("_delete"),(async()=>{const f=await new _g().delete({id:n.id});return f.error?G.error(typeof f.message=="string"?f.message:f.message[0]):(e(),t(),G.success(typeof f.message=="string"?f.message:f.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:o==="delete"?`Eliminar "${s.name}"`:o==="update"?`Actualizar "${s.name}"`:`Ficha "${s.name}"`}),o==="delete"||o==="_delete"?c.jsxs("div",{className:"grid place-content-center place-items-center",children:[c.jsxs("h4",{className:"text-xl font-bold text-gray-600",children:['¿Seguro que desea eliminar "',s.name,'"?']}),c.jsx("h6",{className:"text-sm font-bold text-gray-500",children:"luego de eliminarlo no se podrá recuperar"}),c.jsx("button",{onClick:h,type:"button",className:`mt-3 btn btn-sm btn-outline btn-error ${o==="_delete"?"loading":""}`,children:o==="_delete"?"Eliminando...":"Eliminar"})]}):c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",value:s.name,onChange:d=>i({name:d.target.value}),placeholder:"Nombre",className:`input input-bordered ${r.name?"input-error":""}`}),r.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:r.name.message})})]}),c.jsxs("div",{className:"form-control mt-6 grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>l("delete"),type:"button",className:` btn btn-sm btn-outline btn-error ${o?"loading":""}`,children:o?"Eliminando...":"Eliminar"}),c.jsx("button",{type:"submit",className:` btn btn-sm btn-primary ${o?"loading":""}`,disabled:o&&o==="update"||s.name.length<2,children:o?"Actualizando...":"Actualizar"})]})]}),c.jsxs("ul",{className:"px-5 mt-4",children:[c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Creación: ",vt({extractBy:{stractBy:"createAt",type:"date"},item:n})]}),c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Actualización: ",vt({extractBy:{stractBy:"updateAt",type:"date"},item:n})]})]})]})})},mO=()=>{const[t,e]=_e.useState(!1),[n,s]=_e.useState(!1),i=new _g,[r,a]=j.useState([]),{user:o}=it(),[l,u]=j.useState("table"),[h,d]=j.useState({}),[f,g]=j.useState(!1),[m,p]=j.useState(""),[_,x]=j.useState(null),[y,v]=j.useState(0),[b,w]=j.useState(10),N=S=>{x(S),s(!0)};return j.useEffect(()=>{(async()=>{const S=await i.filter({skip:y,take:b,param:m});a(S.body.data),d(S.body.pagination)})()},[m,f,y,b]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[t&&c.jsx(fO,{isOpen:t,onClose:()=>e(!1),reload:()=>g(!f)}),n&&c.jsx(gO,{isOpen:t,customData:_,onClose:()=>s(!1),reload:()=>g(!f)}),o.access?c.jsx(Gn,{}):c.jsx(kn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tipos"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx(Ea,{viewType:l,onChange:u})})]}),c.jsxs(Je,{children:[c.jsx(ja,{openModal:()=>e(!0),create:!0,param:m,setParam:p,take:b,setTake:w,skip:y,setSkip:v,reload:()=>{},pagination:h}),l==="table"?c.jsx(hO,{openModalFicha:N,type:r}):c.jsx(dO,{type:r})]})]})]})};class Ou{async fetchWith(e,n={},s){var a;const i=`${V.api.baseUrl}${e}`;if(console.log(i,s),!n||((a=n.method)==null?void 0:a.toUpperCase())=="GET"){const o=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers}});if(!o.ok){const l=await o.json();throw new Error(l.message||"An error occurred")}return o}const r=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n.headers},body:s});if(!r.ok){const o=await r.json();throw new Error(o.message||"An error occurred")}return r}async create({data:e}){try{return await(await this.fetchWith(V.api.endpoints.core.environment.create,{method:"POST"},JSON.stringify(e))).json()}catch{return{body:{},message:"Error al crear Categoría",error:!0}}}async delete({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.environment.delete(e),{method:"DELETE"})).json()}catch{return{body:{},message:"Error al eliminar Categoría",error:!0}}}async filter({skip:e,take:n,param:s}){try{return await(await this.fetchWith(`${V.api.endpoints.core.environment.paginate}/?skip=${e}&take=${n}&param=${s}`,{method:"GET"})).json()}catch{return{body:{},message:"Error al filtrar Categoría",error:!0}}}async find({id:e}){try{return await(await this.fetchWith(V.api.endpoints.core.environment.find(e),{method:"GET"})).json()}catch{return{body:{},message:"Error al buscar Categoría",error:!0}}}async update({data:e,id:n}){try{return await(await this.fetchWith(V.api.endpoints.core.environment.update(n),{method:"PUT"},JSON.stringify(e))).json()}catch(s){return console.log(s),{body:{},message:"Error al actualizar Categoría",error:!1}}}}const pO=({environment:t,openModalFicha:e})=>c.jsx("div",{className:"bg-base-100",children:c.jsxs("table",{className:"table table-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-black",children:"Nombre"}),c.jsx("th",{className:"text-black",children:"F. Creación"}),c.jsx("th",{className:"text-black",children:"U. actualización"})]})}),c.jsx("tbody",{children:t.map(n=>c.jsxs("tr",{className:"group",onClick:()=>e(n),children:[c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:n.name}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"updateAt"},item:n})}),c.jsx("td",{className:"group-hover:bg-gray-200 duration-200 text-gray-500 font-semibold",children:vt({extractBy:{type:"date",stractBy:"createAt"},item:n})})]}))})]})}),xO=({environment:t})=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>c.jsx("div",{className:"card bg-white border-t shadow-xl",children:c.jsx("div",{className:"card-body",children:c.jsxs("h3",{className:"card-title",children:[c.jsx(ba,{className:"w-5 h-5 text-green-500"}),e.name]})})},e.id))}),yO=({onClose:t,reload:e})=>{const[n,s]=j.useState({name:""}),[i,r]=j.useState({}),[a,o]=_e.useState(!1),l=u=>{if(u.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const d=await new Ou().create({data:n});return d.error?G.error(typeof d.message=="string"?d.message:d.message[0]):(t(),e(),G.success(typeof d.message=="string"?d.message:d.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:t,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Categoría"}),c.jsxs("form",{onSubmit:l,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",onChange:u=>s({name:u.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a||n.name.length<2,children:a?"Creando...":"Crear"})})]})]})})},_O=({reload:t,onClose:e,customData:n})=>{const[s,i]=j.useState(n),[r,a]=j.useState({}),[o,l]=_e.useState(null),u=d=>{if(d.preventDefault(),l("update"),!s.name)return a({name:{message:"Nombre requerido"}});(async()=>{const g=await new Ou().update({data:s,id:n.id});return g.error?G.error(typeof g.message=="string"?g.message:g.message[0]):(e(),t(),G.success(typeof g.message=="string"?g.message:g.message[0]))})()},h=()=>{l("_delete"),(async()=>{const f=await new Ou().delete({id:n.id});return f.error?G.error(typeof f.message=="string"?f.message:f.message[0]):(e(),t(),G.success(typeof f.message=="string"?f.message:f.message[0]))})()};return c.jsx("div",{className:"modal modal-open",children:c.jsxs("div",{className:"modal-box relative",children:[c.jsx("button",{onClick:e,className:"btn btn-sm btn-circle absolute right-2 top-2",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-lg mb-4",children:o==="delete"?`Eliminar "${s.name}"`:o==="update"?`Actualizar "${s.name}"`:`Ficha "${s.name}"`}),o==="delete"||o==="_delete"?c.jsxs("div",{className:"grid place-content-center place-items-center",children:[c.jsxs("h4",{className:"text-xl font-bold text-gray-600",children:['¿Seguro que desea eliminar "',s.name,'"?']}),c.jsx("h6",{className:"text-sm font-bold text-gray-500",children:"luego de eliminarlo no se podrá recuperar"}),c.jsx("button",{onClick:h,type:"button",className:`mt-3 btn btn-sm btn-outline btn-error ${o==="_delete"?"loading":""}`,children:o==="_delete"?"Eliminando...":"Eliminar"})]}):c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"name",value:s.name,onChange:d=>i({name:d.target.value}),placeholder:"Nombre",className:`input input-bordered ${r.name?"input-error":""}`}),r.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:r.name.message})})]}),c.jsxs("div",{className:"form-control mt-6 grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>l("delete"),type:"button",className:` btn btn-sm btn-outline btn-error ${o?"loading":""}`,children:o?"Eliminando...":"Eliminar"}),c.jsx("button",{type:"submit",className:` btn btn-sm btn-primary ${o?"loading":""}`,disabled:o&&o==="update"||s.name.length<2,children:o?"Actualizando...":"Actualizar"})]})]}),c.jsxs("ul",{className:"px-5 mt-4",children:[c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Creación: ",vt({extractBy:{stractBy:"createAt",type:"date"},item:n})]}),c.jsxs("li",{className:"list-disc text-gray-600 text-xs",children:["Actualización: ",vt({extractBy:{stractBy:"updateAt",type:"date"},item:n})]})]})]})})},vO=()=>{const[t,e]=_e.useState(!1),[n,s]=_e.useState(!1),i=new Ou,[r,a]=j.useState([]),{user:o}=it(),[l,u]=j.useState("table"),[h,d]=j.useState({}),[f,g]=j.useState(""),[m,p]=j.useState(!1),[_,x]=j.useState(null),[y,v]=j.useState(0),[b,w]=j.useState(10),N=S=>{x(S),s(!0)};return j.useEffect(()=>{(async()=>{const S=await i.filter({skip:y,take:b,param:f});if(S.error)return G.error(typeof S.message=="string"?S.message:S.message[0]);a(S.body.data),d(S.body.pagination)})()},[f,m,y,b]),c.jsxs("div",{className:"min-h-screen bg-base-100",children:[t&&c.jsx(yO,{isOpen:t,onClose:()=>e(!1),reload:()=>p(!m)}),n&&c.jsx(_O,{isOpen:t,customData:_,onClose:()=>s(!1),reload:()=>p(!m)}),o.access?c.jsx(Gn,{}):c.jsx(kn,{}),c.jsxs("div",{className:"space-y-6 animate-fade-in w-[90%] m-auto mt-11",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ambiente"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx(Ea,{viewType:l,onChange:u})})]}),c.jsxs(Je,{children:[c.jsx(ja,{create:!0,openModal:()=>e(!0),param:f,setParam:g,take:b,setTake:w,skip:y,setSkip:v,reload:()=>{},pagination:h}),l==="table"?c.jsx(pO,{openModalFicha:N,environment:r}):c.jsx(xO,{environment:r})]})]})]})},bO=()=>{const{id:t}=xl();return c.jsx(Aw,{id:t,update:!0})},wO=()=>{const t=Ht(),[e,n]=j.useState(null),[s,i]=j.useState({}),[r,a]=_e.useState(!1),[o,l]=j.useState([]),u=j.useRef(null),h=m=>n({...e,typeId:m}),d=m=>n({...e,environmentId:m}),f=m=>{l(p=>[...p,m]),u.current&&(u.current.value="")},g=m=>{if(m.preventDefault(),a(!0),!e.name)return i({name:{message:"Nombre requerido"}});(async()=>{const _=await new qi().create({data:{...e,tag:o}});return _.error?G.error(typeof _.message=="string"?_.message:_.message[0]):(t[1]("/admin/restaurants"),G.success(typeof _.message=="string"?_.message:_.message[0]))})()};return c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(kn,{}),c.jsxs("div",{className:"relative p-5 lg:px-10 bg-white mx-5 shadow mt-5",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Restaurant"}),c.jsxs("form",{onSubmit:g,className:"grid lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"text",onChange:m=>n({...e,name:m.target.value}),placeholder:"Nombre",className:`input input-bordered ${s.name?"input-error":""}`}),s.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.name.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Tipo"})}),c.jsx(dn,{path:V.api.endpoints.search.type,setValue:h,uniqueId:"restaurantType"})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Ambiente"})}),c.jsx(dn,{path:V.api.endpoints.search.environment,setValue:d,uniqueId:"restaurantEnvironment"})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Dirección"})}),c.jsx("textarea",{onChange:m=>n({...e,address:m.target.value}),placeholder:"Dirección",className:`textarea textarea-bordered max-h-32 ${s.address?"input-error":""}`}),s.address&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.address.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Horario"})}),c.jsx("textarea",{onChange:m=>n({...e,horario:m.target.value}),placeholder:"Horario",className:`textarea textarea-bordered max-h-32 ${s.horario?"input-error":""}`}),s.horario&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.horario.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Presentación"})}),c.jsx("textarea",{onChange:m=>n({...e,about:m.target.value}),placeholder:"Presentación",className:`textarea textarea-bordered max-h-32 ${s.about?"input-error":""}`}),s.about&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.about.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Teléfono"})}),c.jsx("input",{type:"text",onChange:m=>n({...e,phone:m.target.value}),placeholder:"Teléfono",className:`input input-bordered ${s.phone?"input-error":""}`}),s.phone&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.phone.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Website"})}),c.jsx("input",{type:"text",onChange:m=>n({...e,website:m.target.value}),placeholder:"Website",className:`input input-bordered ${s.website?"input-error":""}`}),s.website&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.website.message})})]}),c.jsxs("div",{className:"form-control col-span-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Palabras clave"})}),c.jsx("input",{ref:u,type:"text",onKeyDown:m=>{u.current&&m.key===" "&&f(u.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${s.tags?"input-error":""}`}),s.tags&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:s.tags.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:o&&o.map(m=>c.jsx("button",{type:"button",onClick:()=>l(o.filter(p=>p!==m)),className:"badge",children:m}))})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${r?"loading":""}`,disabled:r,children:r?"Creando...":"Crear"})})]})]})]})},SO=()=>{const{id:t}=xl(),e=Ht(),[n,s]=j.useState(null),[i,r]=j.useState({}),[a,o]=_e.useState(!1),[l,u]=j.useState([]),h=j.useRef(null),[d,f]=j.useState([]),g=j.useRef(null),[m,p]=j.useState([]),_=j.useRef(null),x=S=>s({...n,typeId:S}),y=S=>s({...n,categoryId:S}),v=S=>{u(E=>[...E,S]),h.current&&(h.current.value="")},b=S=>{f(E=>[...E,S]),g.current&&(g.current.value="")},w=S=>{p(E=>[...E,S]),_.current&&(_.current.value="")},N=S=>{if(S.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const C=await new ui().create({data:{...n,price:Number(n.price),forPeople:Number(n.forPeople),tags:l,ingredients:m,allergens:d,restaurantId:t}});return C.error?G.error(typeof C.message=="string"?C.message:C.message[0]):(e[1]("/admin/menus"),G.success(typeof C.message=="string"?C.message:C.message[0]))})()};return c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(kn,{}),c.jsxs("div",{className:"relative p-5 lg:px-10 bg-white mx-5 shadow mt-5",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Menú"}),c.jsxs("form",{onSubmit:N,className:"grid lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"text",onChange:S=>s({...n,name:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Tipo"})}),c.jsx(dn,{path:V.api.endpoints.search.type,setValue:x,uniqueId:"menuType"})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cateogría"})}),c.jsx(dn,{path:V.api.endpoints.search.category,setValue:y,uniqueId:"menuCategory"})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Preparación"})}),c.jsx("textarea",{onChange:S=>s({...n,preparation:S.target.value}),placeholder:"Preparación",className:`textarea textarea-bordered max-h-32 ${i.preaparation?"input-error":""}`}),i.preaparation&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.preaparation.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Presentación"})}),c.jsx("textarea",{onChange:S=>s({...n,about:S.target.value}),placeholder:"Presentación",className:`textarea textarea-bordered max-h-32 ${i.about?"input-error":""}`}),i.about&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.about.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Costo"})}),c.jsx("input",{type:"text",onChange:S=>s({...n,price:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.price?"input-error":""}`}),i.price&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.price.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cantidad de Personas"})}),c.jsx("input",{type:"text",onChange:S=>s({...n,forPeople:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.forPeople?"input-error":""}`}),i.forPeople&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.forPeople.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Palabras clave"})}),c.jsx("input",{ref:h,type:"text",onKeyDown:S=>{h.current&&S.key===" "&&v(h.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.tags?"input-error":""}`}),i.tags&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.tags.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:l&&l.map(S=>c.jsx("button",{type:"button",onClick:()=>u(l.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Alergenos"})}),c.jsx("input",{ref:g,type:"text",onKeyDown:S=>{g.current&&S.key===" "&&b(g.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.allergens?"input-error":""}`}),i.allergens&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.allergens.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:d&&d.map(S=>c.jsx("button",{type:"button",onClick:()=>f(d.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Ingredientes"})}),c.jsx("input",{ref:_,type:"text",onKeyDown:S=>{_.current&&S.key===" "&&w(_.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.ingredients?"input-error":""}`}),i.ingredients&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.ingredients.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:m&&m.map(S=>c.jsx("button",{type:"button",onClick:()=>p(m.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsxs("div",{className:"form-control mt-6",children:[c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a,children:a?"Creando...":"Crear"}),c.jsx("button",{type:"submit",children:"enviar"})]})]})]})]})},EO=()=>{const{id:t}=xl(),e=Ht(),[n,s]=j.useState(null),[i,r]=j.useState({}),[a,o]=_e.useState(!1),[l,u]=j.useState([]),h=j.useRef(null),[d,f]=j.useState([]),g=j.useRef(null),[m,p]=j.useState([]),_=j.useRef(null);j.useEffect(()=>{(async()=>{const E=await new ui().find({id:t});if(E.error)return e[1]("/admin/menus"),G.error("Error temporal");const C=E.body;s(C),console.log(C),u(C.tags),f(C.allergens),p(C.ingredients)})()},[]);const x=S=>s({...n,typeId:S}),y=S=>s({...n,categoryId:S}),v=S=>{u(E=>[...E,S]),h.current&&(h.current.value="")},b=S=>{f(E=>[...E,S]),g.current&&(g.current.value="")},w=S=>{p(E=>[...E,S]),_.current&&(_.current.value="")},N=S=>{if(S.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const C=await new ui().update({id:t,data:{...n,price:Number(n.price),forPeople:Number(n.forPeople),tags:l,ingredients:m,allergens:d,restaurantId:t}});return C.error?G.error(typeof C.message=="string"?C.message:C.message[0]):(e[1]("/admin/menus"),G.success(typeof C.message=="string"?C.message:C.message[0]))})()};return n?c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(kn,{}),c.jsxs("div",{className:"relative p-5 lg:px-10 bg-white mx-5 shadow mt-5",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Actualizar Menú"}),c.jsxs("form",{onSubmit:N,className:"grid lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"text",value:n.name,onChange:S=>s({...n,name:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Tipo"})}),c.jsx(dn,{path:V.api.endpoints.search.type,setValue:x,uniqueId:"menuType"})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cateogría"})}),c.jsx(dn,{path:V.api.endpoints.search.category,setValue:y,uniqueId:"menuCategory"})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Preparación"})}),c.jsx("textarea",{onChange:S=>s({...n,preparation:S.target.value}),placeholder:"Preparación",value:n.preparation,className:`textarea textarea-bordered max-h-32 ${i.preaparation?"input-error":""}`}),i.preaparation&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.preaparation.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Presentación"})}),c.jsx("textarea",{onChange:S=>s({...n,about:S.target.value}),placeholder:"Presentación",value:n.about,className:`textarea textarea-bordered max-h-32 ${i.about?"input-error":""}`}),i.about&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.about.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Costo"})}),c.jsx("input",{type:"text",value:n.price,onChange:S=>s({...n,price:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.price?"input-error":""}`}),i.price&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.price.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cantidad de Personas"})}),c.jsx("input",{type:"text",value:n.forPeople,onChange:S=>s({...n,forPeople:S.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.forPeople?"input-error":""}`}),i.forPeople&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.forPeople.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Palabras clave"})}),c.jsx("input",{ref:h,type:"text",onKeyDown:S=>{h.current&&S.key===" "&&v(h.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.tags?"input-error":""}`}),i.tags&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.tags.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:l&&l.map(S=>c.jsx("button",{type:"button",onClick:()=>u(l.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Alergenos"})}),c.jsx("input",{ref:g,type:"text",onKeyDown:S=>{g.current&&S.key===" "&&b(g.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.allergens?"input-error":""}`}),i.allergens&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.allergens.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:d&&d.map(S=>c.jsx("button",{type:"button",onClick:()=>f(d.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Ingredientes"})}),c.jsx("input",{ref:_,type:"text",onKeyDown:S=>{_.current&&S.key===" "&&w(_.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.ingredients?"input-error":""}`}),i.ingredients&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.ingredients.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:m&&m.map(S=>c.jsx("button",{type:"button",onClick:()=>p(m.filter(E=>E!==S)),className:"badge",children:S}))})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a,children:a?"Actualizando...":"Actualizar"})})]})]})]}):c.jsx("span",{children:"cargando"})},jO=()=>{const{id:t}=xl(),e=Ht(),[n,s]=j.useState(null),[i,r]=j.useState({}),[a,o]=_e.useState(!1),[l,u]=j.useState([]),h=j.useRef(null);j.useEffect(()=>{(async()=>{const _=await new qi().find({id:t});s(_.body),console.log(_),u(_.body.tag)})()},[]);const d=p=>s({...n,typeId:p}),f=p=>s({...n,environmentId:p}),g=p=>{u(_=>[..._,p]),h.current&&(h.current.value="")},m=p=>{if(p.preventDefault(),o(!0),!n.name)return r({name:{message:"Nombre requerido"}});(async()=>{const x=await new qi().update({id:t,data:{...n,tag:l}});return x.error?G.error(typeof x.message=="string"?x.message:x.message[0]):(e[1]("/admin/restaurants"),G.success(typeof x.message=="string"?x.message:x.message[0]))})()};return n&&c.jsxs("div",{className:"min-h-screen bg-base-100",children:[c.jsx(kn,{}),c.jsxs("div",{className:"relative p-5 lg:px-10 bg-white mx-5 shadow mt-5",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Restaurant"}),c.jsxs("form",{onSubmit:m,className:"grid lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Nombre"})}),c.jsx("input",{type:"text",value:n.name,onChange:p=>s({...n,name:p.target.value}),placeholder:"Nombre",className:`input input-bordered ${i.name?"input-error":""}`}),i.name&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.name.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Tipo"})}),c.jsx(dn,{path:V.api.endpoints.search.type,setValue:d,uniqueId:"restaurantType"})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Ambiente"})}),c.jsx(dn,{path:V.api.endpoints.search.environment,setValue:f,uniqueId:"restaurantEnvironment"})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Dirección"})}),c.jsx("textarea",{value:n.address,onChange:p=>s({...n,address:p.target.value}),placeholder:"Dirección",className:`textarea textarea-bordered max-h-32 ${i.address?"input-error":""}`}),i.address&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.address.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Horario"})}),c.jsx("textarea",{value:n.horario,onChange:p=>s({...n,horario:p.target.value}),placeholder:"Horario",className:`textarea textarea-bordered max-h-32 ${i.horario?"input-error":""}`}),i.horario&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.horario.message})})]}),c.jsxs("div",{className:"form-control col-span-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Presentación"})}),c.jsx("textarea",{value:n.about,onChange:p=>s({...n,about:p.target.value}),placeholder:"Presentación",className:`textarea textarea-bordered max-h-32 ${i.about?"input-error":""}`}),i.about&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.about.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Teléfono"})}),c.jsx("input",{type:"text",value:n.phone,onChange:p=>s({...n,phone:p.target.value}),placeholder:"Teléfono",className:`input input-bordered ${i.phone?"input-error":""}`}),i.phone&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.phone.message})})]}),c.jsxs("div",{className:"form-control col-span-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Website"})}),c.jsx("input",{type:"text",value:n.website,onChange:p=>s({...n,website:p.target.value}),placeholder:"Website",className:`input input-bordered ${i.website?"input-error":""}`}),i.website&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.website.message})})]}),c.jsxs("div",{className:"form-control col-span-4",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Palabras clave"})}),c.jsx("input",{ref:h,type:"text",onKeyDown:p=>{h.current&&p.key===" "&&g(h.current.value)},placeholder:"Palabras clave",className:`input input-bordered ${i.tags?"input-error":""}`}),i.tags&&c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:i.tags.message})}),c.jsx("div",{className:"flex justify-start gap-3 mt-3",children:l&&l.map(p=>c.jsx("button",{type:"button",onClick:()=>u(l.filter(_=>_!==p)),className:"badge",children:p}))})]}),c.jsx("div",{className:"form-control mt-6",children:c.jsx("button",{type:"submit",className:`btn btn-sm btn-primary ${a?"loading":""}`,disabled:a,children:a?"Creando...":"Crear"})})]})]})]})};function NO(){const[t,e]=_e.useState(!1),[n,s]=_e.useState(!1),[i,r]=_e.useState(!1),a=Ht(),o=l=>{alert(l),a[1](l,{replace:!0})};return c.jsxs(c.Fragment,{children:[c.jsx(gI,{isOpen:t,onClose:()=>e(!1),onRegisterClick:()=>{e(!1),s(!0)},redirect:o}),c.jsx(mI,{isOpen:n,onClose:()=>s(!1),onLoginClick:()=>{s(!1),e(!0)},redirect:o}),c.jsx(pI,{isOpen:i,onClose:()=>r(!1),redirect:o}),c.jsx(De,{path:"/",children:c.jsx(SM,{onLoginClick:()=>e(!0),onRegisterClick:()=>s(!0),onRestaurantLoginClick:()=>r(!0)})}),c.jsx(De,{path:"/admin/login",children:c.jsx(nO,{})}),c.jsx(De,{path:"/search",children:c.jsx(TI,{})}),c.jsx(De,{path:"/admin",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(wI,{})})}),c.jsx(De,{path:"/admin/menus",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(Pw,{})})}),c.jsx(De,{path:"/admin/menus/:id",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(EO,{})})}),c.jsx(De,{path:"/admin/environment",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(vO,{})})}),c.jsx(De,{path:"/admin/restaurants",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(rO,{})})}),c.jsx(De,{path:"/admin/restaurant/create",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(wO,{})})}),c.jsx(De,{path:"/admin/restaurant/update/:id",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(jO,{})})}),c.jsx(De,{path:"/admin/restaurants/:id",children:c.jsx(bO,{})}),c.jsx(De,{path:"/admin/category",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(uO,{})})}),c.jsx(De,{path:"/admin/type",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(mO,{})})}),c.jsx(De,{path:"/admin/restaurant/:id/menu/create",children:c.jsx(ot,{role:Be.ADMIN,children:c.jsx(SO,{})})}),c.jsx(De,{path:"/restaurant",children:c.jsx(ot,{role:Be.RESTAURANT,children:c.jsx(SI,{})})}),c.jsx(De,{path:"/restaurant/profile",children:c.jsx(ot,{role:Be.RESTAURANT,children:c.jsx(ZI,{})})}),c.jsx(De,{path:"/restaurant/menus",children:c.jsx(ot,{role:Be.RESTAURANT,children:c.jsx(eO,{})})}),c.jsx(De,{path:"/restaurant/report",children:c.jsx(ot,{role:Be.RESTAURANT,children:c.jsx(QD,{})})}),c.jsx(De,{path:"/restaurant/analytic",children:c.jsx(ot,{role:Be.RESTAURANT,children:c.jsx(UD,{})})}),c.jsx(De,{path:"/profile",children:c.jsx(ot,{role:Be.CUSTOMER,children:c.jsx(RI,{})})})]})}Iv(document.getElementById("root")).render(c.jsx(wN,{children:c.jsxs(zj,{children:[c.jsx(NO,{}),c.jsx(fI,{position:"top-right"})]})}));
